!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],t):t((e=e||self)["@uirouter/angularjs"]={},e.angular)}(this,function(f,V){"use strict";var N=angular,S=V&&V.module?V:N,L=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};function F(n){return function e(){var t;return arguments.length>=n.length?n.apply(this,arguments):(t=Array.prototype.slice.call(arguments),e.bind.apply(e,L([this],t)))}}function j(){var n=arguments,i=n.length-1;return function(){for(var e=i,t=n[i].apply(this,arguments);e--;)t=n[e].call(this,t);return t}}function Y(){for(var e=0;e<arguments.length;e++)e,0;return j.apply(null,[].slice.call(arguments).reverse())}var v=function(t){return function(e){return e&&e[t]}},H=F(function(e,t,n){return n&&n[e]===t}),C=function(e){return Y.apply(null,e.split(".").map(v))},U=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!n.apply(null,e)}};function q(n,i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,e)&&i.apply(null,e)}}function z(n,i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,e)||i.apply(null,e)}}function B(n){return function(e){return e.reduce(function(e,t){return e&&!!n(t)},!0)}}function W(n){return function(e){return e.reduce(function(e,t){return e||!!n(t)},!1)}}function G(t){return function(e){return t===e}}var a=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},s=function(e){return function(){return e}};function K(t,n){return function(e){return e[t].apply(e,n)}}function Q(n){return function(e){for(var t=0;t<n.length;t++)if(n[t][0](e))return n[t][1](e)}}function Z(t){return function(e){return typeof e===t}}function X(e){return"[object Date]"===ee.call(e)}function J(e){return"[object RegExp]"===ee.call(e)}var ee=Object.prototype.toString,te=Z("undefined"),k=U(te),ne=function(e){return null===e},ie=z(ne,te),d=Z("function"),re=Z("number"),y=Z("string"),w=function(e){return null!==e&&"object"==typeof e},b=Array.isArray;function oe(e){var t,n;return b(e)&&e.length?(t=e.slice(0,-1),n=e.slice(-1),!(t.filter(U(y)).length||n.filter(U(d)).length)):d(e)}function ae(i,e){return e.reduce(function(e,t){return e[t]=(n=i+"."+t+"()",function(){throw new Error("No implementation for "+n+". The framework specific code did not implement this method.")}),e;var n},{})}var se=q(w,Y(v("then"),d)),c={$q:void 0,$injector:void 0},le=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},ue="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,V=ue.angular||{},N=V.fromJson||JSON.parse.bind(JSON),ce=V.toJson||JSON.stringify.bind(JSON),de=V.forEach||function(t,n,e){if(b(t))return t.forEach(n,e);Object.keys(t).forEach(function(e){return n(t[e],e)})},$=Object.assign||qe,pe=V.equals||ze;function _(e){return e}function D(){}function he(t,i,n,e,r){void 0===r&&(r=!1);function o(e){return t()[e].bind(n())}return(e=e||Object.keys(t())).reduce(function(e,t){var n;return e[t]=r?(n=t,function(){return i[n]=o(n),i[n].apply(null,arguments)}):o(t),e},i)}var fe=function(e,t){return $(Object.create(e),t)},ge=F(me);function me(e,t){return-1!==e.indexOf(t)}var x=F(ve);function ve(e,t){t=e.indexOf(t);return 0<=t&&e.splice(t,1),e}var ye=F(we);function we(e,t){return e.push(t),t}function be(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),x(t,e)})}function $e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=$.apply(void 0,le([{}],t.reverse()));return $(i,Ce(e||{},Object.keys(i)))}function _e(e,t){return $(e,t)}function Se(e,t){var n,i=[];for(n in e.path){if(e.path[n]!==t.path[n])break;i.push(e.path[n])}return i}function Ce(e,t){var n,i={};for(n in e)-1!==t.indexOf(n)&&(i[n]=e[n]);return i}function ke(n,e){return Object.keys(n).filter(U(ge(e))).reduce(function(e,t){return e[t]=n[t],e},{})}function De(e,t){return O(e,v(t))}function xe(e,n){var t=b(e),i=t?[]:{},r=t?function(e){return i.push(e)}:function(e,t){return i[t]=e};return de(e,function(e,t){n(e,t)&&r(e,t)}),i}function Oe(e,n){var i;return de(e,function(e,t){i||n(e,t)&&(i=e)}),i}var Te=O;function O(e,n,i){return i=i||(b(e)?[]:{}),de(e,function(e,t){return i[t]=n(e,t)}),i}function Ae(e,t){return e&&t}function Ee(e,t){return e||t}function Pe(e,t){return b(t)?e.concat(t.reduce(Pe,[])):Me(e,t)}var Re=function(t){return Object.keys(t).map(function(e){return t[e]})},T=function(e,t){return e.concat(t)};function Me(e,t){return e.push(t),e}function Ie(e){return e.reduce(T,[])}function Ve(e){return e.reduce(Pe,[])}var Ne=function(e,t){return ge(e,t)?e:Me(e,t)},Le=Fe,V=Fe;function Fe(n,i){return void 0===i&&(i="assert failure"),function(e){var t=n(e);if(t)return t;throw new Error(d(i)?i(e):i)}}function je(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function Ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];for(var n=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),i=[],r=0;r<n;r++)!function(t){switch(e.length){case 1:i.push([e[0][t]]);break;case 2:i.push([e[0][t],e[1][t]]);break;case 3:i.push([e[0][t],e[1][t],e[2][t]]);break;case 4:i.push([e[0][t],e[1][t],e[2][t],e[3][t]]);break;default:i.push(e.map(function(e){return e[t]}))}}(r);return i}function He(e,t){var n,i;if(b(t)&&(n=t[0],i=t[1]),y(n))return e[n]=i,e;throw new Error("invalid parameters to applyPairs")}function m(e){return e.length&&e[e.length-1]||void 0}function Ue(e,t){return t&&Object.keys(t).forEach(function(e){return delete t[e]}),$(t=t||{},e)}function qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var i=Object.keys(n),r=0;r<i.length;r++)e[i[r]]=n[i[r]]}return e}function ze(e,t){if(e!==t){if(null===e||null===t)return!1;if(e==e||t==t){var n=typeof e;if(n!=typeof t||"object"!=n)return!1;var i,r=[e,t];if(B(b)(r))return n=t,(i=e).length===n.length&&Ye(i,n).reduce(function(e,t){return e&&ze(t[0],t[1])},!0);if(B(X)(r))return e.getTime()===t.getTime();if(B(J)(r))return e.toString()===t.toString();if(!B(d)(r)){if([d,b,X,J].map(W).reduce(function(e,t){return e||!!t(r)},!1))return!1;var o,a={};for(o in e){if(!ze(e[o],t[o]))return!1;a[o]=!0}for(o in t)if(!a[o])return!1}}}return!0}function Be(e){return e.catch(function(e){return 0})&&e}function We(e){return Be(c.$q.reject(e))}Ke.is=function(e){return!!/[!,*]+/.exec(e)},Ke.fromString=function(e){return Ke.is(e)?new Ke(e):null},Ke.prototype.matches=function(e){return this.regexp.test("."+e)};var Ge=Ke;function Ke(e){this.text=e,this.glob=e.split(".");e=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+e+"$")}Ze.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&this.evict(),e},Ze.prototype.evict=function(){var t=this._items.shift();return this._evictListeners.forEach(function(e){return e(t)}),t},Ze.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},Ze.prototype.clear=function(){var e=this._items;return this._items=[],e},Ze.prototype.size=function(){return this._items.length},Ze.prototype.remove=function(e){e=this._items.indexOf(e);return-1<e&&this._items.splice(e,1)[0]},Ze.prototype.peekTail=function(){return this._items[this._items.length-1]},Ze.prototype.peekHead=function(){if(this.size())return this._items[0]};var Qe=Ze;function Ze(e,t){void 0===t&&(t=null),this._items=e=void 0===e?[]:e,this._limit=t,this._evictListeners=[],this.onEvict=ye(this._evictListeners)}(st=f.RejectType||(f.RejectType={}))[st.SUPERSEDED=2]="SUPERSEDED",st[st.ABORTED=3]="ABORTED",st[st.INVALID=4]="INVALID",st[st.IGNORED=5]="IGNORED",st[st.ERROR=6]="ERROR";var Xe=0,p=(n.isRejectionPromise=function(e){return e&&"function"==typeof e.then&&a(n)(e._transitionRejection)},n.superseded=function(e,t){e=new n(f.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",e);return t&&t.redirected&&(e.redirected=!0),e},n.redirected=function(e){return n.superseded(e,{redirected:!0})},n.invalid=function(e){return new n(f.RejectType.INVALID,"This transition is invalid",e)},n.ignored=function(e){return new n(f.RejectType.IGNORED,"The transition was ignored",e)},n.aborted=function(e){return new n(f.RejectType.ABORTED,"The transition has been aborted",e)},n.errored=function(e){return new n(f.RejectType.ERROR,"The transition errored",e)},n.normalize=function(e){return a(n)(e)?e:n.errored(e)},n.prototype.toString=function(){var e=(e=this.detail)&&e.toString!==Object.prototype.toString?e.toString():l(e);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+e+")"},n.prototype.toPromise=function(){return $(We(this),{_transitionRejection:this})},n);function n(e,t,n){this.$id=Xe++,this.type=e,this.message=t,this.detail=n}function Je(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."}function et(e,t){for(;t.length<e;)t+=" ";return t}function tt(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function nt(e){var t=it(e),n=t.match(/^(function [^ ]+\([^)]*\))/),n=n?n[1]:t,t=e.name||"";return t&&n.match(/function \(/)?"function "+t+n.substr(9):n}function it(e){e=b(e)?e.slice(-1)[0]:e;return e&&e.toString()||"undefined"}function l(e){var t=[],n=p.isRejectionPromise,i=Q([[te,s("undefined")],[ne,s("null")],[se,s("[Promise]")],[n,function(e){return e._transitionRejection.toString()}],[function(e){return w(e)&&!b(e)&&e.constructor!==Object&&d(e.toString)},function(e){return e.toString()}],[oe,nt],[s(!0),_]]);function r(e){if(w(e)){if(-1!==t.indexOf(e))return"[circular ref]";t.push(e)}return i(e)}return te(e)?r(e):JSON.stringify(e,function(e,t){return r(t)}).replace(/\\"/g,'"')}function rt(n){return function(e){var t;return e?-1===(t=e.indexOf(n))?[e,""]:[e.substr(0,t),e.substr(t+1)]:["",""]}}function ot(e){return e.replace(/\/[^/]*$/,"")}function at(e){return e?e.replace(/^#/,""):""}var st=new RegExp("^(?:[a-z]+:)?//[^/]+/"),lt=rt("#"),ut=rt("?"),ct=rt("=");function dt(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(_)}}function pt(e,t){return y(m(e))&&y(t)?e.slice(0,-1).concat(m(e)+t):Me(e,t)}var e={log:D,error:D,table:D};function ht(t){function e(e){return Function.prototype.bind.call(e,t)}return{log:e(t.log),error:e(t.log),table:e(t.log)}}var ft="undefined"!=typeof document&&document.documentMode&&9===document.documentMode?window&&window.console?ht(window.console):e:console.table&&console.error?console:(e=console,{log:bt=e.log.bind(e),error:e.error?e.error.bind(e):bt,table:e.table?e.table.bind(e):bt});function gt(e){var t;return e?(t=e.creationContext?e.creationContext.name||"(root)":"(none)","[ui-view#"+e.id+" "+e.$type+":"+e.fqn+" ("+e.name+"@"+t+")]"):"ui-view (defunct)"}function mt(e){return re(e)?f.Category[e]:f.Category[f.Category[e]]}(e=f.Category||(f.Category={}))[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG";function vt(e){return"Transition #"+yt(e)+"-"+wt(e)}var yt=C("$id"),wt=C("router.$id"),bt=(t.prototype._set=function(t,e){var n=this;(e=e.length?e:Object.keys(f.Category).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(e){return f.Category[e]})).map(mt).forEach(function(e){return n._enabled[e]=t})},t.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},t.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},t.prototype.enabled=function(e){return!!this._enabled[mt(e)]},t.prototype.traceTransitionStart=function(e){this.enabled(f.Category.TRANSITION)&&ft.log(vt(e)+": Started  -> "+l(e))},t.prototype.traceTransitionIgnored=function(e){this.enabled(f.Category.TRANSITION)&&ft.log(vt(e)+": Ignored  <> "+l(e))},t.prototype.traceHookInvocation=function(e,t,n){var i;this.enabled(f.Category.HOOK)&&(i=C("traceData.hookType")(n)||"internal",n=C("traceData.context.state.name")(n)||C("traceData.context")(n)||"unknown",e=nt(e.registeredHook.callback),ft.log(vt(t)+":   Hook -> "+i+" context: "+n+", "+Je(200,e)))},t.prototype.traceHookResult=function(e,t,n){this.enabled(f.Category.HOOK)&&ft.log(vt(t)+":   <- Hook returned: "+Je(200,l(e)))},t.prototype.traceResolvePath=function(e,t,n){this.enabled(f.Category.RESOLVE)&&ft.log(vt(n)+":         Resolving "+e+" ("+t+")")},t.prototype.traceResolvableResolved=function(e,t){this.enabled(f.Category.RESOLVE)&&ft.log(vt(t)+":               <- Resolved  "+e+" to: "+Je(200,l(e.data)))},t.prototype.traceError=function(e,t){this.enabled(f.Category.TRANSITION)&&ft.log(vt(t)+": <- Rejected "+l(t)+", reason: "+e)},t.prototype.traceSuccess=function(e,t){this.enabled(f.Category.TRANSITION)&&ft.log(vt(t)+": <- Success  "+l(t)+", final state: "+e.name)},t.prototype.traceUIViewEvent=function(e,t,n){void 0===n&&(n=""),this.enabled(f.Category.UIVIEW)&&ft.log("ui-view: "+et(30,e)+" "+gt(t)+n)},t.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(f.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},t.prototype.traceUIViewFill=function(e,t){this.enabled(f.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+Je(200,t))},t.prototype.traceViewSync=function(e){var i;this.enabled(f.Category.VIEWCONFIG)&&(i="uiview component fqn",e=e.map(function(e){var t=e.uiView,e=e.viewConfig,t=t&&t.fqn,e=e&&e.viewDecl.$context.name+": ("+e.viewDecl.$name+")",n={};return n[i]=t,n["view config state (view name)"]=e,n}).sort(function(e,t){return(e[i]||"").localeCompare(t[i]||"")}),ft.table(e))},t.prototype.traceViewServiceEvent=function(e,t){var n;this.enabled(f.Category.VIEWCONFIG)&&ft.log("VIEWCONFIG: "+e+" "+(e=t.viewDecl,n=e.$context.name||"(root)","[View#")+t.$id+" from '"+n+"' state]: target ui-view: '"+e.$uiViewName+"@"+e.$uiViewContextAnchor+"'")},t.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(f.Category.VIEWCONFIG)&&ft.log("VIEWCONFIG: "+e+" "+gt(t))},t);function t(){this._enabled={},this.approximateDigests=0}var A=new bt,$t=(_t.prototype.is=function(e,t){return!0},_t.prototype.encode=function(e,t){return e},_t.prototype.decode=function(e,t){return e},_t.prototype.equals=function(e,t){return e==t},_t.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},_t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},_t.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},_t.prototype.$asArray=function(e,t){if(!e)return this;if("auto"!==e||t)return new St(this,e);throw new Error("'auto' array mode is for query parameters only")},_t);function _t(e){this.pattern=/.*/,this.inherit=!0,$(this,e)}function St(i,r){var o=this;function a(e){return b(e)?e:k(e)?[e]:[]}function s(n,i){return function(e){if(b(e)&&0===e.length)return e;e=O(a(e),n);if(!0===i)return 0===xe(e,function(e){return!e}).length;var t=e;switch(t.length){case 0:return;case 1:return"auto"===r?t[0]:t;default:return t}}}function l(o){return function(e,t){var n=a(e),i=a(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!o(n[r],i[r]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach(function(e){var t=i[e].bind(i),n="equals"===e?l:s;o[e]=n(t)}),$(this,{dynamic:i.dynamic,name:i.name,pattern:i.pattern,inherit:i.inherit,raw:i.raw,is:s(i.is.bind(i),!0),$arrayMode:r})}function Ct(e){return 0===["value","type","squash","array","dynamic"].filter(kt.bind(e||{})).length}var kt=Object.prototype.hasOwnProperty;function Dt(e,t,n){var i,t=!1===n.reloadOnSearch&&t===f.DefType.SEARCH||void 0,t=Oe([n.dynamic,t],k),t=k(t)?{dynamic:t}:{},e=(i=n&&n.params&&n.params[e],i=Ct(i)?{value:i}:i,r.__cacheable=!0,n=oe(i.value)?i.value:r,$(i,{$$fn:n}));function r(){return i.value}return $(t,e)}(e=f.DefType||(f.DefType={}))[e.PATH=0]="PATH",e[e.SEARCH=1]="SEARCH",e[e.CONFIG=2]="CONFIG";xt.values=function(e,t){void 0===t&&(t={});for(var n={},i=0,r=e;i<r.length;i++){var o=r[i];n[o.id]=o.value(t[o.id])}return n},xt.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},xt.equals=function(e,t,n){return 0===xt.changed(e,t=void 0===t?{}:t,n=void 0===n?{}:n).length},xt.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(Ae,!0)},xt.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},xt.prototype.value=function(e){var r=this;if(e=function(e){for(var t=0,n=r.replace;t<n.length;t++){var i=n[t];if(i.from===e)return i.to}return e}(e),te(e)){if(r._defaultValueCache)return r._defaultValueCache.defaultValue;if(!c.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=c.$injector.invoke(r.config.$$fn);if(null==t||r.type.is(t))return r.config.$$fn.__cacheable&&(r._defaultValueCache={defaultValue:t}),t;throw new Error("Default value ("+t+") for parameter '"+r.id+"' is not an instance of ParamType ("+r.type.name+")")}return this.type.$normalize(e)},xt.prototype.isSearch=function(){return this.location===f.DefType.SEARCH},xt.prototype.validates=function(e){return!((!te(e)&&null!==e||!this.isOptional)&&(e=this.type.$normalize(e),!this.type.is(e)||(e=this.type.encode(e),y(e)&&!this.type.pattern.exec(e))))},xt.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"};var h=xt;function xt(e,t,n,i,r){var o,a,s,r=Dt(e,n,r),l=(t=function(e,t,n,i,r){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+i+"' has two type configurations.");return e.type&&t&&"string"===t.name&&r.type(e.type)?r.type(e.type):t||(e.type?e.type instanceof $t?e.type:r.type(e.type):(i=n===f.DefType.CONFIG?"any":n===f.DefType.PATH?"path":n===f.DefType.SEARCH?"query":"string",r.type(i)))}(r,t,n,e,i.paramTypes),l={array:n===f.DefType.SEARCH&&"auto"},u=e.match(/\[\]$/)?{array:!0}:{},$(l,u,r).array),u=(t=l?t.$asArray(l,n===f.DefType.SEARCH):t,void 0!==r.value||n===f.DefType.SEARCH),c=k(r.dynamic)?!!r.dynamic:!!t.dynamic,d=k(r.raw)?!!r.raw:!!t.raw,i=function(e,t,n){if(e=e.squash,!t||!1===e)return!1;if(!k(e)||null==e)return n;if(!0===e||y(e))return e;throw new Error("Invalid squash policy: '"+e+"'. Valid policies: false, true, or arbitrary string")}(r,u,i.defaultSquashPolicy()),p=(o=l,h=i,a=[{from:"",to:(a=u)||o?void 0:""},{from:null,to:u||o?void 0:""}],o=b((p=r).replace)?p.replace:[],y(h)&&o.push({from:h,to:void 0}),s=O(o,v("from")),xe(a,function(e){return-1===s.indexOf(e.from)}).concat(o)),h=k(r.inherit)?!!r.inherit:!!t.inherit;$(this,{id:e,type:t,location:n,isOptional:u,dynamic:c,raw:d,squash:i,replace:p,inherit:h,array:l,config:r})}Tt.prototype.dispose=function(){this.types={}},Tt.prototype.type=function(e,t,n){if(!k(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new $t($({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},Tt.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");$(this.types[e.name],c.$injector.invoke(e.def))}};var Ot=Tt;function Tt(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=Ce(Tt.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=fe(O(this.defaultTypes,function(e,t){return new $t($({name:t},e))}),{})}function At(e){function t(e){return null!=e?e.toString():e}var n={encode:t,decode:t,is:a(String),pattern:/.*/,equals:function(e,t){return e==t}};return $({},n,e)}$(Ot.prototype,{string:At({}),path:At({pattern:/[^/]*/}),query:At({}),hash:At({inherit:!1}),int:At({decode:function(e){return parseInt(e,10)},is:function(e){return!ie(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:At({encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:a(Boolean),pattern:/0|1/}),date:At({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){return this.is(e)?e:(e=this.capture.exec(e))?new Date(e[1],e[2]-1,e[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(n,i){return["getFullYear","getMonth","getDate"].reduce(function(e,t){return e&&n[t]()===i[t]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:At({encode:ce,decode:N,is:a(Object),equals:pe,pattern:/[^/]*/}),any:At({encode:_,decode:_,is:function(){return!0},equals:pe})});Pt.prototype.$inherit=function(e,t,n){var i,r,o=Se(t,n),a={},s=[];for(r in o)if(o[r]&&o[r].params&&(i=Object.keys(o[r].params)).length)for(var l in i)0<=s.indexOf(i[l])||(s.push(i[l]),a[i[l]]=this[i[l]]);return $({},a,e)};var Et=Pt;function Pt(e){$(this,e=void 0===e?{}:e)}Mt.prototype.clone=function(){return new Mt(this)},Mt.prototype.applyRawParams=function(n){return this.paramValues=this.paramSchema.reduce(function(e,t){return He(e,[t.id,t.value(n[t.id])])},{}),this},Mt.prototype.parameter=function(e){return Oe(this.paramSchema,H("id",e))},Mt.prototype.equals=function(e,t){e=this.diff(e,t);return e&&0===e.length},Mt.prototype.diff=function(e,t){return this.state===e.state&&(t=t?t(this):this.paramSchema,h.changed(t,this.paramValues,e.paramValues))},Mt.clone=function(e){return e.clone()};var Rt=Mt;function Mt(e){var t;e instanceof Mt?(this.state=(t=e).state,this.paramSchema=t.paramSchema.slice(),this.paramValues=$({},t.paramValues),this.resolvables=t.resolvables.slice(),this.views=t.views&&t.views.slice()):(this.state=t=e,this.paramSchema=t.parameters({inherit:!1}),this.paramValues={},this.resolvables=t.resolvables.map(function(e){return e.clone()}))}i.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},i.prototype.identifier=function(){return this._identifier},i.prototype.params=function(){return this._params},i.prototype.$state=function(){return this._definition},i.prototype.state=function(){return this._definition&&this._definition.self},i.prototype.options=function(){return this._options},i.prototype.exists=function(){return!(!this._definition||!this._definition.self)},i.prototype.valid=function(){return!this.error()},i.prototype.error=function(){var e=this.options().relative;return!this._definition&&e?(e=e.name||e,"Could not resolve '"+this.name()+"' from state '"+e+"'"):this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},i.prototype.toString=function(){return"'"+this.name()+"'"+l(this.params())},i.prototype.withState=function(e){return new i(this._stateRegistry,e,this._params,this._options)},i.prototype.withParams=function(e,t){t=(t=void 0===t?!1:t)?e:$({},this._params,e);return new i(this._stateRegistry,this._identifier,t,this._options)},i.prototype.withOptions=function(e,t){t=(t=void 0===t?!1:t)?e:$({},this._options,e);return new i(this._stateRegistry,this._identifier,this._params,t)},i.isDef=function(e){return e&&e.state&&(y(e.state)||w(e.state)&&y(e.state.name))};var It=i;function i(e,t,n,i){this._stateRegistry=e,this._identifier=t,this._identifier=t,this._params=$({},n||{}),this._options=$({},i||{}),this._definition=e.matcher.find(t,this._options.relative)}g.makeTargetState=function(e,t){var n=m(t).state;return new It(e,n,t.map(v("paramValues")).reduce(_e,{}),{})},g.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new Rt(e).applyRawParams(t)})},g.buildToPath=function(e,t){var n=g.buildPath(t);return t.options().inherit?g.inheritParams(e,n,Object.keys(t.params())):n},g.applyViewConfigs=function(i,r,t){r.filter(function(e){return ge(t,e.state)}).forEach(function(t){var e=Re(t.state.views||{}),n=g.subPath(r,function(e){return e===t}),e=e.map(function(e){return i.createViewConfig(n,e)});t.views=e.reduce(T,[])})},g.inheritParams=function(o,e,a){void 0===a&&(a=[]);var s=o.map(function(e){return e.paramSchema}).reduce(T,[]).filter(function(e){return!e.inherit}).map(v("id"));return e.map(function(e){var t=Ce(n=$({},e&&e.paramValues),a),n=ke(n,a),i=ke((r=o,i=e.state,r=Oe(r,H("state",i)),$({},r&&r.paramValues)||{}),s),r=$(n,i,t);return new Rt(e.state).applyRawParams(r)})},g.treeChanges=function(e,n,t){for(var i,r,o=Math.min(e.length,n.length),a=0;a<o&&e[a].state!==t&&(i=e[a],r=n[a],i.equals(r,g.nonDynamicParams));)a++;var s,l=(s=e).slice(0,a),u=s.slice(a),c=l.map(function(e,t){return(e=e.clone()).paramValues=n[t].paramValues,e}),d=n.slice(a);return{from:s,to:c.concat(d),retained:l,retainedWithToParams:c,exiting:u,entering:d}},g.matching=function(e,t,i){var r=!1;return Ye(e,t).reduce(function(e,t){var n=t[0],t=t[1];return(r=r||!n.equals(t,i))?e:e.concat(n)},[])},g.equals=function(e,t,n){return e.length===t.length&&g.matching(e,t,n).length===e.length},g.subPath=function(e,t){t=Oe(e,t),t=e.indexOf(t);return-1===t?void 0:e.slice(0,t+1)},g.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},g.paramValues=function(e){return e.reduce(function(e,t){return $(e,t.paramValues)},{})};var Vt=g;function g(){}var Nt={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT"}},Lt={when:"LAZY",async:"WAIT"},u=(Ft.prototype.getPolicy=function(e){var t=this.policy||{},e=e&&e.resolvePolicy||{};return{when:t.when||e.when||Lt.when,async:t.async||e.async||Lt.async}},Ft.prototype.resolve=function(t,n){var i=this,e=c.$q,r=t.findNode(this),r=r&&r.state,r=this.getPolicy(r).async,r=d(r)?r:_;return this.promise=e.when().then(function(){return e.all(t.getDependencies(i).map(function(e){return e.get(t,n)}))}).then(function(e){return i.resolveFn.apply(null,e)}).then(r).then(function(e){return i.data=e,i.resolved=!0,i.resolveFn=null,A.traceResolvableResolved(i,n),i.data})},Ft.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},Ft.prototype.toString=function(){return"Resolvable(token: "+l(this.token)+", requires: ["+this.deps.map(l)+"])"},Ft.prototype.clone=function(){return new Ft(this)},Ft.fromData=function(e,t){return new Ft(e,function(){return t},null,null,t)},Ft);function Ft(e,t,n,i,r){if(this.resolved=!1,this.promise=void 0,e instanceof Ft)$(this,e);else if(d(t)){if(ie(e))throw new Error("new Resolvable(): token argument is required");if(!d(t))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=i,this.resolveFn=t,this.deps=n||[],this.data=r,this.resolved=void 0!==r,this.promise=this.resolved?c.$q.when(this.data):void 0}else if(w(e)&&e.token&&(e.hasOwnProperty("resolveFn")||e.hasOwnProperty("data")))return new Ft(e.token,e.resolveFn,e.deps,e.policy,e.data)}var e=Nt.when,jt=[e.EAGER,e.LAZY],Yt=[e.EAGER],Ht="Native Injector",Ut=(qt.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(Ne,[])},qt.prototype.getResolvable=function(t){return m(this._path.map(function(e){return e.resolvables}).reduce(T,[]).filter(function(e){return e.token===t}))},qt.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},qt.prototype.subContext=function(t){return new qt(Vt.subPath(this._path,function(e){return e.state===t}))},qt.prototype.addResolvables=function(e,t){var t=Oe(this._path,H("state",t)),n=e.map(function(e){return e.token});t.resolvables=t.resolvables.filter(function(e){return-1===n.indexOf(e.token)}).concat(e)},qt.prototype.resolvePath=function(e,a){function s(t,n){return function(e){return ge(t,l.getPolicy(e)[n])}}var l=this,u=(ge(jt,e=void 0===e?"LAZY":e)?e:"LAZY")===Nt.when.EAGER?Yt:jt,e=(A.traceResolvePath(this._path,e,a),this._path.reduce(function(e,t){function n(t){return t.get(o,a).then(function(e){return{token:t.token,value:e}})}var i=t.resolvables.filter(s(u,"when")),r=i.filter(s(["NOWAIT"],"async")),i=i.filter(U(s(["NOWAIT"],"async"))),o=l.subContext(t.state);return r.forEach(n),e.concat(i.map(n))},[]));return c.$q.all(e)},qt.prototype.injector=function(){return this._injector||(this._injector=new zt(this))},qt.prototype.findNode=function(t){return Oe(this._path,function(e){return ge(e.resolvables,t)})},qt.prototype.getDependencies=function(t){var i=this,n=this.findNode(t),r=(Vt.subPath(this._path,function(e){return e===n})||this._path).reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var e=r.filter(function(e){return e.token===t});if(e.length)return m(e);var n=i.injector().getNative(t);if(te(n))throw new Error("Could not find Dependency Injection token: "+l(t));return new u(t,function(){return n},[],n)})},qt);function qt(e){this._path=e}Bt.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(t.resolved)return t.data;throw new Error("Resolvable async .get() not complete:"+l(t.token))}return this.getNative(e)},Bt.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):c.$q.when(this.native.get(e))},Bt.prototype.getNative=function(e){return this.native&&this.native.get(e)};var zt=Bt;function Bt(e){this.context=e,this.native=this.get(Ht)||c.$injector}var Wt=function(e){var t;return!!y(e)&&{val:(t="^"===e.charAt(0))?e.substring(1):e,root:t}};function Gt(e){return e.name}function Kt(e){return e.self.$$state=function(){return e},e.self}function Qt(e){return e.parent&&e.parent.data&&(e.data=e.self.data=fe(e.parent.data,e.data)),e.data}function Zt(e){return e.parent?e.parent.path.concat(e):[e]}function Xt(e){var t=e.parent?$({},e.parent.includes):{};return t[e.name]=!0,t}function Jt(e){function t(e){return e.provide||e.token}var n,i,r=Q([[v("resolveFn"),function(e){return new u(t(e),e.resolveFn,e.deps,e.policy)}],[v("useFactory"),function(e){return new u(t(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[v("useClass"),function(e){return new u(t(e),function(){return new e.useClass},[],e.policy)}],[v("useValue"),function(e){return new u(t(e),function(){return e.useValue},[],e.policy,e.useValue)}],[v("useExisting"),function(e){return new u(t(e),_,[e.useExisting],e.policy)}]]),o=Q([[Y(v("val"),y),function(e){return new u(e.token,_,[e.val],e.policy)}],[Y(v("val"),b),function(e){return new u(e.token,m(e.val),e.val.slice(0,-1),e.policy)}],[Y(v("val"),d),function(e){return new u(e.token,e.val,(t=e.val,n=c.$injector,t.$inject||n&&n.annotate(t,n.strictDi)||"deferred"),e.policy);var t,n}]]),r=Q([[a(u),function(e){return e}],[function(e){return!(!e.token||!e.resolveFn)},r],[function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},r],[function(e){return!!(e&&e.val&&(y(e.val)||b(e.val)||d(e.val)))},o],[s(!0),function(e){throw new Error("Invalid resolve value: "+l(e))}]]),o=e.resolve;return(b(o)?o:(n=o,i=e.resolvePolicy||{},Object.keys(n||{}).map(function(e){return{token:e,val:n[e],deps:void 0,policy:i[e]}}))).map(r)}tn.prototype.builder=function(e,t){var n=this.builders,i=n[e]||[];return y(e)&&!k(t)?1<i.length?i:i[0]:y(e)&&d(t)?(n[e]=i,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},tn.prototype.build=function(e){var t,n,i=this.matcher,r=this.builders,o=this.parentName(e);if(o&&!i.find(o,void 0,!1))return null;for(t in r)r.hasOwnProperty(t)&&(n=r[t].reduce(function(t,n){return function(e){return n(e,t)}},D),e[t]=n(e));return e},tn.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if("**"===n.pop()&&n.pop(),n.length){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return n.join(".")}return e.parent?y(e.parent)?e.parent:e.parent.name:""},tn.prototype.name=function(e){var t=e.name;return-1===t.indexOf(".")&&e.parent&&(e=y(e.parent)?e.parent:e.parent.name)?e+"."+t:t};var en=tn;function tn(t,e){this.matcher=t;function n(){return t.find("")}function i(e){return""===e.name}var r,o,a,s,l=this;this.builders={name:[Gt],self:[Kt],parent:[function(e){return i(e)?null:t.find(l.parentName(e))||n()}],data:[Qt],url:[(s=n,function(e){var t=e.self,n=(t&&t.url&&t.name&&t.name.match(/\.\*\*$/)&&(Ue(t,n={}),n.url+="{remainder:any}",t=n),e.parent),i=Wt(t.url),t=i?a.compile(i.val,{state:t}):t.url;if(!t)return null;if(a.isMatcher(t))return i&&i.root?t:(n&&n.navigable||s()).url.append(t);throw new Error("Invalid url '"+t+"' in state '"+e+"'")})],navigable:[(o=i,function(e){return!o(e)&&e.url?e:e.parent?e.parent.navigable:null})],params:[(r=(a=e).paramFactory,function(n){var e=n.url&&n.url.parameters({inherit:!1})||[],t=Re(Te(ke(n.params||{},e.map(v("id"))),function(e,t){return r.fromConfig(t,null,n.self)}));return e.concat(t).map(function(e){return[e.id,e]}).reduce(He,{})})],views:[],path:[Zt],includes:[Xt],resolvables:[Jt]}}r.create=function(e){e=r.isStateClass(e)?new e:e;var t=fe(fe(e,r.prototype));return e.$$state=function(){return t},t.self=e,t.__stateObjectCache={nameGlob:Ge.fromString(t.name)},t},r.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},r.prototype.fqn=function(){var e;return this.parent&&this.parent instanceof this.constructor&&(e=this.parent.fqn())?e+"."+this.name:this.name},r.prototype.root=function(){return this.parent&&this.parent.root()||this},r.prototype.parameters=function(t){return((t=$e(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(Re(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},r.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||Oe(Re(this.params),H("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},r.prototype.toString=function(){return this.fqn()},r.isStateClass=function(e){return d(e)&&!0===e.__uiRouterState},r.isStateDeclaration=function(e){return d(e.$$state)},r.isState=function(e){return w(e.__stateObjectCache)};var nn=r;function r(e){return r.create(e||{})}on.prototype.isRelative=function(e){return 0===(e=e||"").indexOf(".")||0===e.indexOf("^")},on.prototype.find=function(e,t,n){var i,r;if(void 0===n&&(n=!0),e||""===e)return i=y(e),r=i?e:e.name,this.isRelative(r)&&(r=this.resolvePath(r,t)),!(t=this._states[r])||!i&&(i||t!==e&&t.self!==e)?i&&n?(1<(e=Re(this._states).filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(r)})).length&&ft.error("stateMatcher.find: Found multiple matches for "+r+" using glob: ",e.map(function(e){return e.name})),e[0]):void 0:t},on.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),i=e.split("."),r=i.length,o=0,a=n;o<r;o++)if(""===i[o]&&0===o)a=n;else{if("^"!==i[o])break;if(!a.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");a=a.parent}t=i.slice(o).join(".");return a.name+(a.name&&t?".":"")+t};var rn=on;function on(e){this._states=e}sn.prototype.dispose=function(){this.queue=[]},sn.prototype.register=function(e){var t=this.queue,e=nn.create(e),n=e.name;if(!y(n))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(n)||ge(t.map(v("name")),n))throw new Error("State '"+n+"' is already defined");return t.push(e),this.flush(),e},sn.prototype.flush=function(){for(var t=this,e=this.queue,n=this.states,i=this.builder,r=[],o=[],a={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]},l=function(){r.length&&t.listeners.forEach(function(e){return e("registered",r.map(function(e){return e.self}))})};0<e.length;){var u=e.shift(),c=u.name,d=i.build(u),p=o.indexOf(u);if(d){d=s(c);if(d&&d.name===c)throw new Error("State '"+c+"' is already defined");d=s(c+".**");d&&this.router.stateRegistry.deregister(d),n[c]=u,this.attachRoute(u),0<=p&&o.splice(p,1),r.push(u)}else{d=a[c];if(a[c]=e.length,0<=p&&d===e.length)return e.push(u),l(),n;p<0&&o.push(u),e.push(u)}}return l(),n},sn.prototype.attachRoute=function(e){var t;!e.abstract&&e.url&&(t=this.router.urlService.rules).rule(t.urlRuleFactory.create(e))};var an=sn;function sn(e,t,n,i){this.router=e,this.states=t,this.builder=n,this.listeners=i,this.queue=[]}un.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},un.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},un.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){x(this.listeners)(e)}.bind(this)},un.prototype.root=function(){return this._root},un.prototype.register=function(e){return this.stateQueue.register(e)},un.prototype._deregisterTree=function(e){var n=this,i=this.get().map(function(e){return e.$$state()}),r=function(t){var e=i.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(r(e))},t=r([e]),e=[e].concat(t).reverse();return e.forEach(function(e){var t=n.router.urlService.rules;t.rules().filter(H("state",e)).forEach(function(e){return t.removeRule(e)}),delete n.states[e.name]}),e},un.prototype.deregister=function(e){var t,n=this.get(e);if(n)return t=this._deregisterTree(n.$$state()),this.listeners.forEach(function(e){return e("deregistered",t.map(function(e){return e.self}))}),t;throw new Error("Can't deregister state; not found: "+e)},un.prototype.get=function(e,t){var n=this;return 0===arguments.length?Object.keys(this.states).map(function(e){return n.states[e].self}):(e=this.matcher.find(e,t))&&e.self||null},un.prototype.decorator=function(e,t){return this.builder.builder(e,t)};var ln=un;function un(e){this.router=e,this.states={},this.listeners=[],this.matcher=new rn(this.states),this.builder=new en(this.matcher,e.urlMatcherFactory),this.stateQueue=new an(e,this.states,this.builder,this.listeners),this._registerRoot()}(e=f.TransitionHookPhase||(f.TransitionHookPhase={}))[e.CREATE=0]="CREATE",e[e.BEFORE=1]="BEFORE",e[e.RUN=2]="RUN",e[e.SUCCESS=3]="SUCCESS",e[e.ERROR=4]="ERROR",(e=f.TransitionHookScope||(f.TransitionHookScope={}))[e.TRANSITION=0]="TRANSITION",e[e.STATE=1]="STATE";var cn={current:D,transition:null,traceData:{},bind:null},dn=(o.chain=function(e,t){return e.reduce(function(e,t){return e.then(function(){return t.invokeHook()})},t||c.$q.when())},o.invokeHooks=function(e,t){for(var n=0;n<e.length;n++){var i,r=e[n].invokeHook();if(se(r))return i=e.slice(n+1),o.chain(i,r).then(t)}return t()},o.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},o.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},o.prototype.invokeHook=function(){var t=this,n=this.registeredHook;if(!n._deregistered){var e=this.getNotCurrentRejection();if(e)return e;var e=this.options,i=(A.traceHookInvocation(this,this.transition,e),function(e){return n.eventType.getErrorHandler(t)(e)}),r=function(e){return n.eventType.getResultHandler(t)(e)};try{var o=n.callback.call(e.bind,t.transition,t.stateContext);return!this.type.synchronous&&se(o)?o.catch(function(e){return p.normalize(e).toPromise()}).then(r,i):r(o)}catch(e){return i(p.normalize(e))}finally{n.invokeLimit&&++n.invokeCount>=n.invokeLimit&&n.deregister()}}},o.prototype.handleHookResult=function(e){var t=this,n=this.getNotCurrentRejection();return n||(se(e)?e.then(function(e){return t.handleHookResult(e)}):(A.traceHookResult(e,this.transition,this.options),!1===e?p.aborted("Hook aborted transition").toPromise():a(It)(e)?p.redirected(e).toPromise():void 0))},o.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?p.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?p.aborted().toPromise():this.isSuperseded()?p.superseded(this.options.current()).toPromise():void 0},o.prototype.toString=function(){var e=this.options,t=this.registeredHook;return(C("traceData.hookType")(e)||"internal")+" context: "+(C("traceData.context.state.name")(e)||C("traceData.context")(e)||"unknown")+", "+Je(200,it(t.callback))},o.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},o.LOG_REJECTED_RESULT=function(t){return function(e){se(e)&&e.catch(function(e){return t.logError(p.normalize(e))})}},o.LOG_ERROR=function(t){return function(e){return t.logError(e)}},o.REJECT_ERROR=function(e){return We},o.THROW_ERROR=function(e){return function(e){throw e}},o);function o(e,t,n,i){var r=this;this.transition=e,this.stateContext=t,this.registeredHook=n,this.options=i,this.isSuperseded=function(){return r.type.hookPhase===f.TransitionHookPhase.RUN&&!r.options.transition.isActive()},this.options=$e(i,cn),this.type=n.eventType}function pn(e,t,n){var r=y(t)?[t]:t;return!!(d(r)?r:function(e){for(var t=r,n=0;n<t.length;n++){var i=new Ge(t[n]);if(i&&i.matches(e.name)||!i&&t[n]===e.name)return!0}return!1})(e,n)}fn.prototype._matchingNodes=function(e,t,n){return!0===t||(e=e.filter(function(e){return pn(e.state,t,n)})).length?e:null},fn.prototype._getDefaultMatchCriteria=function(){return Te(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},fn.prototype._getMatchingNodes=function(r,o){var a=this,s=$(this._getDefaultMatchCriteria(),this.matchCriteria);return Re(this.tranSvc._pluginapi._getPathTypes()).reduce(function(e,t){var n=t.scope===f.TransitionHookScope.STATE,i=r[t.name]||[],n=n?i:[m(i)];return e[t.name]=a._matchingNodes(n,s[t.name],o),e},{})},fn.prototype.matches=function(e,t){e=this._getMatchingNodes(e,t);return Re(e).every(_)?e:null},fn.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0};var hn=fn;function fn(e,t,n,i,r,o){void 0===o&&(o={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=i,this.removeHookFromRegistry=r,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}function gn(e,i,r){var o=(e._registeredHooks=e._registeredHooks||{})[r.name]=[],a=x(o);function t(e,t,n){t=new hn(i,r,t,e,a,n=void 0===n?{}:n);return o.push(t),t.deregister.bind(t)}return e[r.name]=t}vn.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(T,[]).filter(_)},vn.prototype.buildHooks=function(r){var o,a=this.transition,e=a.treeChanges(),t=this.getMatchingHooks(r,e,a);return t?(o={transition:a,current:a.options().current},t.map(function(i){return i.matches(e,a)[r.criteriaMatchPath.name].map(function(e){var t=$({bind:i.bind,traceData:{hookType:r.name,context:e}},o),n=r.criteriaMatchPath.scope===f.TransitionHookScope.STATE?e.state.self:null,n=new dn(a,n,i,t);return{hook:i,node:e,transitionHook:n}})}).reduce(T,[]).sort(function(i){void 0===i&&(i=!1);return function(e,t){var n=i?-1:1,n=(e.node.state.path.length-t.node.state.path.length)*n;return 0!=n?n:t.hook.priority-e.hook.priority}}(r.reverseSort)).map(function(e){return e.transitionHook})):[]},vn.prototype.getMatchingHooks=function(t,n,i){var e=t.hookPhase===f.TransitionHookPhase.CREATE,r=this.transition.router.transitionService;return(e?[r]:[this.transition,r]).map(function(e){return e.getHooks(t.name)}).filter(Le(b,"broken event named: "+t.name)).reduce(T,[]).filter(function(e){return e.matches(n,i)})};var mn=vn;function vn(e){this.transition=e}var yn=v("self"),wn=(E.prototype.onBefore=function(e,t,n){},E.prototype.onStart=function(e,t,n){},E.prototype.onExit=function(e,t,n){},E.prototype.onRetain=function(e,t,n){},E.prototype.onEnter=function(e,t,n){},E.prototype.onFinish=function(e,t,n){},E.prototype.onSuccess=function(e,t,n){},E.prototype.onError=function(e,t,n){},E.prototype.createTransitionHookRegFns=function(){var t=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==f.TransitionHookPhase.CREATE}).forEach(function(e){return gn(t,t.router.transitionService,e)})},E.prototype.getHooks=function(e){return this._registeredHooks[e]},E.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});Vt.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},E.prototype.$from=function(){return m(this._treeChanges.from).state},E.prototype.$to=function(){return m(this._treeChanges.to).state},E.prototype.from=function(){return this.$from().self},E.prototype.to=function(){return this.$to().self},E.prototype.targetState=function(){return this._targetState},E.prototype.is=function(e){return e instanceof E?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!pn(this.$to(),e.to,this)||e.from&&!pn(this.$from(),e.from,this))},E.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(v("paramValues")).reduce(_e,{}))},E.prototype.paramsChanged=function(){var e=this.params("from"),n=this.params("to"),t=[].concat(this._treeChanges.to).concat(this._treeChanges.from).map(function(e){return e.paramSchema}).reduce(Pe,[]).reduce(Ne,[]);return h.changed(t,e,n).reduce(function(e,t){return e[t.id]=n[t.id],e},{})},E.prototype.injector=function(t,e){e=this._treeChanges[e=void 0===e?"to":e];return t&&(e=Vt.subPath(e,function(e){return e.state===t||e.state.name===t})),new Ut(e).injector()},E.prototype.getResolveTokens=function(e){return new Ut(this._treeChanges[e=void 0===e?"to":e]).getTokens()},E.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=a(u)(e)?e:new u(e);var n="string"==typeof t?t:t.name,t=this._treeChanges.to,i=Oe(t,function(e){return e.state.name===n});new Ut(t).addResolvables([e],i.state)},E.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},E.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},E.prototype.options=function(){return this._options},E.prototype.entering=function(){return O(this._treeChanges.entering,v("state")).map(yn)},E.prototype.exiting=function(){return O(this._treeChanges.exiting,v("state")).map(yn).reverse()},E.prototype.retained=function(){return O(this._treeChanges.retained,v("state")).map(yn)},E.prototype.views=function(e,t){e=this._treeChanges[e=void 0===e?"entering":e];return(e=t?e.filter(H("state",t)):e).map(v("views")).filter(_).reduce(T,[])},E.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},E.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(20<++t)throw new Error("Too many consecutive Transition redirects (20+)");var i,r={redirectedFrom:this,source:"redirect"},r=("url"===this.options().source&&!1!==e.options().location&&(r.location="replace"),$({},this.options(),e.options(),r)),r=(e=e.withOptions(r,!0),this.router.transitionService.create(this._treeChanges.from,e)),o=this._treeChanges.entering,a=r._treeChanges.entering;return Vt.matching(a,o,Vt.nonDynamicParams).filter(U((i=e.options().reloadState,function(e){return i&&e.state.includes[i.name]}))).forEach(function(e,t){e.resolvables=o[t].resolvables}),r},E.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length){var t=Ye(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(Ee,!1);if(!t)return Ye(e.to.map(function(e){return e.paramSchema}),(t=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})}))[0],t[1]).map(function(e){var t=e[0],n=e[1],e=e[2];return h.changed(t,n,e)}).reduce(T,[])}},E.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(Ee,!1)},E.prototype.ignored=function(){return!!this._ignoredReason()},E.prototype._ignoredReason=function(){function e(e,t){return e.length===t.length&&(t=Vt.matching(e,t),e.length===t.filter(function(e){return!n||!e.state.includes[n.name]}).length)}var t=this.router.globals.transition,n=this._options.reloadState,i=this.treeChanges(),t=t&&t.treeChanges();return t&&e(t.to,i.to)&&e(t.exiting,i.exiting)?"SameAsPending":0===i.exiting.length&&0===i.entering.length&&e(i.from,i.to)?"SameAsCurrent":void 0},E.prototype.run=function(){var t=this,n=dn.runAllHooks,i=function(e){return t._hookBuilder.buildHooksForPhase(e)},e=i(f.TransitionHookPhase.BEFORE);return dn.invokeHooks(e,function(){var e=t.router.globals;return e.lastStartedTransitionId=t.$id,e.transition=t,e.transitionHistory.enqueue(t),A.traceTransitionStart(t),c.$q.when(void 0)}).then(function(){var e=i(f.TransitionHookPhase.RUN);return dn.invokeHooks(e,function(){return c.$q.when(void 0)})}).then(function(){A.traceSuccess(t.$to(),t),t.success=!0,t._deferred.resolve(t.to()),n(i(f.TransitionHookPhase.SUCCESS))},function(e){A.traceError(e,t),t.success=!1,t._deferred.reject(e),t._error=e,n(i(f.TransitionHookPhase.ERROR))}),this.promise},E.prototype.valid=function(){return!this.error()||void 0!==this.success},E.prototype.abort=function(){te(this.success)&&(this._aborted=!0)},E.prototype.error=function(){var t,e,n=this.$to();return n.self.abstract?p.invalid("Cannot transition to abstract state '"+n.name+"'"):(e=n.parameters(),t=this.params(),(e=e.filter(function(e){return!e.validates(t[e.id])})).length?(e=e.map(function(e){return"["+e.id+":"+l(t[e.id])+"]"}).join(", "),n="The following parameter values are not valid for state '"+n.name+"': "+e,p.invalid(n)):!1===this.success?this._error:void 0)},E.prototype.toString=function(){function e(e){return null!==e["#"]&&void 0!==e["#"]?e:ke(e,["#"])}var t=this.from(),n=this.to();return"Transition#"+this.$id+"( '"+(w(t)?t.name:t)+"'"+l(e(this._treeChanges.from.map(v("paramValues")).reduce(_e,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(w(n)?n.name:n)+"'"+l(e(this.params()))+" )"},E.diToken=E);function E(e,t,n){var i=this;if(this._deferred=c.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new mn(this),this.isActive=function(){return i.router.globals.transition===i},this.router=n,!(this._targetState=t).valid())throw new Error(t.error());this._options=$({current:s(this)},t.options()),this.$id=n.transitionService._transitionCount++;t=Vt.buildToPath(e,t),this._treeChanges=Vt.treeChanges(e,t,this._options.reloadState),this.createTransitionHookRegFns(),e=this._hookBuilder.buildHooksForPhase(f.TransitionHookPhase.CREATE);dn.invokeHooks(e,function(){return null}),this.applyViewConfigs(n)}function bn(e,t){var n=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:i=i.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return i+n[0]+t.type.pattern.source+n[1]}var $n=dt("/"),_n={state:{params:{}},strict:!0,caseInsensitive:!0,decodeParams:!0},Sn=(P.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},P.pathSegmentsAndParams=function(e){return Ye(e._segments,e._params.filter(function(e){return e.location===f.DefType.PATH}).concat(void 0)).reduce(T,[]).filter(function(e){return""!==e&&k(e)})},P.queryParams=function(e){return e._params.filter(function(e){return e.location===f.DefType.SEARCH})},P.compare=function(e,t){for(var n=function(e){return e._cache.weights=e._cache.weights||((e=e)._cache.segments=e._cache.segments||e._cache.path.map(P.pathSegmentsAndParams).reduce(T,[]).reduce(pt,[]).map(function(e){return y(e)?$n(e):e}).reduce(T,[])).map(function(e){return"/"===e?1:y(e)?2:e instanceof h?3:void 0})},e=n(e),n=n(t),i=e,r=n,o=0,a=Math.max(i.length,r.length);i.length<a;)i.push(o);for(;r.length<a;)r.push(o);for(var s,l=Ye(e,n),u=0;u<l.length;u++)if(0!=(s=l[u][0]-l[u][1]))return s;return 0},P.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},P.prototype.isRoot=function(){return this._cache.path[0]===this},P.prototype.toString=function(){return this.pattern},P.prototype._getDecodedParamValue=function(e,t){return k(e)&&(this.config.decodeParams&&!t.type.raw&&(e=b(e)?e.map(function(e){return decodeURIComponent(e)}):decodeURIComponent(e)),e=t.type.decode(e)),t.value(e)},P.prototype.exec=function(e,i,t,n){var r,o=this,a=(void 0===i&&(i={}),s=this._cache,r=function(){return new RegExp(["^",Ie(o._cache.path.map(v("_compiled"))).join(""),!1===o.config.strict?"/?":"","$"].join(""),o.config.caseInsensitive?"i":void 0)},(s[u="pattern"]=s[u]||r()).exec(e));if(!a)return null;var s=this.parameters(),l=s.filter(function(e){return!e.isSearch()}),u=s.filter(function(e){return e.isSearch()}),c=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),d={};if(c!==a.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");function p(e){function t(e){return e.split("").reverse().join("")}e=O(t(e).split(/-(?!\\)/),t);return O(e,function(e){return e.replace(/\\-/g,"-")}).reverse()}for(var h=0;h<c;h++){for(var f=l[h],g=a[h+1],m=0;m<f.replace.length;m++)f.replace[m].from===g&&(g=f.replace[m].to);g&&!0===f.array&&(g=p(g)),d[f.id]=this._getDecodedParamValue(g,f)}return u.forEach(function(e){for(var t=i[e.id],n=0;n<e.replace.length;n++)e.replace[n].from===t&&(t=e.replace[n].to);d[e.id]=o._getDecodedParamValue(t,e)}),t&&(d["#"]=t),d},P.prototype.parameters=function(e){return!1===(e=void 0===e?{}:e).inherit?this._params:Ie(this._cache.path.map(function(e){return e._params}))},P.prototype.parameter=function(i,e){var r=this,t=(void 0===e&&(e={}),this._cache.parent);return function(){for(var e=0,t=r._params;e<t.length;e++){var n=t[e];if(n.id===i)return n}}()||!1!==e.inherit&&t&&t.parameter(i,e)||null},P.prototype.validates=function(n){return n=n||{},this.parameters().filter(function(e){return n.hasOwnProperty(e.id)}).map(function(e){return t=n[(e=e).id],!e||e.validates(t);var t}).reduce(Ae,!0)},P.prototype.format=function(a){void 0===a&&(a={});var e=this._cache.path,t=e.map(P.pathSegmentsAndParams).reduce(T,[]).map(function(e){return y(e)?e:n(e)}),e=e.map(P.queryParams).reduce(T,[]).map(n);return t.concat(e).filter(function(e){return!1===e.isValid}).length?null:t.reduce(function(e,t){var n,i;return y(t)?e+t:(n=t.squash,i=t.encoded,t=t.param,!0===n?e.match(/\/$/)?e.slice(0,-1):e:y(n)?e+n:!1!==n||null==i?e:b(i)?e+O(i,P.encodeDashes).join("-"):t.raw?e+i:e+encodeURIComponent(i))},"")+((t=e.map(function(e){var t=e.param,n=e.squash,i=e.encoded,e=e.isDefaultValue;if(!(null==i||e&&!1!==n)&&0!==(i=b(i)?i:[i]).length)return(i=t.raw?i:O(i,encodeURIComponent)).map(function(e){return t.id+"="+e})}).filter(_).reduce(T,[]).join("&"))?"?"+t:"")+(a["#"]?"#"+a["#"]:"");function n(e){var t=e.value(a[e.id]),n=e.validates(t),i=e.isDefaultValue(t),r=!!i&&e.squash,o=e.type.encode(t);return{param:e,value:t,isValid:n,isDefaultValue:i,squash:r,encoded:o}}},P.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,P);function P(r,o,e,t){for(var n,i,a=this,s=(this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=t=$e(t,_n),this.pattern=r,/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g),l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=[],c=0,d=function(e){if(!P.nameValidator.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+r+"'");if(Oe(a._params,H("id",e)))throw new Error("Duplicate parameter name '"+e+"' in pattern '"+r+"'")},p=function(e,t){var n=e[2]||e[3],i=t?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:n,regexp:i,segment:r.substring(c,e.index),type:i?o.type(i)||(n=i,fe(o.type(t?"query":"path"),{pattern:new RegExp(n,a.config.caseInsensitive?"i":void 0)})):null}};(n=s.exec(r))&&!(0<=(i=p(n,!1)).segment.indexOf("?"));)d(i.id),this._params.push(e.fromPath(i.id,i.type,t.state)),this._segments.push(i.segment),u.push([i.segment,m(this._params)]),c=s.lastIndex;var h=(g=r.substring(c)).indexOf("?");if(0<=h){var f=g.substring(h),g=g.substring(0,h);if(0<f.length)for(c=0;n=l.exec(f);)d((i=p(n,!0)).id),this._params.push(e.fromSearch(i.id,i.type,t.state)),c=s.lastIndex}this._segments.push(g),this._compiled=u.map(function(e){return bn.apply(null,e)}).concat(bn(g))}var Cn=function(){return(Cn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},kn=(Dn.prototype.fromConfig=function(e,t,n){return new h(e,t,f.DefType.CONFIG,this.router.urlService.config,n)},Dn.prototype.fromPath=function(e,t,n){return new h(e,t,f.DefType.PATH,this.router.urlService.config,n)},Dn.prototype.fromSearch=function(e,t,n){return new h(e,t,f.DefType.SEARCH,this.router.urlService.config,n)},Dn);function Dn(e){this.router=e}On.prototype.compile=function(e,t){var n=this.router.urlService.config,i=t&&!t.state&&t.params,i=(t=i?Cn({state:{params:i}},t):t,{strict:n._isStrictMode,caseInsensitive:n._isCaseInsensitive,decodeParams:n._decodeParams});return new Sn(e,n.paramTypes,this.paramFactory,$(i,t))},On.prototype.isMatcher=function(n){var i;return!!w(n)&&(i=!0,de(Sn.prototype,function(e,t){d(e)&&(i=i&&k(n[t])&&d(n[t]))}),i)},On.prototype.$get=function(){var e=this.router.urlService.config;return e.paramTypes.enqueue=!1,e.paramTypes._flushTypeQueue(),this};var xn=On;function On(e){var i=this;this.router=e,this.paramFactory=new kn(this.router),this.UrlMatcher=Sn,this.Param=h,this.caseInsensitive=function(e){return i.router.urlService.config.caseInsensitive(e)},this.defaultSquashPolicy=function(e){return i.router.urlService.config.defaultSquashPolicy(e)},this.strictMode=function(e){return i.router.urlService.config.strictMode(e)},this.type=function(e,t,n){return i.router.urlService.config.type(e,t,n)||i}}An.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},An.prototype.create=function(e,t){var n=this,i=nn.isState,r=nn.isStateDeclaration,o=Q([[y,function(e){return o(n.compile(e))}],[a(Sn),function(e){return n.fromUrlMatcher(e,t)}],[z(i,r),function(e){return n.fromState(e,n.router)}],[a(RegExp),function(e){return n.fromRegExp(e,t)}],[d,function(e){return new En(e,t)}]]),i=o(e);if(i)return i;throw new Error("invalid 'what' in when()")},An.prototype.fromUrlMatcher=function(n,t){var e=t;y(t)&&(t=this.router.urlMatcherFactory.compile(t)),a(Sn)(t)&&(e=function(e){return t.format(e)});var i={urlMatcher:n,matchPriority:function(t){var e=n.parameters().filter(function(e){return e.isOptional});return e.length?e.filter(function(e){return t[e.id]}).length/e.length:1e-6},type:"URLMATCHER"};return $(new En(function(e){return e=n.exec(e.path,e.search,e.hash),n.validates(e)&&e},e),i)},An.prototype.fromState=function(e,i){var r=nn.isStateDeclaration(e)?e.$$state():e,e={state:r,type:"STATE"};return $(this.fromUrlMatcher(r.url,function(e){var t=i.stateService,n=i.globals;t.href(r,e)!==t.href(n.current,n.params)&&t.transitionTo(r,e,{inherit:!0,source:"url"})}),e)},An.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=y(e)?function(n){return e.replace(/\$(\$|\d{1,2})/,function(e,t){return n["$"===t?0:Number(t)]})}:e,i={regexp:t,type:"REGEXP"};return $(new En(function(e){return t.exec(e.path)},n),i)},An.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return k(t[e])})};var Tn=An;function An(e){this.router=e}var En=function(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||_};Rn.prototype.update=function(e){var t=this.router.locationService;e?this.location=t.url():t.url()!==this.location&&t.url(this.location,!0)},Rn.prototype.push=function(e,t,n){n=n&&!!n.replace;this.router.urlService.url(e.format(t||{}),n)},Rn.prototype.href=function(e,t,n){e=e.format(t);if(null==e)return null;n=n||{absolute:!1};var i,r,o,a,t=this.router.urlService.config,s=t.html5Mode();return s||null===e||(e="#"+t.hashPrefix()+e),i=e,r=s,o=n.absolute,e="/"===(a=t.baseHref())?i:r?ot(a)+i:o?a.slice(1)+i:i,n.absolute&&e?(r=!s&&e?"/":"",a=80===(o=t.port())||443===o?"":":"+o,[t.protocol(),"://",t.host(),a,r,e].join("")):e},Object.defineProperty(Rn.prototype,"interceptDeferred",{get:function(){return this.router.urlService.interceptDeferred},enumerable:!1,configurable:!0});var Pn=Rn;function Rn(e){var i=this;this.router=e,this.sync=function(e){return i.router.urlService.sync(e)},this.listen=function(e){return i.router.urlService.listen(e)},this.deferIntercept=function(e){return i.router.urlService.deferIntercept(e)},this.match=function(e){return i.router.urlService.match(e)},this.initial=function(e){return i.router.urlService.rules.initial(e)},this.otherwise=function(e){return i.router.urlService.rules.otherwise(e)},this.removeRule=function(e){return i.router.urlService.rules.removeRule(e)},this.rule=function(e){return i.router.urlService.rules.rule(e)},this.rules=function(){return i.router.urlService.rules.rules()},this.sort=function(e){return i.router.urlService.rules.sort(e)},this.when=function(e,t,n){return i.router.urlService.rules.when(e,t,n)},this.urlRuleFactory=new Tn(e)}In.normalizeUIViewTarget=function(e,t){var t=(t=void 0===t?"":t).split("@"),n=t[0]||"$default",t=y(t[1])?t[1]:"^",i=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);i&&(t=i[1],n=i[2]),"!"===n.charAt(0)&&(n=n.substr(1),t="");return/^(\^(?:\.\^)*)$/.exec(t)?t=t.split(".").reduce(function(e,t){return e.parent},e).name:"."===t&&(t=e.name),{uiViewName:n,uiViewContextAnchor:t}},In.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},In.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},In.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(n)return n=n(e,t),b(n)?n:[n];throw new Error("ViewService: No view config factory registered for type "+t.$type)},In.prototype.deactivateViewConfig=function(e){A.traceViewServiceEvent("<- Removing",e),x(this._viewConfigs,e)},In.prototype.activateViewConfig=function(e){A.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},In.prototype.sync=function(){var n=this,i=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(He,{});function r(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var o=F(function(e,t,n,i){return t*(e(n)-e(i))}),e=this._uiViews.sort(o(function(e){function t(e){return e&&e.parent?t(e.parent)+1:1}return 1e4*e.fqn.split(".").length+t(e.creationContext)},1)).map(function(e){var t=n._viewConfigs.filter(In.matches(i,e));return 1<t.length&&t.sort(o(r,-1)),{uiView:e,viewConfig:t[0]}}),t=e.map(function(e){return e.viewConfig}),a=this._viewConfigs.filter(function(e){return!ge(t,e)}).map(function(e){return{uiView:void 0,viewConfig:e}}),s=(e.forEach(function(e){-1!==n._uiViews.indexOf(e.uiView)&&e.uiView.configUpdated(e.viewConfig)}),e.concat(a));this._listeners.forEach(function(e){return e(s)}),A.traceViewSync(s)},In.prototype.registerUIView=function(t){A.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn&&e.$type===t.$type}).length&&A.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1===e.indexOf(t)?A.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t):(A.traceViewServiceUIViewEvent("<- Deregistering",t),x(e)(t))}},In.prototype.available=function(){return this._uiViews.map(v("fqn"))},In.prototype.active=function(){return this._uiViews.filter(v("$config")).map(v("name"))},In.matches=function(i,r){return function(e){var t,n;return r.$type===e.viewDecl.$type&&(n=(e=e.viewDecl).$uiViewName.split("."),t=r.fqn.split("."),!!pe(n,t.slice(0-n.length)))&&(n=1-n.length||void 0,t=t.slice(0,n).join("."),n=i[t].creationContext,e.$uiViewContextAnchor===(n&&n.name))}};var Mn=In;function In(e){var n=this;this.router=e,this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIView:function(t){return Oe(n._uiViews,function(e){return n.router.$id+"."+e.id===t})},_registeredUIViews:function(){return n._uiViews},_activeViewConfigs:function(){return n._viewConfigs},_onSync:function(e){return n._listeners.push(e),function(){return x(n._listeners,e)}}}}Nn.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null};var Vn=Nn;function Nn(){this.params=new Et,this.lastStartedTransitionId=-1,this.transitionHistory=new Qe([],1),this.successfulTransitions=new Qe([],1)}function Ln(e){if(d(e)||y(e)||a(It)(e)||It.isDef(e))return d(e)?e:s(e);throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property")}var Fn=function(e,t){var n,i,r=(t.priority||0)-(e.priority||0);return 0!=r||(n=t,0!=(r=((i={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1})[e.type]||0)-(i[n.type]||0)))||(i=t,0!==(r=(n=e).urlMatcher&&i.urlMatcher?Sn.compare(n.urlMatcher,i.urlMatcher):0))?r:(n=t,(i={STATE:!0,URLMATCHER:!0})[(r=e).type]&&i[n.type]?0:(r.$id||0)-(n.$id||0))},jn=(Yn.prototype.dispose=function(e){this._rules=[],delete this._otherwiseFn},Yn.prototype.initial=function(e){e=Ln(e);this.rule(this.urlRuleFactory.create(function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)},e))},Yn.prototype.otherwise=function(e){e=Ln(e);this._otherwiseFn=this.urlRuleFactory.create(s(!0),e),this._sorted=!1},Yn.prototype.removeRule=function(e){x(this._rules,e)},Yn.prototype.rule=function(e){var t=this;if(Tn.isUrlRule(e))return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)};throw new Error("invalid rule")},Yn.prototype.rules=function(){return this.ensureSorted(),this._rules.concat(this._otherwiseFn?[this._otherwiseFn]:[])},Yn.prototype.sort=function(e){for(var t=this.stableSort(this._rules,this._sortFn=e||this._sortFn),n=0,i=0;i<t.length;i++)t[i]._group=n,i<t.length-1&&0!==this._sortFn(t[i],t[i+1])&&n++;this._rules=t,this._sorted=!0},Yn.prototype.ensureSorted=function(){this._sorted||this.sort()},Yn.prototype.stableSort=function(e,i){e=e.map(function(e,t){return{elem:e,idx:t}});return e.sort(function(e,t){var n=i(e.elem,t.elem);return 0===n?e.idx-t.idx:n}),e.map(function(e){return e.elem})},Yn.prototype.when=function(e,t,n){e=this.urlRuleFactory.create(e,t);return k(n&&n.priority)&&(e.priority=n.priority),this.rule(e),e},Yn);function Yn(e){this.router=e,this._sortFn=Fn,this._rules=[],this._id=0,this.urlRuleFactory=new Tn(e)}Un.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=k(e)?e:this._isCaseInsensitive},Un.prototype.defaultSquashPolicy=function(e){if(k(e)&&!0!==e&&!1!==e&&!y(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=k(e)?e:this._defaultSquashPolicy},Un.prototype.strictMode=function(e){return this._isStrictMode=k(e)?e:this._isStrictMode},Un.prototype.type=function(e,t,n){e=this.paramTypes.type(e,t,n);return k(t)?this:e};var Hn=Un;function Un(e){var t=this;this.router=e,this.paramTypes=new Ot,this._decodeParams=!0,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.dispose=function(){return t.paramTypes.dispose()},this.baseHref=function(){return t.router.locationConfig.baseHref()},this.hashPrefix=function(e){return t.router.locationConfig.hashPrefix(e)},this.host=function(){return t.router.locationConfig.host()},this.html5Mode=function(){return t.router.locationConfig.html5Mode()},this.port=function(){return t.router.locationConfig.port()},this.protocol=function(){return t.router.locationConfig.protocol()}}zn.prototype.dispose=function(){this.listen(!1),this.rules.dispose()},zn.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},zn.prototype.sync=function(e){var t,n,i;e&&e.defaultPrevented||(e=this.router,t=e.urlService,n=e.stateService,e={path:t.path(),search:t.search(),hash:t.hash()},i=this.match(e),Q([[y,function(e){return t.url(e,!0)}],[It.isDef,function(e){return n.go(e.state,e.params,e.options)}],[a(It),function(e){return n.go(e.state(),e.params(),e.options())}]])(i&&i.rule.handler(i.match,e,this.router)))},zn.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopListeningFn=this._stopListeningFn||this.router.urlService.onChange(function(e){return t.sync(e)});this._stopListeningFn&&this._stopListeningFn(),delete this._stopListeningFn},zn.prototype.deferIntercept=function(e){this.interceptDeferred=e=void 0===e?!0:e},zn.prototype.match=function(e){for(var t,n=this,i=(e=$({path:"",search:{},hash:""},e),this.rules.rules()),r=0;r<i.length&&(!a||a.rule._group===i[r]._group);r++){o=i[r],t=void 0;var o=(t=o.match(e,n.router))&&{match:t,rule:o,weight:o.matchPriority(t)},a=!a||o&&o.weight>a.weight?o:a}return a};var qn=zn;function zn(e){var i=this;this.router=e,this.interceptDeferred=!1,this.rules=new jn(this.router),this.config=new Hn(this.router),this.url=function(e,t,n){return i.router.locationService.url(e,t,n)},this.path=function(){return i.router.locationService.path()},this.search=function(){return i.router.locationService.search()},this.hash=function(){return i.router.locationService.hash()},this.onChange=function(e){return i.router.locationService.onChange(e)}}var Bn=0,Wn=ae("LocationServices",["url","path","search","hash","onChange"]),Gn=ae("LocationConfig",["port","protocol","host","baseHref","html5Mode","hashPrefix"]),Kn=(Qn.prototype.disposable=function(e){this._disposables.push(e)},Qn.prototype.dispose=function(e){var t=this;e&&d(e.dispose)?e.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),x(t._disposables,e)}catch(e){}}))},Qn.prototype.plugin=function(e,t){e=new e(this,t=void 0===t?{}:t);if(e.name)return this._disposables.push(e),this._plugins[e.name]=e;throw new Error("Required property `name` missing on plugin: "+e)},Qn.prototype.getPlugin=function(e){return e?this._plugins[e]:Re(this._plugins)},Qn);function Qn(e,t){void 0===t&&(t=Gn),this.locationService=e=void 0===e?Wn:e,this.locationConfig=t,this.$id=Bn++,this._disposed=!1,this._disposables=[],this.trace=A,this.viewService=new Mn(this),this.globals=new Vn,this.transitionService=new yi(this),this.urlMatcherFactory=new xn(this),this.urlRouter=new Pn(this),this.urlService=new qn(this),this.stateRegistry=new ln(this),this.stateService=new wi(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlService),this.disposable(e),this.disposable(t)}function Zn(t){t.addResolvable(u.fromData(Kn,t.router),""),t.addResolvable(u.fromData(wn,t),""),t.addResolvable(u.fromData("$transition$",t),""),t.addResolvable(u.fromData("$stateParams",t.params()),""),t.entering().forEach(function(e){t.addResolvable(u.fromData("$state$",e),e)})}function Xn(e){function t(e){return ei(e.token)?u.fromData(e.token,null):e}(e=Re(e.treeChanges()).reduce(T,[]).reduce(Ne,[])).forEach(function(e){e.resolvables=e.resolvables.map(t)})}function Jn(t){var n,e=t.to().redirectTo;if(e)return n=t.router.stateService,d(e)?c.$q.when(e(t)).then(i):i(e);function i(e){if(e)return e instanceof It?e:y(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}}var ei=ge(["$transition$",wn]);function ti(n){return function(e,t){return(0,t.$$state()[n])(e,t)}}function ni(e){return new Ut(e.treeChanges().to).resolvePath("EAGER",e).then(D)}function ii(e,t){return new Ut(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(D)}function ri(e){return new Ut(e.treeChanges().to).resolvePath("LAZY",e).then(D)}function oi(e){var t=c.$q;if((e=e.views("entering")).length)return t.all(e.map(function(e){return t.when(e.load())})).then(D)}function ai(e){var t,n=e.views("entering"),i=e.views("exiting");(n.length||i.length)&&(t=e.router.viewService,i.forEach(function(e){return t.deactivateViewConfig(e)}),n.forEach(function(e){return t.activateViewConfig(e)}),t.sync())}function si(e){function t(){n.transition===e&&(n.transition=null)}var n=e.router.globals;e.onSuccess({},function(){n.successfulTransitions.enqueue(e),n.$current=e.$to(),n.current=n.$current.self,Ue(e.params(),n.params)},{priority:1e4}),e.promise.then(t,t)}function li(e){var t=e.options(),n=e.router.stateService,e=e.router.urlRouter;"url"!==t.source&&t.location&&n.$current.navigable&&(t={replace:"replace"===t.location},e.push(n.$current.navigable.url,n.params,t)),e.update(!0)}function ui(n){var i=n.router,e=n.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(e){return hi(n,e)});return c.$q.all(e).then(function(){var e,t;return"url"!==n.originalTransition().options().source?(t=n.targetState(),i.stateService.target(t.identifier(),t.params(),t.options())):(e=(t=(t=i.urlService).match(t.parts()))&&t.rule)&&"STATE"===e.type?(e=e.state,t=t.match,i.stateService.target(e,t,n.options())):void i.urlService.sync()})}var ci=ti("onExit"),di=ti("onRetain"),pi=ti("onEnter");function hi(t,n){var i=n.$$state().lazyLoad,e=i._promise;return e||(e=i._promise=c.$q.when(i(t,n)).then(function(e){e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)});return e}).then(function(e){return delete n.lazyLoad,delete n.$$state().lazyLoad,delete i._promise,e},function(e){return delete i._promise,c.$q.reject(e)})),e}var fi=function(e,t,n,i,r,o,a,s){void 0===r&&(r=!1),void 0===o&&(o=dn.HANDLE_RESULT),void 0===a&&(a=dn.REJECT_ERROR),void 0===s&&(s=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=i,this.reverseSort=r,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s};function gi(e){var t=e._ignoredReason();if(t)return A.traceTransitionIgnored(e),e=e.router.globals.transition,"SameAsCurrent"===t&&e&&e.abort(),p.ignored().toPromise()}function mi(e){if(!e.valid())throw new Error(e.error().toString())}var vi={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,supercede:!0,custom:{},current:function(){return null},source:"unknown"},yi=(R.prototype.onCreate=function(e,t,n){},R.prototype.onBefore=function(e,t,n){},R.prototype.onStart=function(e,t,n){},R.prototype.onExit=function(e,t,n){},R.prototype.onRetain=function(e,t,n){},R.prototype.onEnter=function(e,t,n){},R.prototype.onFinish=function(e,t,n){},R.prototype.onSuccess=function(e,t,n){},R.prototype.onError=function(e,t,n){},R.prototype.dispose=function(e){Re(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,x(t,e)})})},R.prototype.create=function(e,t){return new wn(e,t,this._router)},R.prototype._defineCoreEvents=function(){var e=f.TransitionHookPhase,t=dn,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},R.prototype._defineCorePaths=function(){var e=f.TransitionHookScope.STATE,t=f.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},R.prototype._defineEvent=function(e,t,n,i,r,o,a,s){void 0===o&&(o=dn.HANDLE_RESULT),void 0===a&&(a=dn.REJECT_ERROR);e=new fi(e,t,n,i,r=void 0===r?!1:r,o,a,s=void 0===s?!1:s);this._eventTypes.push(e),gn(this,this,e)},R.prototype._getEvents=function(t){return(k(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0==n?e.hookOrder-t.hookOrder:n})},R.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},R.prototype._getPathTypes=function(){return this._criteriaPaths},R.prototype.getHooks=function(e){return this._registeredHooks[e]},R.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=this.onCreate({},Zn),e.ignored=this.onBefore({},gi,{priority:-9999}),e.invalid=this.onBefore({},mi,{priority:-1e4}),e.redirectTo=this.onStart({to:function(e){return!!e.redirectTo}},Jn),e.onExit=this.onExit({exiting:function(e){return!!e.onExit}},ci),e.onRetain=this.onRetain({retained:function(e){return!!e.onRetain}},di),e.onEnter=this.onEnter({entering:function(e){return!!e.onEnter}},pi),e.eagerResolve=this.onStart({},ni,{priority:1e3}),e.lazyResolve=this.onEnter({entering:s(!0)},ii,{priority:1e3}),e.resolveAll=this.onFinish({},ri,{priority:1e3}),e.loadViews=this.onFinish({},oi),e.activateViews=this.onSuccess({},ai),e.updateGlobals=this.onCreate({},si),e.updateUrl=this.onSuccess({},li,{priority:9999}),e.lazyLoad=this.onBefore({entering:function(e){return!!e.lazyLoad}},ui)},R);function R(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=he(s(this),{},s(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),e.globals.successfulTransitions.onEvict(Xn)}Object.defineProperty(M.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!1,configurable:!0}),M.prototype.dispose=function(){this.defaultErrorHandler(D),this.invalidCallbacks=[]},M.prototype._handleInvalidTargetState=function(e,n){var t=this,i=Vt.makeTargetState(this.router.stateRegistry,e),r=this.router.globals,o=function(){return r.transitionHistory.peekTail()},a=o(),s=new Qe(this.invalidCallbacks.slice()),l=new Ut(e).injector(),u=function(e){if(e instanceof It)return(e=t.target((e=e).identifier(),e.params(),e.options())).valid()?o()!==a?p.superseded().toPromise():t.transitionTo(e.identifier(),e.params(),e.options()):p.invalid(e.error()).toPromise()};return function t(){var e=s.dequeue();return void 0===e?p.invalid(n.error()).toPromise():c.$q.when(e(n,i,l)).then(u).then(function(e){return e||t()})}()},M.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){x(this.invalidCallbacks)(e)}.bind(this)},M.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!k(e)||e,inherit:!1,notify:!1})},M.prototype.go=function(e,t,n){n=$e(n,{relative:this.$current,inherit:!0},vi);return this.transitionTo(e,t,n)},M.prototype.target=function(e,t,n){if(w((n=void 0===n?{}:n).reload)&&!n.reload.name)throw new Error("Invalid reload state object");var i=this.router.stateRegistry;if(n.reloadState=!0===n.reload?i.root():i.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(y(n.reload)?n.reload:n.reload.name)+"'");return new It(this.router.stateRegistry,e,t,n)},M.prototype.getCurrentPath=function(){var e=this,t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new Rt(e.router.stateRegistry.root())]},M.prototype.transitionTo=function(e,t,n){function i(){return l.transition}var r,o,a=this,s=(void 0===t&&(t={}),this.router),l=s.globals,e=(n=$e(n=void 0===n?{}:n,vi),n=$(n,{current:i}),this.target(e,t,n)),t=this.getCurrentPath();return e.exists()?e.valid()?!1===n.supercede&&i()?p.ignored("Another transition is in progress and supercede has been set to false in TransitionOptions for the transition. So the transition was ignored in favour of the existing one in progress.").toPromise():(r=function(i){return function(e){if(e instanceof p){var t=s.globals.lastStartedTransitionId<=i.$id;if(e.type===f.RejectType.IGNORED)return t&&s.urlRouter.update(),c.$q.when(l.current);var n=e.detail;if(e.type===f.RejectType.SUPERSEDED&&e.redirected&&n instanceof It)return(n=i.redirect(n)).run().catch(r(n));if(e.type===f.RejectType.ABORTED)return t&&s.urlRouter.update(),c.$q.reject(e)}return a.defaultErrorHandler()(e),c.$q.reject(e)}},o=(n=this.router.transitionService.create(t,e)).run().catch(r(n)),Be(o),$(o,{transition:n})):We(e.error()):this._handleInvalidTargetState(t,e)},M.prototype.is=function(e,t,n){n=$e(n,{relative:this.$current});e=this.router.stateRegistry.matcher.find(e,n.relative);if(k(e))return this.$current===e&&(!t||(n=e.parameters({inherit:!0,matchingKeys:t}),h.equals(n,h.values(n,t),this.params)))},M.prototype.includes=function(e,t,n){n=$e(n,{relative:this.$current});var i=y(e)&&Ge.fromString(e);if(i){if(!i.matches(this.$current.name))return!1;e=this.$current.name}i=this.router.stateRegistry.matcher.find(e,n.relative),e=this.$current.includes;if(k(i))return!!k(e[i.name])&&(!t||(n=i.parameters({inherit:!0,matchingKeys:t}),h.equals(n,h.values(n,t),this.params)))},M.prototype.href=function(e,t,n){n=$e(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),t=t||{};e=this.router.stateRegistry.matcher.find(e,n.relative);if(!k(e))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,e));e=e&&n.lossy?e.navigable:e;return e&&void 0!==e.url&&null!==e.url?this.router.urlRouter.href(e.url,t,{absolute:n.absolute}):null},M.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},M.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},M.prototype.lazyLoad=function(e,t){var n,i,r=this.get(e);if(r&&r.lazyLoad)return n=this.getCurrentPath(),i=Vt.makeTargetState(this.router.stateRegistry,n),hi(t=t||this.router.transitionService.create(n,i),r);throw new Error("Can not lazy load "+e)};var wi=M;function M(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof p?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};e=Object.keys(M.prototype).filter(U(ge(["current","$current","params","transition"])));he(s(M.prototype),this,s(this),e)}function bi(e){return e.split("&").filter(_).map(ct).reduce(Di,{})}var $i={when:function(n){return new Promise(function(e,t){return e(n)})},reject:function(n){return new Promise(function(e,t){t(n)})},defer:function(){var n={};return n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n},all:function(e){var t;return b(e)?Promise.all(e):w(e)?(t=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})}),$i.all(t).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})):void 0}},_i={},Si=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ci=/([^\s,]+)/g,ki={get:function(e){return _i[e]},has:function(e){return null!=ki.get(e)},invoke:function(e,t,n){var i=$({},_i,n||{}),n=ki.annotate(e),r=Le(function(e){return i.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),n=n.filter(r).map(function(e){return i[e]});return(d(e)?e:e.slice(-1)[0]).apply(t,n)},annotate:function(e){var t;if(oe(e))return e&&e.$inject?e.$inject:b(e)?e.slice(0,-1):(t=e.toString().replace(Si,"")).slice(t.indexOf("(")+1,t.indexOf(")")).match(Ci)||[];throw new Error("Not an injectable function: "+e)}},Di=function(e,t){var n=t[0],t=t[1];return e.hasOwnProperty(n)?b(e[n])?e[n].push(t):e[n]=[e[n],t]:e[n]=t,e};function xi(e){function t(e){return e||""}var n=lt(e).map(t),i=n[0],n=n[1],i=ut(i).map(t);return{path:i[0],search:i[1],hash:n,url:e}}function Oi(e){var t=e.path(),n=e.search(),e=e.hash(),i=Object.keys(n).map(function(t){var e=n[t];return(b(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(T,[]).join("&");return t+(i?"?"+i:"")+(e?"#"+e:"")}function Ti(i,r,o,a){return function(e){var t=e.locationService=new o(e),n=e.locationConfig=new a(e,r);return{name:i,service:t,configuration:n,dispose:function(e){e.dispose(t),e.dispose(n)}}}}Ai.prototype.url=function(t,e){return void 0===e&&(e=!0),k(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate)&&this._listeners.forEach(function(e){return e({url:t})}),Oi(this)},Ai.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return x(t._listeners,e)}},Ai.prototype.dispose=function(e){be(this._listeners)};e=Ai;function Ai(e,t){var n=this;this.fireAfterUpdate=t,this._listeners=[],this._listener=function(t){return n._listeners.forEach(function(e){return e(t)})},this.hash=function(){return xi(n._get()).hash},this.path=function(){return xi(n._get()).path},this.search=function(){return bi(xi(n._get()).search)},this._location=ue.location,this._history=ue.history}Ei=function(e,t){return(Ei=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)};(function(e,t){function n(){this.constructor=e}Ei(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Mi,Pi=e),Mi.prototype._get=function(){return at(this._location.hash)},Mi.prototype._set=function(e,t,n,i){this._location.hash=n},Mi.prototype.dispose=function(e){Pi.prototype.dispose.call(this,e),ue.removeEventListener("hashchange",this._listener)};var Ei,Pi,Ri=Mi;function Mi(e){e=Pi.call(this,e,!1)||this;return ue.addEventListener("hashchange",e._listener,!1),e}Ii=function(e,t){return(Ii=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)};(function(e,t){function n(){this.constructor=e}Ii(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Li,Vi=e),Li.prototype._get=function(){return this._url},Li.prototype._set=function(e,t,n,i){this._url=n};var Ii,Vi,Ni=Li;function Li(e){return Vi.call(this,e,!0)||this}Fi=function(e,t){return(Fi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)};(function(e,t){function n(){this.constructor=e}Fi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Hi,ji=e),Hi.prototype._getBasePrefix=function(){return ot(this._config.baseHref())},Hi.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,e=e.search,e=ut(e)[1],n=lt(n)[1],i=this._getBasePrefix(),r=t===this._config.baseHref(),o=t.substr(0,i.length)===i;return(t=r?"/":o?t.substring(i.length):t)+(e?"?"+e:"")+(n?"#"+n:"")},Hi.prototype._set=function(e,t,n,i){var r=this._getBasePrefix(),o=n&&"/"!==n[0]?"/":"",r=""===n||"/"===n?this._config.baseHref():r+o+n;i?this._history.replaceState(e,t,r):this._history.pushState(e,t,r)},Hi.prototype.dispose=function(e){ji.prototype.dispose.call(this,e),ue.removeEventListener("popstate",this._listener)};var Fi,ji,Yi=Hi;function Hi(e){var t=ji.call(this,e,!0)||this;return t._config=e.urlService.config,ue.addEventListener("popstate",t._listener,!1),t}function Ui(){var t=this;this.dispose=D,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return k(e)?t._hashPrefix=e:t._hashPrefix}}zi.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},zi.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},zi.prototype.host=function(){return location.hostname},zi.prototype.html5Mode=function(){return this._isHtml5},zi.prototype.hashPrefix=function(e){return k(e)?this._hashPrefix=e:this._hashPrefix},zi.prototype.baseHref=function(e){return k(e)&&(this._baseHref=e),te(this._baseHref)&&(this._baseHref=this.getBaseHref()),this._baseHref},zi.prototype.getBaseHref=function(){var e=document.getElementsByTagName("base")[0];return e&&e.href?e.href.replace(/^([^/:]*:)?\/\/[^/]*/,""):!this._isHtml5&&location.pathname||"/"},zi.prototype.dispose=function(){};var qi=zi;function zi(e,t){this._isHtml5=t=void 0===t?!1:t,this._baseHref=void 0,this._hashPrefix=""}function Bi(e){return c.$injector=ki,{name:"vanilla.services",$q:c.$q=$i,$injector:ki,dispose:function(){return null}}}var Wi=Ti("vanilla.hashBangLocation",!1,Ri,qi),Gi=Ti("vanilla.pushStateLocation",!0,Yi,qi),Ki=Ti("vanilla.memoryLocation",!1,Ni,Ui),Qi=(Zi.prototype.dispose=function(e){},Zi);function Zi(){}var Xi=Object.freeze({__proto__:null,root:ue,fromJson:N,toJson:ce,forEach:de,extend:$,equals:pe,identity:_,noop:D,createProxyFunctions:he,inherit:fe,inArray:ge,_inArray:me,removeFrom:x,_removeFrom:ve,pushTo:ye,_pushTo:we,deregAll:be,defaults:$e,mergeR:_e,ancestors:Se,pick:Ce,omit:ke,pluck:De,filter:xe,find:Oe,mapObj:Te,map:O,values:Re,allTrueR:Ae,anyTrueR:Ee,unnestR:T,flattenR:Pe,pushR:Me,uniqR:Ne,unnest:Ie,flatten:Ve,assertPredicate:Le,assertMap:V,assertFn:Fe,pairs:je,arrayTuples:Ye,applyPairs:He,tail:m,copy:Ue,_extend:qe,silenceUncaughtInPromise:Be,silentRejection:We,makeStub:ae,services:c,Glob:Ge,curry:F,compose:j,pipe:Y,prop:v,propEq:H,parse:C,not:U,and:q,or:z,all:B,any:W,is:a,eq:G,val:s,invoke:K,pattern:Q,isUndefined:te,isDefined:k,isNull:ne,isNullOrUndefined:ie,isFunction:d,isNumber:re,isString:y,isObject:w,isArray:b,isDate:X,isRegExp:J,isInjectable:oe,isPromise:se,Queue:Qe,maxLength:Je,padString:et,kebobString:tt,functionToString:nt,fnToString:it,stringify:l,beforeAfterSubstr:rt,hostRegex:st,stripLastPathElement:ot,splitHash:lt,splitQuery:ut,splitEqual:ct,trimHashVal:at,splitOnDelim:dt,joinNeighborsR:pt,get Category(){return f.Category},Trace:bt,trace:A,get DefType(){return f.DefType},Param:h,ParamTypes:Ot,StateParams:Et,ParamType:$t,PathNode:Rt,PathUtils:Vt,resolvePolicies:Nt,defaultResolvePolicy:Lt,Resolvable:u,NATIVE_INJECTOR_TOKEN:Ht,ResolveContext:Ut,resolvablesBuilder:Jt,StateBuilder:en,StateObject:nn,StateMatcher:rn,StateQueueManager:an,StateRegistry:ln,StateService:wi,TargetState:It,get TransitionHookPhase(){return f.TransitionHookPhase},get TransitionHookScope(){return f.TransitionHookScope},HookBuilder:mn,matchState:pn,RegisteredHook:hn,makeEvent:gn,get RejectType(){return f.RejectType},Rejection:p,Transition:wn,TransitionHook:dn,TransitionEventType:fi,defaultTransOpts:vi,TransitionService:yi,UrlRules:jn,UrlConfig:Hn,UrlMatcher:Sn,ParamFactory:kn,UrlMatcherFactory:xn,UrlRouter:Pn,UrlRuleFactory:Tn,BaseUrlRule:En,UrlService:qn,ViewService:Mn,UIRouterGlobals:Vn,UIRouter:Kn,$q:$i,$injector:ki,BaseLocationServices:e,HashLocationService:Ri,MemoryLocationService:Ni,PushStateLocationService:Yi,MemoryLocationConfig:Ui,BrowserLocationConfig:qi,keyValsToObjectR:Di,getParams:bi,parseUrl:xi,buildUrl:Oi,locationPluginFactory:Ti,servicesPlugin:Bi,hashLocationPlugin:Wi,pushStateLocationPlugin:Gi,memoryLocationPlugin:Ki,UIRouterPluginBase:Qi});function Ji(){var n=null;return function(e,t){return n=n||c.$injector.get("$templateFactory"),[new ir(e,t,n)]}}var er=function(e,n){return e.reduce(function(e,t){return e||k(n[t])},!1)};function tr(i){if(!i.parent)return{};var r=["component","bindings","componentProvider"],o=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),e=r.concat(o);if(k(i.views)&&er(e,i))throw new Error("State '"+i.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+e.filter(function(e){return k(i[e])}).join(", "));var a={},e=i.views||{$default:Ce(i,e)};return de(e,function(e,t){if(t=t||"$default",y(e)&&(e={component:e}),e=$({},e),er(r,e)&&er(o,e))throw new Error("Cannot combine: "+r.join("|")+" with: "+o.join("|")+" in stateview: '"+t+"@"+i.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=i,e.$name=t;var n=Mn.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=n.uiViewName,e.$uiViewContextAnchor=n.uiViewContextAnchor,a[t]=e}),a}var nr=0,ir=(rr.prototype.load=function(){var t=this,e=c.$q,n=new Ut(this.path),i=this.path.reduce(function(e,t){return $(e,t.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,i,n)),controller:e.when(this.getController(n))};return e.all(i).then(function(e){return A.traceViewServiceEvent("Loaded",t),t.controller=e.controller,$(t,e.template),t})},rr.prototype.getController=function(e){var t,n=this.viewDecl.controllerProvider;return oe(n)?(t=c.$injector.annotate(n),n=b(n)?m(n):n,new u("",n,t).get(e)):this.viewDecl.controller},rr);function rr(e,t,n){var i=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=nr++,this.loaded=!1,this.getTemplate=function(e,t){return i.component?i.factory.makeComponentTemplate(e,t,i.component,i.viewDecl.bindings):i.template}}ar.prototype.useHttpService=function(e){this._useHttp=e},ar.prototype.fromConfig=function(e,t,n){function i(e){return c.$q.when(e).then(function(e){return{template:e}})}function r(e){return c.$q.when(e).then(function(e){return{component:e}})}return k(e.template)?i(this.fromString(e.template,t)):k(e.templateUrl)?i(this.fromUrl(e.templateUrl,t)):k(e.templateProvider)?i(this.fromProvider(e.templateProvider,t,n)):k(e.component)?r(e.component):k(e.componentProvider)?r(this.fromComponentProvider(e.componentProvider,t,n)):i("<ui-view></ui-view>")},ar.prototype.fromString=function(e,t){return d(e)?e(t):e},ar.prototype.fromUrl=function(e,t){return null==(e=d(e)?e(t):e)?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},ar.prototype.fromProvider=function(e,t,n){var i=c.$injector.annotate(e),e=b(e)?m(e):e;return new u("",e,i).get(n)},ar.prototype.fromComponentProvider=function(e,t,n){var i=c.$injector.annotate(e),e=b(e)?m(e):e;return new u("",e,i).get(n)},ar.prototype.makeComponentTemplate=function(r,o,e,a){a=a||{};function s(e){return e=tt(e),/^(x|data)-/.exec(e)?"x-"+e:e}var l=3<=S.version.minor?"::":"",t=function(e){var t=c.$injector.get(e+"Directive");if(t&&t.length)return t.map(sr).reduce(T,[]);throw new Error("Unable to find component named '"+e+"'")}(e).map(function(e){var t,n=e.name,e=e.type,i=s(n);return r.attr(i)&&!a[n]?i+"='"+r.attr(i)+"'":(n=a[n]||n,"@"===e?i+"='{{"+l+"$resolve."+n+"}}'":"&"===e?(t=(e=(e=o.getResolvable(n))&&e.data)&&c.$injector.annotate(e)||[],i+"='$resolve."+n+(b(e)?"["+(e.length-1)+"]":"")+"("+t.join(",")+")'"):i+"='"+l+"$resolve."+n+"'")}).join(" "),e=s(e);return"<"+e+" "+t+"></"+e+">"};var or=ar;function ar(){var i=this;this._useHttp=S.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,t,n){return i.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),i.$http=e,i.$templateCache=t,i}]}var sr=function(e){return w(e.bindToController)?lr(e.bindToController):lr(e.scope)},lr=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(e){return k(e)&&b(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})},ur=(cr.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},cr.prototype.state=function(e,t){return w(e)?t=e:t.name=e,this.stateRegistry.register(t),this},cr.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},cr);function cr(e,t){this.stateRegistry=e,this.stateService=t,he(s(cr.prototype),this,s(this))}function dr(t){return function(e){var i=e[t],r="onExit"===t?"from":"to";return i?function(e,t){var n=new Ut(e.treeChanges(r)).subContext(t.$$state()),n=$(kr(n),{$state$:t,$transition$:e});return c.$injector.invoke(i,this,n)}:void 0}}hr.monkeyPatchPathParameterType=function(e){e=e.urlMatcherFactory.type("path");e.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},e.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},hr.prototype.dispose=function(){},hr.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return x(t._urlListeners)(e)}},hr.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(w(e)?e.enabled:e)&&this.$sniffer.history},hr.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)},hr.prototype.url=function(e,t,n){return void 0===t&&(t=!1),k(e)&&this.$location.url(e),t&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},hr.prototype._runtimeServices=function(e,t,n,i,r){var o=this,n=(this.$location=t,this.$sniffer=n,this.$browser=i,this.$window=r,e.$on("$locationChangeSuccess",function(t){return o._urlListeners.forEach(function(e){return e(t)})}),s(t));he(n,this,n,["replace","path","search","hash"]),he(n,this,n,["port","protocol","host"])};var pr=hr;function hr(e){this._urlListeners=[],this.$locationProvider=e;e=s(e);he(e,this,e,["hashPrefix"])}gr.injectableHandler=function(t,n){return function(e){return c.$injector.invoke(n,null,{$match:e,$stateParams:t.globals.params})}},gr.prototype.$get=function(){var e=this.router.urlService;return this.router.urlRouter.update(!0),e.interceptDeferred||e.listen(),this.router.urlRouter},gr.prototype.rule=function(e){var t,n=this;if(d(e))return t=new En(function(){return e(c.$injector,n.router.locationService)},_),this.router.urlService.rules.rule(t),this;throw new Error("'rule' must be a function")},gr.prototype.otherwise=function(e){var t=this,n=this.router.urlService.rules;if(y(e))n.otherwise(e);else{if(!d(e))throw new Error("'rule' must be a string or function");n.otherwise(function(){return e(c.$injector,t.router.locationService)})}return this},gr.prototype.when=function(e,t){return(b(t)||d(t))&&(t=gr.injectableHandler(this.router,t)),this.router.urlService.rules.when(e,t),this},gr.prototype.deferIntercept=function(e){this.router.urlService.deferIntercept(e)};var fr=gr;function gr(e){this.router=e}S.module("ui.router.angular1",[]);var mr=S.module("ui.router.init",["ng"]),vr=S.module("ui.router.util",["ui.router.init"]),yr=S.module("ui.router.router",["ui.router.util"]),wr=S.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),br=S.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),I=(S.module("ui.router.compat",["ui.router"]),null);function $r(e){(I=this.router=new Kn).stateProvider=new ur(I.stateRegistry,I.stateService),I.stateRegistry.decorator("views",tr),I.stateRegistry.decorator("onExit",dr("onExit")),I.stateRegistry.decorator("onRetain",dr("onRetain")),I.stateRegistry.decorator("onEnter",dr("onEnter")),I.viewService._pluginapi._viewConfigFactory("ng1",Ji()),I.urlService.config._decodeParams=!1;var s=I.locationService=I.locationConfig=new pr(e);function t(e,t,n,i,r,o,a){return s._runtimeServices(r,e,i,t,n),delete I.router,delete I.$get,I}return pr.monkeyPatchPathParameterType(I),((I.router=I).$get=t).$inject=["$location","$browser","$window","$sniffer","$rootScope","$http","$templateCache"],I}$r.$inject=["$locationProvider"];function _r(n){return["$uiRouterProvider",function(e){var t=e.router[n];return t.$get=function(){return t},t}]}function Sr(t,e,n){if(c.$injector=t,c.$q=e,!Object.prototype.hasOwnProperty.call(t,"strictDi"))try{t.invoke(function(e){})}catch(e){t.strictDi=!!/strict mode/.exec(e&&e.toString())}n.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(T,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}Sr.$inject=["$injector","$q","$uiRouter"];function Cr(e){e.$watch(function(){A.approximateDigests++})}Cr.$inject=["$rootScope"],mr.provider("$uiRouter",$r),yr.provider("$urlRouter",["$uiRouterProvider",function(e){return e.urlRouterProvider=new fr(e)}]),vr.provider("$urlService",_r("urlService")),vr.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return I.urlMatcherFactory}]),vr.provider("$templateFactory",function(){return new or}),wr.provider("$stateRegistry",_r("stateRegistry")),wr.provider("$uiRouterGlobals",_r("globals")),wr.provider("$transitions",_r("transitionService")),wr.provider("$state",["$uiRouterProvider",function(){return $(I.stateProvider,{$get:function(){return I.stateService}})}]),wr.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),br.factory("$view",function(){return I.viewService}),br.service("$trace",function(){return A}),br.run(Cr),vr.run(["$urlMatcherFactory",function(e){}]),wr.run(["$state",function(e){}]),yr.run(["$urlRouter",function(e){}]),mr.run(Sr);var kr=function(n){return n.getTokens().filter(y).map(function(e){var t=n.getResolvable(e);return[e,"NOWAIT"===n.getPolicy(t).async?t.promise:t.data]}).reduce(He,{})};function Dr(e){var t=e.match(/^\s*({[^}]*})\s*$/),t=(e=t?"("+t[1]+")":e).replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/);if(t&&4===t.length)return{state:t[1]||null,paramExpr:t[3]||null};throw new Error("Invalid state ref '"+e+"'")}function xr(e){e=e.parent().inheritedData("$uiView"),e=C("$cfg.path")(e);return e?m(e).state.name:void 0}function Or(e,t,n){var i=n.uiState||e.current.name,t=$((r=e,{relative:xr(t)||r.$current,inherit:!0,source:"sref"}),n.uiStateOpts||{}),r=e.href(i,n.uiStateParams,t);return{uiState:i,uiStateParams:n.uiStateParams,uiStateOpts:t,href:r}}function Tr(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function Ar(o,a,s,l,u){return function(e){var t,n,i=e.which||e.button,r=u();1<i||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||o.attr("target")||(t=s(function(){o.attr("disabled")||a.go(r.uiState,r.uiStateParams,r.uiStateOpts)}),e.preventDefault(),n=l.isAnchor&&!r.href?1:0,e.preventDefault=function(){n--<=0&&s.cancel(t)})}}function Er(r,e,o,t){t&&(a=t.events),b(a)||(a=["click"]);for(var a,n=r.on?"on":"bind",i=0,s=a;i<s.length;i++){var l=s[i];r[n](l,o)}e.$on("$destroy",function(){for(var e=r.off?"off":"unbind",t=0,n=a;t<n.length;t++){var i=n[t];r[e](i,o)}})}function Pr(i){function e(e,t,n){return i.is(e,t,n)}return e.$stateful=!0,e}function Rr(i){function e(e,t,n){return i.includes(e,t,n)}return e.$stateful=!0,e}function Mr(d,p,h,e,f){var g=C("viewDecl.controllerAs"),m=C("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(e){var c=e.html();return e.empty(),function(t,n){var i,e,r,o,a,s,l,u=n.data("$uiView");(u?(r=(i=u.$cfg||{viewDecl:{},getTemplate:D}).path&&new Ut(i.path),n.html(i.getTemplate(n,r)||c),A.traceUIViewFill(u.$uiView,n.html()),u=d(n.contents()),o=i.controller,a=g(i),e=m(i),r=r&&kr(r),t[e]=r,o&&(o=p(o,$({},r,{$scope:t,$element:n})),a&&(t[a]=o,t[a][e]=r),n.data("$ngControllerController",o),n.children().data("$ngControllerController",o),Nr(f,h,o,t,i)),y(i.component)&&(a=tt(i.component),s=new RegExp("^(x-|data-)?"+a+"$","i"),l=t.$watch(function(){var e=[].slice.call(n[0].children).filter(function(e){return e&&e.tagName&&s.exec(e.tagName)});return e&&S.element(e).data("$"+i.component+"Controller")},function(e){e&&(Nr(f,h,e,t,i),l())})),u):(n.html(c),d(n.contents())))(t)}}}}br=["$uiRouter","$timeout",function(c,d){var p=c.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,n,i){function r(){return Or(p,t,l)}var o=Tr(t),a=i[1]||i[0],s=null,l={},i=Dr(n.uiSref);function u(){var e=r();s&&s(),a&&(s=a.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&n.$set(o.attr,e.href)}l.uiState=i.state,l.uiStateOpts=n.uiSrefOpts?e.$eval(n.uiSrefOpts):{},i.paramExpr&&(e.$watch(i.paramExpr,function(e){l.uiStateParams=$({},e),u()},!0),l.uiStateParams=$({},e.$eval(i.paramExpr))),u(),e.$on("$destroy",c.stateRegistry.onStatesChanged(u)),e.$on("$destroy",c.transitionService.onSuccess({},u)),o.clickable&&(i=Ar(t,p,d,o,r),Er(t,e,i,l.uiStateOpts))}}}],vr=["$uiRouter","$timeout",function(d,p){var h=d.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,e,i,t){function r(){return Or(h,e,l)}var o=Tr(e),a=t[1]||t[0],s=null,l={},t=["uiState","uiStateParams","uiStateOpts"],u=t.reduce(function(e,t){return e[t]=D,e},{});function c(){var e=r();s&&s(),a&&(s=a.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&i.$set(o.attr,e.href)}t.forEach(function(t){l[t]=i[t]?n.$eval(i[t]):null,i.$observe(t,function(e){u[t](),u[t]=n.$watch(e,function(e){l[t]=e,c()},!0)})}),c(),n.$on("$destroy",d.stateRegistry.onStatesChanged(c)),n.$on("$destroy",d.transitionService.onSuccess({},c)),o.clickable&&(t=Ar(e,h,p,o,r),Er(e,n,t,l.uiStateOpts))}}}],wr=["$state","$stateParams","$interpolate","$uiRouter",function(f,e,g,m){return{restrict:"A",controller:["$scope","$element","$attrs",function(s,l,e){var n,t,i,r,u=[],c=g(e.uiSrefActiveEq||"",!1)(s);try{n=s.$eval(e.uiSrefActive)}catch(e){}function o(e){e.promise.then(h,D)}function a(){d(n)}function d(e){w(e)&&(u=[],de(e,function(e,t){function n(e,t){p((e=Dr(e)).state,s.$eval(e.paramExpr),t)}y(e)?n(e,t):b(e)&&de(e,function(e){n(e,t)})}))}function p(e,t,n){var i={state:f.get(e,xr(l))||{name:e},params:t,activeClass:n};return u.push(i),function(){x(u)(i)}}function h(){function t(e){return e.split(/\s/).filter(_)}function e(e){return e.map(function(e){return e.activeClass}).map(t).reduce(T,[])}var n=e(u).concat(t(c)).reduce(Ne,[]),i=e(u.filter(function(e){return f.includes(e.state.name,e.params)})),r=!!u.filter(function(e){return f.is(e.state.name,e.params)}).length?t(c):[],o=i.concat(r).reduce(Ne,[]),a=n.filter(function(e){return!ge(o,e)});s.$evalAsync(function(){o.forEach(function(e){return l.addClass(e)}),a.forEach(function(e){return l.removeClass(e)})})}d(n=n||g(e.uiSrefActive||"",!1)(s)),this.$$addStateInfo=function(e,t){if(!(w(n)&&0<u.length))return e=p(e,t,n),h(),e},s.$on("$destroy",(t=m.stateRegistry.onStatesChanged(a),i=m.transitionService.onStart({},o),r=s.$on("$stateChangeSuccess",h),function(){t(),i(),r()})),m.globals.transition&&o(m.globals.transition),h()}]}}],S.module("ui.router.state").directive("uiSref",br).directive("uiSrefActive",wr).directive("uiSrefActiveEq",wr).directive("uiState",vr),Pr.$inject=["$state"],Rr.$inject=["$state"],S.module("ui.router.state").filter("isState",Pr).filter("includedByState",Rr),yr=["$view","$animate","$uiViewScroll","$interpolate","$q",function(r,o,y,w,b){var $={$cfg:{viewDecl:{$context:r._pluginapi._rootViewContext()}},$uiView:{}},_={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,t,v){return function(a,s,e){var l,u,c,d,p=e.onload||"",h=e.autoscroll,f={enter:function(e,t,n){2<S.version.minor?o.enter(e,null,t).then(n):o.enter(e,null,t,n)},leave:function(e,t){2<S.version.minor?o.leave(e).then(t):o.leave(e,t)}},n=s.inheritedData("$uiView")||$,g=w(e.uiView||e.name||"")(a)||"$default",m={$type:"ng1",id:_.count++,name:g,fqn:n.$uiView.fqn?n.$uiView.fqn+"."+g:g,config:null,configUpdated:function(e){(!e||e instanceof ir)&&d!==e&&(A.traceUIViewConfigUpdated(m,e&&e.viewDecl&&e.viewDecl.$context),i(d=e))},get creationContext(){var e=C("$cfg.viewDecl.$context")(n),t=C("$uiView.creationContext")(n);return e||t}};A.traceUIViewEvent("Linking",m),s.data("$uiView",{$uiView:m}),i();var t=r.registerUIView(m);function i(e){var t=a.$new(),n=b.defer(),i=b.defer(),r={$cfg:e,$uiView:m},o={$animEnter:n.promise,$animLeave:i.promise,$$animLeave:i};t.$emit("$viewContentLoading",g),u=v(t,function(e){var t;e.data("$uiViewAnim",o),e.data("$uiView",r),f.enter(e,s,function(){n.resolve(),c&&c.$emit("$viewContentAnimationEnded"),(k(h)&&!h||a.$eval(h))&&y(e)}),l&&(A.traceUIViewEvent("Removing (previous) el",l.data("$uiView")),l.remove(),l=null),c&&(A.traceUIViewEvent("Destroying scope",m),c.$destroy(),c=null),u&&(t=u.data("$uiViewAnim"),A.traceUIViewEvent("Animate out",t),f.leave(u,function(){t.$$animLeave.resolve(),l=null}),l=u,u=null)}),(c=t).$emit("$viewContentLoaded",e||d),c.$eval(p)}a.$on("$destroy",function(){A.traceUIViewEvent("Destroying/Unregistering",m),t()})}}};return _}],Mr.$inject=["$compile","$controller","$transitions","$view","$q"];var Ir="function"==typeof S.module("ui.router").component,Vr=0;function Nr(i,e,s,t,n){!d(s.$onInit)||(n.viewDecl.component||n.viewDecl.componentProvider)&&Ir||s.$onInit();var l,r,o,a,u=m(n.path).state.self,c={bind:s};d(s.uiOnParamsChanged)&&(l=new Ut(n.path).getResolvable("$transition$").data,t.$on("$destroy",e.onSuccess({},function(e){var n,i,r,t,o,a;e!==l&&-1===e.exiting().indexOf(u)&&(n=e.params("to"),i=e.params("from"),t=function(e){return e.paramSchema},a=e.treeChanges("to").map(t).reduce(T,[]),r=e.treeChanges("from").map(t).reduce(T,[]),(t=a.filter(function(e){var t=r.indexOf(e);return-1===t||!r[t].type.equals(n[e.id],i[e.id])})).length)&&(o=t.map(function(e){return e.id}),a=xe(n,function(e,t){return-1!==o.indexOf(t)}),s.uiOnParamsChanged(a,e))},c))),d(s.uiCanExit)&&(r=Vr++,o="_uiCanExitIds",a=function(e){return!!e&&(e[o]&&!0===e[o][r]||a(e.redirectedFrom()))},n={exiting:u.name},t.$on("$destroy",e.onBefore(n,function(e){var t,n=e[o]=e[o]||{};return a(e)||(t=i.when(s.uiCanExit(e))).then(function(e){return n[r]=!1!==e}),t},c)))}S.module("ui.router.state").directive("uiView",yr),S.module("ui.router.state").directive("uiView",Mr),S.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(e,t){return n?e:function(e){return t(function(){e[0].scrollIntoView()},0,!1)}}]});f.$injector=ki,f.$q=$i,f.BaseLocationServices=e,f.BaseUrlRule=En,f.BrowserLocationConfig=qi,f.Glob=Ge,f.HashLocationService=Ri,f.HookBuilder=mn,f.MemoryLocationConfig=Ui,f.MemoryLocationService=Ni,f.NATIVE_INJECTOR_TOKEN=Ht,f.Ng1ViewConfig=ir,f.Param=h,f.ParamFactory=kn,f.ParamType=$t,f.ParamTypes=Ot,f.PathNode=Rt,f.PathUtils=Vt,f.PushStateLocationService=Yi,f.Queue=Qe,f.RegisteredHook=hn,f.Rejection=p,f.Resolvable=u,f.ResolveContext=Ut,f.StateBuilder=en,f.StateMatcher=rn,f.StateObject=nn,f.StateParams=Et,f.StateProvider=ur,f.StateQueueManager=an,f.StateRegistry=ln,f.StateService=wi,f.TargetState=It,f.Trace=bt,f.Transition=wn,f.TransitionEventType=fi,f.TransitionHook=dn,f.TransitionService=yi,f.UIRouter=Kn,f.UIRouterGlobals=Vn,f.UIRouterPluginBase=Qi,f.UrlConfig=Hn,f.UrlMatcher=Sn,f.UrlMatcherFactory=xn,f.UrlRouter=Pn,f.UrlRouterProvider=fr,f.UrlRuleFactory=Tn,f.UrlRules=jn,f.UrlService=qn,f.ViewService=Mn,f._extend=qe,f._inArray=me,f._pushTo=we,f._removeFrom=ve,f.all=B,f.allTrueR=Ae,f.ancestors=Se,f.and=q,f.any=W,f.anyTrueR=Ee,f.applyPairs=He,f.arrayTuples=Ye,f.assertFn=Fe,f.assertMap=V,f.assertPredicate=Le,f.beforeAfterSubstr=rt,f.buildUrl=Oi,f.compose=j,f.copy=Ue,f.core=Xi,f.createProxyFunctions=he,f.curry=F,f.default="ui.router",f.defaultResolvePolicy=Lt,f.defaultTransOpts=vi,f.defaults=$e,f.deregAll=be,f.eq=G,f.equals=pe,f.extend=$,f.filter=xe,f.find=Oe,f.flatten=Ve,f.flattenR=Pe,f.fnToString=it,f.forEach=de,f.fromJson=N,f.functionToString=nt,f.getLocals=kr,f.getNg1ViewConfigFactory=Ji,f.getParams=bi,f.hashLocationPlugin=Wi,f.hostRegex=st,f.identity=_,f.inArray=ge,f.inherit=fe,f.invoke=K,f.is=a,f.isArray=b,f.isDate=X,f.isDefined=k,f.isFunction=d,f.isInjectable=oe,f.isNull=ne,f.isNullOrUndefined=ie,f.isNumber=re,f.isObject=w,f.isPromise=se,f.isRegExp=J,f.isString=y,f.isUndefined=te,f.joinNeighborsR=pt,f.kebobString=tt,f.keyValsToObjectR=Di,f.locationPluginFactory=Ti,f.makeEvent=gn,f.makeStub=ae,f.map=O,f.mapObj=Te,f.matchState=pn,f.maxLength=Je,f.memoryLocationPlugin=Ki,f.mergeR=_e,f.ng1ViewsBuilder=tr,f.noop=D,f.not=U,f.omit=ke,f.or=z,f.padString=et,f.pairs=je,f.parse=C,f.parseUrl=xi,f.pattern=Q,f.pick=Ce,f.pipe=Y,f.pluck=De,f.prop=v,f.propEq=H,f.pushR=Me,f.pushStateLocationPlugin=Gi,f.pushTo=ye,f.removeFrom=x,f.resolvablesBuilder=Jt,f.resolvePolicies=Nt,f.root=ue,f.services=c,f.servicesPlugin=Bi,f.silenceUncaughtInPromise=Be,f.silentRejection=We,f.splitEqual=ct,f.splitHash=lt,f.splitOnDelim=dt,f.splitQuery=ut,f.stringify=l,f.stripLastPathElement=ot,f.tail=m,f.toJson=ce,f.trace=A,f.trimHashVal=at,f.uniqR=Ne,f.unnest=Ie,f.unnestR=T,f.val=s,f.values=Re,f.watchDigests=Cr,Object.defineProperty(f,"__esModule",{value:!0})}),function($,l){"use strict";var _=["ng","oc.lazyLoad"],S={},C=[],k=[],u=[],D=[],x=$.noop,O={},T=[],i=($.module("oc.lazyLoad",["ng"]).provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(e,t,n,i,r,o){function c(e,t,n){if(t){for(var i,r=[],o=t.length-1;0<=o;o--)if(i=t[o],(i=$.isString(i)?i:h(i))&&-1===T.indexOf(i)&&(!m[i]||-1!==u.indexOf(i))){var a=-1===_.indexOf(i),s=E(i);if(a&&(_.push(i),c(e,s.requires,n)),0<s._runBlocks.length)for(O[i]=[];0<s._runBlocks.length;)O[i].push(s._runBlocks.shift());$.isDefined(O[i])&&(a||n.rerun)&&(r=r.concat(O[i])),d(e,s._invokeQueue,i,n.reconfig),d(e,s._configBlocks,i,n.reconfig),x(a?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",i),t.pop(),T.push(i)}var l=e.getInstanceInjector();$.forEach(r,function(e){l.invoke(e)})}}function p(e,a){function s(e){return $.isArray(e)?g(e.toString()):$.isObject(e)?g(f(e)):$.isDefined(e)&&null!==e?g(e.toString()):e}function n(e,t){var n,i,r,o;S[a][l].hasOwnProperty(e)||(S[a][l][e]=[]),n=t,i=S[a][l][e],o=!0,i.length&&(r=s(n),$.forEach(i,function(e){o=o&&s(e)!==r})),o&&(u=!0,S[a][l][e].push(t),x("ocLazyLoad.componentLoaded",[a,l,e]))}var i=e[2][0],l=e[1],u=!1;$.isUndefined(S[a])&&(S[a]={}),$.isUndefined(S[a][l])&&(S[a][l]={});if($.isString(i))n(i,e[2][1]);else{if(!$.isObject(i))return!1;$.forEach(i,function(e,t){$.isString(e)?n(e,i[1]):n(t,e)})}return u}function d(e,t,n,i){if(t)for(var r,o,a=0,s=t.length;a<s;a++)if(r=t[a],$.isArray(r)){if(null!==e){if(!e.hasOwnProperty(r[0]))throw new Error("unsupported provider "+r[0]);o=e[r[0]]}var l=p(r,n);if("invoke"!==r[1])l&&$.isDefined(o)&&o[r[1]].apply(o,r[2]);else{var u=function(e){var t=C.indexOf(n+"-"+e);(-1===t||i)&&(-1===t&&C.push(n+"-"+e),$.isDefined(o))&&o[r[1]].apply(o,r[2])};if($.isFunction(r[2][0]))u(r[2][0]);else if($.isArray(r[2][0]))for(var c=0,d=r[2][0].length;c<d;c++)$.isFunction(r[2][0][c])&&u(r[2][0][c])}}}function h(e){var t=null;return $.isString(e)?t=e:$.isObject(e)&&e.hasOwnProperty("name")&&$.isString(e.name)&&(t=e.name),t}function a(e){if(!$.isString(e))return!1;try{return E(e)}catch(e){if(/No module/.test(e)||-1<e.message.indexOf("$injector:nomod"))return!1}}function f(t){try{return JSON.stringify(t)}catch(e){var n=[];return JSON.stringify(t,function(e,t){if($.isObject(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t})}}function g(e){var t,n,i=0;if(0!=e.length)for(t=0,n=e.length;t<n;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return i}var m={},s={$controllerProvider:e,$compileProvider:n,$filterProvider:i,$provide:t,$injector:r,$animateProvider:o},v=!1,y=!1,w=[],b={};w.push=function(e){-1===this.indexOf(e)&&Array.prototype.push.apply(this,arguments)},this.config=function(e){$.isDefined(e.modules)&&($.isArray(e.modules)?$.forEach(e.modules,function(e){m[e.name]=e}):m[e.modules.name]=e.modules),$.isDefined(e.debug)&&(v=e.debug),$.isDefined(e.events)&&(y=e.events)},this._init=function(n){function i(e){var t;-1===_.indexOf(e)&&(_.push(e),d(null,(t=$.module(e))._invokeQueue,e),d(null,t._configBlocks,e),$.forEach(t.requires,i))}var t,r,o,a;0===k.length&&(t=[n],r=["ng:app","ng-app","x-ng-app","data-ng-app"],o=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,a=function(e){return e&&t.push(e)},$.forEach(r,function(e){r[e]=!0,a(document.getElementById(e)),e=e.replace(":","\\:"),void 0!==n[0]&&n[0].querySelectorAll&&($.forEach(n[0].querySelectorAll("."+e),a),$.forEach(n[0].querySelectorAll("."+e+"\\:"),a),$.forEach(n[0].querySelectorAll("["+e+"]"),a))}),$.forEach(t,function(e){var t;0===k.length&&(t=" "+n.className+" ",(t=o.exec(t))?k.push((t[2]||"").replace(/\s+/g,",")):$.forEach(e.attributes,function(e){0===k.length&&r[e.name]&&k.push(e.value)}))})),0!==k.length||(l.jasmine||l.mocha)&&$.isDefined($.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");$.forEach(k,function(e){i(e)}),k=[],D.pop()};this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(n,e,i,t,l){function u(e){var t=l.defer();return n.error(e.message),t.reject(e),t.promise}var r,o=t("ocLazyLoad");return v||((n={}).error=$.noop,n.warn=$.noop,n.info=$.noop),s.getInstanceInjector=function(){return r=r||e.data("$injector")||$.injector()},{_broadcast:x=function(e,t){y&&i.$broadcast(e,t),v&&n.info(e,t)},_$log:n,_getFilesCache:function(){return o},toggleWatch:function(e){e?D.push(!0):D.pop()},getModuleConfig:function(e){if($.isString(e))return m[e]?$.copy(m[e]):null;throw new Error("You need to give the name of the module to get")},setModuleConfig:function(e){if($.isObject(e))return m[e.name]=e;throw new Error("You need to give the module config object to set")},getModules:function(){return _},isLoaded:function(e){var t;if($.isString(e)&&(e=[e]),$.isArray(e)){for(var n=0,i=e.length;n<i;n++)if(t=e[n],!(-1<_.indexOf(t))&&!a(t))return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:h,_getModule:function(t){try{return E(t)}catch(e){throw(/No module/.test(e)||-1<e.message.indexOf("$injector:nomod"))&&(e.message='The module "'+f(t)+'" that you are trying to load does not exist. '+e.message),e}},moduleExists:a,_loadDependencies:function(i,r){var e,o,a=[],s=this;if(null===(i=s._getModuleName(i)))return l.when();try{e=s._getModule(i)}catch(e){return u(e)}return e=s.getRequires(e),$.forEach(e,function(t){if($.isString(t)){var e=s.getModuleConfig(t);if(null===e)return void w.push(t);(t=e).name=void 0}if(s.moduleExists(t.name))return 0!==(o=t.files.filter(function(e){return s.getModuleConfig(t.name).files.indexOf(e)<0})).length&&s._$log.warn('Module "',i,'" attempted to redefine configuration for dependency. "',t.name,'"\n Additional Files Loaded:',o),$.isDefined(s.filesLoader)?void a.push(s.filesLoader(t,r).then(function(){return s._loadDependencies(t)})):u(new Error("Error: New dependencies need to be loaded from external files ("+t.files+"), but no loader has been defined."));var n;if($.isArray(t)?(n=[],$.forEach(t,function(e){var t=s.getModuleConfig(e);null===t?n.push(e):t.files&&(n=n.concat(t.files))}),0<n.length&&(t={files:n})):$.isObject(t)&&t.hasOwnProperty("name")&&t.name&&(s.setModuleConfig(t),w.push(t.name)),$.isDefined(t.files)&&0!==t.files.length){if(!$.isDefined(s.filesLoader))return u(new Error('Error: the module "'+t.name+'" is defined in external files ('+t.files+"), but no loader has been defined."));a.push(s.filesLoader(t,r).then(function(){return s._loadDependencies(t)}))}}),l.all(a)},inject:function(e){var t,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=this,o=l.defer();if($.isDefined(e)&&null!==e){if($.isArray(e))return t=[],$.forEach(e,function(e){t.push(r.inject(e,n,i))}),l.all(t);r._addToLoadList(r._getModuleName(e),!0,i)}if(0<k.length){var a=k.slice();(function e(t){w.push(t),b[t]=o.promise,r._loadDependencies(t,n).then(function(){try{T=[],c(s,w,n)}catch(e){return r._$log.error(e.message),void o.reject(e)}0<k.length?e(k.shift()):o.resolve(a)},function(e){o.reject(e)})})(k.shift())}else{if(n&&n.name&&b[n.name])return b[n.name];o.resolve()}return o.promise},getRequires:function(e){var t=[];return $.forEach(e.requires,function(e){-1===_.indexOf(e)&&t.push(e)}),t},_invokeQueue:d,_registerInvokeList:p,_register:c,_addToLoadList:A,_unregister:function(e){$.isDefined(e)&&$.isArray(e)&&$.forEach(e,function(e){S[e]=void 0})}}}],this._init($.element(l.document))}]),$.bootstrap),A=($.bootstrap=function(e,t,n){return _=["ng","oc.lazyLoad"],S={},C=[],k=[],u=[],D=[],x=$.noop,O={},T=[],$.forEach(t.slice(),function(e){A(e,!0,!0)}),i(e,t,n)},function(e,t,n){(0<D.length||t)&&$.isString(e)&&-1===k.indexOf(e)&&(k.push(e),n)&&u.push(e)}),E=$.module;$.module=function(e,t,n){return A(e,!1,!0),E(e,t,n)},"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(u){"use strict";u.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(o,a,s,l,e){return{restrict:"A",terminal:!0,priority:1e3,compile:function(e,t){var r=e[0].innerHTML;return e.html(""),function(t,n,e){var i=l(e.ocLazyLoad);t.$watch(function(){return i(t)||e.ocLazyLoad},function(e){u.isDefined(e)&&o.load(e).then(function(){s.enter(r,n),a(n.contents())(t)})},!0)}}}}])}(angular),function(y){"use strict";y.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(p,h,f,g){var m=!1,v=f.document.getElementsByTagName("head")[0]||f.document.getElementsByTagName("body")[0];return p.buildElement=function(e,t,n){function i(e){var t=(new Date).getTime();return 0<=e.indexOf("?")?"&"===e.substring(0,e.length-1)?e+"_dc="+t:e+"&_dc="+t:e+"?_dc="+t}var r,o,a=h.defer(),s=p._getFilesCache();switch(y.isUndefined(s.get(t))&&s.put(t,a.promise),e){case"css":(r=f.document.createElement("link")).type="text/css",r.rel="stylesheet",r.href=!1===n.cache?i(t):t;break;case"js":(r=f.document.createElement("script")).src=!1===n.cache?i(t):t;break;default:s.remove(t),a.reject(new Error('Requested type "'+e+'" is not known. Could not inject "'+t+'"'))}r.onload=r.onreadystatechange=function(e){r.readyState&&!/^c|loade/.test(r.readyState)||o||(r.onload=r.onreadystatechange=null,o=1,p._broadcast("ocLazyLoad.fileLoaded",t),a.resolve(r))},r.onerror=function(){s.remove(t),a.reject(new Error("Unable to load "+t))},r.async=n.serie?0:1;var l,u,c,d=v.lastChild;return(d=n.insertBefore&&(l=y.element(y.isDefined(window.jQuery)?n.insertBefore:document.querySelector(n.insertBefore)))&&0<l.length?l[0]:d).parentNode.insertBefore(r,d),"css"==e&&(-1<(l=f.navigator.userAgent.toLowerCase()).indexOf("phantomjs/1.9")?m=!0:/iP(hone|od|ad)/.test(f.navigator.platform)?(d=f.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=parseFloat([parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3]||0,10)].join(".")),m=d<6):-1<l.indexOf("android")?(d=parseFloat(l.slice(l.indexOf("android")+8)),m=d<4.4):-1<l.indexOf("safari")&&(d=l.match(/version\/([\.\d]+)/i),m=d&&d[1]&&parseFloat(d[1])<6),m)&&(u=1e3,c=g(function(){try{r.sheet.cssRules,g.cancel(c),r.onload()}catch(e){--u<=0&&r.onerror()}},20)),a.promise},p}])}])}(angular),function(m){"use strict";m.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$q",function(f,g){return f.filesLoader=function(e){function t(e){var t,n=null;if(m.isObject(e)&&(n=e.type,e=e.path),p=h.get(e),m.isUndefined(p)||!1===s.cache){if(null!==(t=/^(css|less|html|htm|js)?(?=!)/.exec(e))&&(n=t[1],e=e.substr(t[1].length+1,e.length)),!n)if(null!==(t=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(e)))n=t[1];else{if(f.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!f.jsLoader.hasOwnProperty("requirejs"))return f._$log.error("File type could not be determined. "+e);n="js"}"css"!==n&&"less"!==n||-1!==l.indexOf(e)?"html"!==n&&"htm"!==n||-1!==u.indexOf(e)?"js"===n||-1===c.indexOf(e)?c.push(e):f._$log.error("File type is not valid. "+e):u.push(e):l.push(e)}else p&&d.push(p)}var n,i,r,o,a,s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=[],u=[],c=[],d=[],p=null,h=f._getFilesCache();f.toggleWatch(!0),m.extend(s,e);return s.serie?t(s.files.shift()):m.forEach(s.files,function(e){t(e)}),0<l.length&&(n=g.defer(),f.cssLoader(l,function(e){m.isDefined(e)&&f.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(f._$log.error(e),n.reject(e)):n.resolve()},s),d.push(n.promise)),0<u.length&&(i=g.defer(),f.templatesLoader(u,function(e){m.isDefined(e)&&f.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(f._$log.error(e),i.reject(e)):i.resolve()},s),d.push(i.promise)),0<c.length&&(r=g.defer(),f.jsLoader(c,function(e){m.isDefined(e)&&(f.jsLoader.hasOwnProperty("ocLazyLoadLoader")||f.jsLoader.hasOwnProperty("requirejs"))?(f._$log.error(e),r.reject(e)):r.resolve()},s),d.push(r.promise)),0===d.length?(o=g.defer(),f._$log.error(a="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'."),o.reject(a),o.promise):s.serie&&0<s.files.length?g.all(d).then(function(){return f.filesLoader(e,s)}):g.all(d).finally(function(e){return f.toggleWatch(!1),e})},f.load=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this,i=null,r=[],o=g.defer(),e=m.copy(e),a=m.copy(t);if(m.isArray(e))return m.forEach(e,function(e){r.push(n.load(e,a))}),g.all(r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise;if(m.isString(e)?i=(i=n.getModuleConfig(e))||{files:[e]}:m.isObject(e)&&(i=m.isDefined(e.path)&&m.isDefined(e.type)?{files:[e]}:n.setModuleConfig(e)),null===i)return t=n._getModuleName(e),f._$log.error(e='Module "'+(t||"unknown")+'" is not configured, cannot load.'),o.reject(new Error(e)),o.promise;m.isDefined(i.template)&&(m.isUndefined(i.files)&&(i.files=[]),m.isString(i.template)?i.files.push(i.template):m.isArray(i.template)&&i.files.concat(i.template));var s=m.extend({},a,i);return m.isUndefined(i.files)&&m.isDefined(i.name)&&f.moduleExists(i.name)?f.inject(i.name,s,!0):(f.filesLoader(i,s).then(function(){f.inject(null,s).then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)}),o.promise)},f}])}])}(angular),function(a){"use strict";a.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$q",function(r,o){return r.cssLoader=function(e,t,n){var i=[];a.forEach(e,function(e){i.push(r.buildElement("css",e,n))}),o.all(i).then(function(){t()},function(e){t(e)})},r.cssLoader.ocLazyLoadLoader=!0,r}])}])}(angular),function(a){"use strict";a.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$q",function(r,o){return r.jsLoader=function(e,t,n){var i=[];a.forEach(e,function(e){i.push(r.buildElement("js",e,n))}),o.all(i).then(function(){t()},function(e){t(e)})},r.jsLoader.ocLazyLoadLoader=!0,r}])}])}(angular),function(u){"use strict";u.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(n,a,s,l){return n.templatesLoader=function(e,t,i){var r=[],o=n._getFilesCache();return u.forEach(e,function(t){var n=s.defer();r.push(n.promise),l.get(t,i).then(function(e){e=e.data;u.isString(e)&&0<e.length&&u.forEach(u.element(e),function(e){"SCRIPT"===e.nodeName&&"text/ng-template"===e.type&&a.put(e.id,e.innerHTML)}),u.isUndefined(o.get(t))&&o.put(t,!0),n.resolve()}).catch(function(e){n.reject(new Error('Unable to load template file "'+t+'": '+e.data))})}),s.all(r).then(function(){t()},function(e){t(e)})},n.templatesLoader.ocLazyLoadLoader=!0,n}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0!=r){t=+t||0;if(!(r<=(t=Math.abs(t)===1/0?0:t)))for(n=Math.max(0<=t?t:r-Math.abs(t),0);n<r;){if(n in i&&i[n]===e)return n;n++}}return-1}),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(h){h.interceptors.push(["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,r,n,i,o,a){function s(){n.cancel(u),a.complete(),c=d=0}function l(e){var t,n=r.get("$http"),i=h.defaults,i=void 0!==(t=!e.cache&&!i.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method?t:angular.isObject(e.cache)?e.cache:angular.isObject(i.cache)?i.cache:n)&&void 0!==t.get(e.url);return void 0!==e.cached&&i!==e.cached?e.cached:e.cached=i}var u,c=0,d=0,p=a.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||l(e)||(i.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===c&&(u=n(function(){a.start()},p)),c++,a.set(d/c)),e},response:function(e){return e&&e.config?e.config.ignoreLoadingBar||l(e.config)||(d++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),c<=d?s():a.set(d/c)):o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e},responseError:function(e){return e&&e.config?e.config.ignoreLoadingBar||l(e.config)||(d++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),c<=d?s():a.set(d/c)):o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e)}}}])}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(n,i,r,o){function a(e){g&&(h.css("width",100*e+"%"),m=e,v)&&(r.cancel(u),u=r(function(){t()},250))}function t(){var e,t;1<=m||(t=(t=0)<=(e=m)&&e<.25?(3*Math.random()+3)/100:.25<=e&&e<.65?3*Math.random()/100:.65<=e&&e<.9?2*Math.random()/100:.9<=e&&e<.99?.005:0,a(m+t))}function e(){return m}function s(){m=0,g=!1}var l,u,c,d=this.parentSelector,p=angular.element(this.loadingBarTemplate),h=p.find("div").eq(0),f=angular.element(this.spinnerTemplate),g=!1,m=0,v=this.autoIncrement,y=this.includeSpinner,w=this.includeBar,b=this.startSize;return{start:function(){var e,t;l=l||n.get("$animate"),r.cancel(c),g||(t=(t=(e=i[0]).querySelector?e.querySelector(d):i.find(d)[0])||e.getElementsByTagName("body")[0],e=angular.element(t),t=t.lastChild&&angular.element(t.lastChild),o.$broadcast("cfpLoadingBar:started"),g=!0,w&&l.enter(p,e,t),y&&l.enter(f,e,p),a(b))},set:a,status:e,inc:t,complete:function(){l=l||n.get("$animate"),o.$broadcast("cfpLoadingBar:completed"),a(1),r.cancel(c),c=r(function(){var e=l.leave(p,s);e&&e.then&&e.then(s),l.leave(f)},500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,s,l){function e(e){for(var t in e)if(void 0!==n.style[t])return e[t]}function u(e,t,n){function i(){l.$apply(function(){e.unbind(o,i),r.resolve(e)})}n=n||{};var r=a.defer(),o=u[n.animation?"animationEndEventName":"transitionEndEventName"];return o&&e.bind(o,i),s(function(){angular.isString(t)?e.addClass(t):angular.isFunction(t)?t(e):angular.isObject(t)&&e.css(t),o||r.resolve(e)}),r.promise.cancel=function(){o&&e.unbind(o,i),r.reject("Transition cancelled")},r.promise}var n=document.createElement("trans");return u.transitionEndEventName=e({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),u.animationEndEventName=e({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),u}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(l){return{link:function(e,i,t){function n(e){function t(){a===n&&(a=void 0)}var n=l(i,e);return a&&a.cancel(),(a=n).then(t,t),n}function r(){i.removeClass("collapsing"),i.addClass("collapse in"),i.css({height:"auto"})}function o(){i.removeClass("collapsing"),i.addClass("collapse")}var a,s=!0;e.$watch(t.collapse,function(e){e?s?(s=!1,o(),i.css({height:0})):(i.css({height:i[0].scrollHeight+"px"}),i[0].offsetWidth,i.removeClass("collapse in").addClass("collapsing"),n({height:0}).then(o)):s?(s=!1,r()):(i.removeClass("collapse").addClass("collapsing"),n({height:i[0].scrollHeight+"px"}).then(r))})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,n,i){this.groups=[],this.closeOthers=function(t){(angular.isDefined(n.closeOthers)?e.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(e){e!==t&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){e=this.groups.indexOf(e);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,e,n,i){i.addGroup(t),t.$watch("isOpen",function(e){e&&i.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(r){return{require:"alert",link:function(e,t,n,i){r(function(){i.close()},parseInt(n.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,n,i,e){var r=e[0],o=e[1];o.$render=function(){n.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(i.btnRadio)))},n.bind(r.toggleEvent,function(){var e=n.hasClass(r.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){o.$setViewValue(e?null:t.$eval(i.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(n,e,t,i){function r(){return o(t.btnCheckboxTrue,!0)}function o(e,t){e=n.$eval(e);return angular.isDefined(e)?e:t}var a=i[0],s=i[1];s.$render=function(){e.toggleClass(a.activeClass,angular.equals(s.$modelValue,r()))},e.bind(a.toggleEvent,function(){n.$apply(function(){s.$setViewValue(e.hasClass(a.activeClass)?o(t.btnCheckboxFalse,!1):r()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(a,t,n,s){function l(){i();var e=+a.interval;!isNaN(e)&&0<e&&(o=n(r,e))}function i(){o&&(n.cancel(o),o=null)}function r(){var e=+a.interval;u&&!isNaN(e)&&0<e?a.next():a.pause()}var o,u,c=this,d=c.slides=a.slides=[],p=-1,h=(c.currentSlide=null,!1);c.select=a.select=function(n,i){function e(){var e,t;h||(c.currentSlide&&angular.isString(i)&&!a.noTransition&&n.$element?(n.$element.addClass(i),n.$element[0].offsetWidth,angular.forEach(d,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:i,active:!0,entering:!0}),angular.extend(c.currentSlide||{},{direction:i,leaving:!0}),a.$currentTransition=s(n.$element,{}),e=n,t=c.currentSlide,a.$currentTransition.then(function(){r(e,t)},function(){r(e,t)})):r(n,c.currentSlide),c.currentSlide=n,p=o,l())}function r(e,t){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(t||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var o=d.indexOf(n);void 0===i&&(i=p<o?"next":"prev"),n&&n!==c.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),t(e)):e())},a.$on("$destroy",function(){h=!0}),c.indexOfSlide=function(e){return d.indexOf(e)},a.next=function(){var e=(p+1)%d.length;return a.$currentTransition?void 0:c.select(d[e],"next")},a.prev=function(){var e=p-1<0?d.length-1:p-1;return a.$currentTransition?void 0:c.select(d[e],"prev")},a.isActive=function(e){return c.currentSlide===e},a.$watch("interval",l),a.$on("$destroy",i),a.play=function(){u||(u=!0,l())},a.pause=function(){a.noPause||(u=!1,i())},c.addSlide=function(e,t){e.$element=t,d.push(e),1===d.length||e.active?(c.select(d[d.length-1]),1==d.length&&a.play()):e.active=!1},c.removeSlide=function(e){var t=d.indexOf(e);d.splice(t,1),0<d.length&&e.active?c.select(t>=d.length?d[t-1]:d[t]):t<p&&p--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(h,f){this.parsers={};var g={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:h.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=h.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:h.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=h.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:h.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:h.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(e,t){if(!angular.isString(e)||!t)return e;t=h.DATETIME_FORMATS[t]||t,this.parsers[t]||(this.parsers[t]=(a=[],s=(o=t).split(""),angular.forEach(g,function(e,t){var n=o.indexOf(t);if(-1<n){o=o.split(""),s[n]="("+e.regex+")",o[n]="$";for(var i=n+1,r=n+t.length;i<r;i++)s[i]="",o[i]="$";o=o.join(""),a.push({index:n,apply:e.apply})}}),{regex:new RegExp("^"+s.join("")+"$"),map:f(a,"index")}));var o,a,s,t=this.parsers[t],n=t.regex,i=t.map,r=e.match(n);if(r&&r.length){for(var l,u={year:1900,month:0,date:1,hours:0},c=1,d=r.length;c<d;c++){var p=i[c-1];p.apply&&p.apply.call(u,r[c])}return t=u.year,e=u.month,n=u.date,l=(1===e&&28<n?29===n&&(t%4==0&&t%100!=0||t%400==0):3!==e&&5!==e&&8!==e&&10!==e||n<31)?new Date(u.year,u.month,u.date,u.hours):l}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(r,n){function o(e){return"static"===(t="position",((e=e).currentStyle||(n.getComputedStyle?n.getComputedStyle(e):e.style))[t]||"static");var t}return{position:function(e){var t=this.offset(e),n={top:0,left:0},i=function(e){for(var t=r[0],n=e.offsetParent||t;n&&n!==t&&o(n);)n=n.offsetParent;return n||t}(e[0]),i=(i!=r[0]&&((n=this.offset(angular.element(i))).top+=i.clientTop-i.scrollTop,n.left+=i.clientLeft-i.scrollLeft),e[0].getBoundingClientRect());return{width:i.width||e.prop("offsetWidth"),height:i.height||e.prop("offsetHeight"),top:t.top-n.top,left:t.left-n.left}},offset:function(e){var t=e[0].getBoundingClientRect();return{width:t.width||e.prop("offsetWidth"),height:t.height||e.prop("offsetHeight"),top:t.top+(n.pageYOffset||r[0].documentElement.scrollTop),left:t.left+(n.pageXOffset||r[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,n=n.split("-"),o=n[0],a=n[1]||"center",s=i?this.offset(e):this.position(e),l=t.prop("offsetWidth"),u=t.prop("offsetHeight"),c={center:function(){return s.left+s.width/2-l/2},left:function(){return s.left},right:function(){return s.left+s.width}},d={center:function(){return s.top+s.height/2-u/2},top:function(){return s.top},bottom:function(){return s.top+s.height}};switch(o){case"right":r={top:d[a](),left:c[o]()};break;case"left":r={top:d[a](),left:s.left-l};break;case"bottom":r={top:d[o](),left:c[a]()};break;default:r={top:s.top-u,left:c[a]()}}return r}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(n,i,e,r,t,o,a,s){function l(){t(function(){u.element[0].focus()},0,!1)}var u=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(e,t){u[e]=angular.isDefined(i[e])?t<8?r(i[e])(n.$parent):n.$parent.$eval(i[e]):s[e]}),angular.forEach(["minDate","maxDate"],function(t){i[t]?n.$parent.$watch(e(i[t]),function(e){u[t]=e?new Date(e):null,u.refreshView()}):u[t]=s[t]?new Date(s[t]):null}),n.datepickerMode=n.datepickerMode||s.datepickerMode,n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(i.initDate)?n.$parent.$eval(i.initDate):new Date,n.isActive=function(e){return 0===u.compare(e.date,u.activeDate)&&(n.activeDateId=e.uid,!0)},this.init=function(e){(c=e).$render=function(){u.render()}},this.render=function(){var e,t;c.$modelValue&&(e=new Date(c.$modelValue),(t=!isNaN(e))?this.activeDate=e:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)),this.refreshView()},this.refreshView=function(){var e;this.element&&(this._refreshView(),e=c.$modelValue?new Date(c.$modelValue):null,c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e)))},this.createDateObject=function(e,t){var n=c.$modelValue?new Date(c.$modelValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(e){return this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&0<this.compare(e,this.maxDate)||i.dateDisabled&&n.dateDisabled({date:e,mode:n.datepickerMode})},this.split=function(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n},n.select=function(e){var t;n.datepickerMode===u.minMode?((t=c.$modelValue?new Date(c.$modelValue):new Date(0,0,0,0,0,0,0)).setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),c.$setViewValue(t),c.$render()):(u.activeDate=e,n.datepickerMode=u.modes[u.modes.indexOf(n.datepickerMode)-1])},n.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),e=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,e,1),u.refreshView()},n.toggleMode=function(e){e=e||1,n.datepickerMode===u.maxMode&&1===e||n.datepickerMode===u.minMode&&-1===e||(n.datepickerMode=u.modes[u.modes.indexOf(n.datepickerMode)+e])},n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};n.$on("datepicker.focus",l),n.keydown=function(e){var t=n.keys[e.which];!t||e.shiftKey||e.altKey||(e.preventDefault(),e.stopPropagation(),"enter"===t||"space"===t?u.isDisabled(u.activeDate)||(n.select(u.activeDate),l()):!e.ctrlKey||"up"!==t&&"down"!==t?(u.handleKeyDown(t,e),u.refreshView()):(n.toggleMode("up"===t?1:-1),l()))}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var r=i[0],i=i[1];i&&r.init(i)}}}).directive("daypicker",["dateFilter",function(c){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(l,e,t,u){function i(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?n[t]:29}l.showWeeks=u.showWeeks,u.step={months:1},u.element=e;var n=[31,28,31,30,31,30,31,31,30,31,30,31];u._refreshView=function(){var e=u.activeDate.getFullYear(),t=u.activeDate.getMonth(),e=new Date(e,t,1),n=u.startingDay-e.getDay(),n=0<n?7-n:-n,e=new Date(e);0<n&&e.setDate(1-n);for(var i=function(e,t){var n=new Array(t),i=new Date(e),r=0;for(i.setHours(12);r<t;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}(e,42),r=0;r<42;r++)i[r]=angular.extend(u.createDateObject(i[r],u.formatDay),{secondary:i[r].getMonth()!==t,uid:l.uniqueId+"-"+r});l.labels=new Array(7);for(var o=0;o<7;o++)l.labels[o]={abbr:c(i[o].date,u.formatDayHeader),full:c(i[o].date,"EEEE")};if(l.title=c(u.activeDate,u.formatDayTitle),l.rows=u.split(i,7),l.showWeeks){l.weekNumbers=[];n=l.rows[0][0].date,(n=new Date(n)).setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1);for(var a=Math.floor(Math.round((e-n)/864e5)/7)+1,s=l.rows.length;l.weekNumbers.push(a++)<s;);}},u.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},u.handleKeyDown=function(e){var t,n=u.activeDate.getDate();"left"===e?--n:"up"===e?n-=7:"right"===e?n+=1:"down"===e?n+=7:"pageup"===e||"pagedown"===e?(t=u.activeDate.getMonth()+("pageup"===e?-1:1),u.activeDate.setMonth(t,1),n=Math.min(i(u.activeDate.getFullYear(),u.activeDate.getMonth()),n)):"home"===e?n=1:"end"===e&&(n=i(u.activeDate.getFullYear(),u.activeDate.getMonth())),u.activeDate.setDate(n)},u.refreshView()}}}]).directive("monthpicker",["dateFilter",function(o){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(i,e,t,r){r.step={years:1},r.element=e,r._refreshView=function(){for(var e=new Array(12),t=r.activeDate.getFullYear(),n=0;n<12;n++)e[n]=angular.extend(r.createDateObject(new Date(t,n,1),r.formatMonth),{uid:i.uniqueId+"-"+n});i.title=o(r.activeDate,r.formatMonthTitle),i.rows=r.split(e,3)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},r.handleKeyDown=function(e){var t,n=r.activeDate.getMonth();"left"===e?--n:"up"===e?n-=3:"right"===e?n+=1:"down"===e?n+=3:"pageup"===e||"pagedown"===e?(t=r.activeDate.getFullYear()+("pageup"===e?-1:1),r.activeDate.setFullYear(t)):"home"===e?n=0:"end"===e&&(n=11),r.activeDate.setMonth(n)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(i,e,t,r){function o(e){return parseInt((e-1)/a,10)*a+1}var a=r.yearRange;r.step={years:a},r.element=e,r._refreshView=function(){for(var e=new Array(a),t=0,n=o(r.activeDate.getFullYear());t<a;t++)e[t]=angular.extend(r.createDateObject(new Date(n+t,0,1),r.formatYear),{uid:i.uniqueId+"-"+t});i.title=[e[0].label,e[a-1].label].join(" - "),i.rows=r.split(e,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e){var t=r.activeDate.getFullYear();"left"===e?--t:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*r.step.years:"home"===e?t=o(r.activeDate.getFullYear()):"end"===e&&(t=o(r.activeDate.getFullYear())+a-1),r.activeDate.setFullYear(t)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(f,g,m,v,y,w,b){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(i,t,r,n){function o(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function a(e){return e?angular.isDate(e)&&!isNaN(e)?(n.$setValidity("date",!0),e):!angular.isString(e)||(e=w.parse(e,l)||new Date(e),isNaN(e))?void n.$setValidity("date",!1):(n.$setValidity("date",!0),e):(n.$setValidity("date",!0),null)}function s(e){i.isOpen&&e.target!==t[0]&&i.$apply(function(){i.isOpen=!1})}function e(e){i.keydown(e)}var l,u=angular.isDefined(r.closeOnDateSelection)?i.$parent.$eval(r.closeOnDateSelection):b.closeOnDateSelection,c=angular.isDefined(r.datepickerAppendToBody)?i.$parent.$eval(r.datepickerAppendToBody):b.appendToBody,d=(i.showButtonBar=angular.isDefined(r.showButtonBar)?i.$parent.$eval(r.showButtonBar):b.showButtonBar,i.getText=function(e){return i[e+"Text"]||b[e+"Text"]},r.$observe("datepickerPopup",function(e){l=e||b.datepickerPopup,n.$render()}),angular.element("<div datepicker-popup-wrap><div datepicker></div></div>")),p=(d.attr({"ng-model":"date","ng-change":"dateSelection()"}),angular.element(d.children()[0])),h=(r.datepickerOptions&&angular.forEach(i.$parent.$eval(r.datepickerOptions),function(e,t){p.attr(o(t),e)}),i.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(t){var e,n;r[t]&&(e=g(r[t]),i.$parent.$watch(e,function(e){i.watchData[t]=e}),p.attr(o(t),"watchData."+t),"datepickerMode"===t)&&(n=e.assign,i.$watch("watchData."+t,function(e,t){e!==t&&n(i.$parent,e)}))}),r.dateDisabled&&p.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),n.$parsers.unshift(a),i.dateSelection=function(e){angular.isDefined(e)&&(i.date=e),n.$setViewValue(i.date),n.$render(),u&&(i.isOpen=!1,t[0].focus())},t.bind("input change keyup",function(){i.$apply(function(){i.date=n.$modelValue})}),n.$render=function(){var e=n.$viewValue?y(n.$viewValue,l):"";t.val(e),i.date=a(n.$modelValue)},t.bind("keydown",e),i.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),i.close()):40!==e.which||i.isOpen||(i.isOpen=!0)},i.$watch("isOpen",function(e){e?(i.$broadcast("datepicker.focus"),i.position=c?v.offset(t):v.position(t),i.position.top=i.position.top+t.prop("offsetHeight"),m.bind("click",s)):m.unbind("click",s)}),i.select=function(e){var t;"today"===e&&(t=new Date,angular.isDate(n.$modelValue)?(e=new Date(n.$modelValue)).setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):e=new Date(t.setHours(0,0,0,0))),i.dateSelection(e)},i.close=function(){i.isOpen=!1,t[0].focus()},f(d)(i));d.remove(),c?m.find("body").append(h):t.after(h),i.$on("$destroy",function(){h.remove(),t.unbind("keydown",e),m.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(t){var n=null,i=(this.open=function(e){n||(t.bind("click",i),t.bind("keydown",r)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",i),t.unbind("keydown",r))},function(e){var t;n&&(t=n.getToggleElement(),e&&t&&t[0].contains(e.target)||n.$apply(function(){n.isOpen=!1}))}),r=function(e){27===e.which&&(n.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(n,t,i,e,r,o){var a,s=this,l=n.$new(),u=e.openClass,c=angular.noop,d=t.onToggle?i(t.onToggle):angular.noop;this.init=function(e){s.$element=e,t.isOpen&&(a=i(t.isOpen),c=a.assign,n.$watch(a,function(e){l.isOpen=!!e}))},this.toggle=function(e){return l.isOpen=arguments.length?!!e:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return s.toggleElement},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(e,t){o[e?"addClass":"removeClass"](s.$element,u),e?(l.focusToggleElement(),r.open(l)):r.close(l),c(n,e),angular.isDefined(e)&&e!==t&&d(n,{open:!!e})}),n.$on("$locationChangeSuccess",function(){l.isOpen=!1}),n.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,i){i.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,n,i,r){var e;r&&((r.toggleElement=n).bind("click",e=function(e){e.preventDefault(),n.hasClass("disabled")||i.disabled||t.$apply(function(){r.toggle()})}),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(e){n.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){n.unbind("click",e)}))}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var i=[];return{add:function(e,t){i.push({key:e,value:t})},get:function(e){for(var t=0;t<i.length;t++)if(e==i[t].key)return i[t]},keys:function(){for(var e=[],t=0;t<i.length;t++)e.push(i[t].key);return e},top:function(){return i[i.length-1]},remove:function(e){for(var t=-1,n=0;n<i.length;n++)if(e==i[n].key){t=n;break}return i.splice(t,1)[0]},removeTop:function(){return i.splice(i.length-1,1)[0]},length:function(){return i.length}}}}}).directive("modalBackdrop",["$timeout",function(i){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,t,n){e.backdropClass=n.backdropClass||"",e.animate=!1,i(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(i,r){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(e,t,n){t.addClass(n.windowClass||""),e.size=n.size,r(function(){e.animate=!0,t[0].querySelectorAll("[autofocus]").length||t[0].focus()}),e.close=function(e){var t=i.getTop();t&&t.value.backdrop&&"static"!=t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),i.dismiss(t.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(s,l,i,r,o,e){function a(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function u(e){var t=i.find("body").eq(0),n=f.get(e).value;f.remove(e),c(n.modalDomEl,n.modalScope,300,function(){var e;n.modalScope.$destroy(),t.toggleClass(h,0<f.length()),d&&-1==a()&&(c(d,e=p,150,function(){e.$destroy(),e=null}),p=d=void 0)})}function c(e,t,n,i){function r(){r.done||(r.done=!0,e.remove(),i&&i())}t.animate=!1;var o,a=s.transitionEndEventName;a?(o=l(r,n),e.bind(a,function(){l.cancel(o),r(),t.$apply()})):l(r)}var d,p,h="modal-open",f=e.createNew(),n={};return o.$watch(a,function(e){p&&(p.index=e)}),i.bind("keydown",function(e){var t;27===e.which&&(t=f.top())&&t.value.keyboard&&(e.preventDefault(),o.$apply(function(){n.dismiss(t.key,"escape key press")}))}),n.open=function(e,t){f.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var e=i.find("body").eq(0),n=a(),n=(0<=n&&!d&&((p=o.$new(!0)).index=n,(n=angular.element("<div modal-backdrop></div>")).attr("backdrop-class",t.backdropClass),d=r(n)(p),e.append(d)),angular.element("<div modal-window></div>")),n=(n.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:f.length()-1,animate:"animate"}).html(t.content),r(n)(t.scope));f.top().value.modalDomEl=n,e.append(n),e.addClass(h)},n.close=function(e,t){var n=f.get(e);n&&(n.value.deferred.resolve(t),u(e))},n.dismiss=function(e,t){var n=f.get(e);n&&(n.value.deferred.reject(t),u(e))},n.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},n.getTop=function(){return f.top()},n}]).provider("$modal",function(){var h={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(i,l,r,u,c,d,p){var e={};return e.open=function(o){var t,e,a=r.defer(),n=r.defer(),s={result:a.promise,opened:n.promise,close:function(e){p.close(s,e)},dismiss:function(e){p.dismiss(s,e)}};if((o=angular.extend({},h.options,o)).resolve=o.resolve||{},o.template||o.templateUrl)return(e=r.all([(e=o).template?r.when(e.template):u.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:c}).then(function(e){return e.data})].concat((e=o.resolve,t=[],angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&t.push(r.when(i.invoke(e)))}),t)))).then(function(n){var e=(o.scope||l).$new();e.$close=s.close,e.$dismiss=s.dismiss;var t,i={},r=1;o.controller&&(i.$scope=e,i.$modalInstance=s,angular.forEach(o.resolve,function(e,t){i[t]=n[r++]}),t=d(o.controller,i),o.controllerAs)&&(e[o.controllerAs]=t),p.open(s,{scope:e,deferred:a,content:n[0],backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,size:o.size})},function(e){a.reject(e)}),e.then(function(){n.resolve(!0)},function(){n.reject(!1)}),s;throw new Error("One of template or templateUrl options is required.")},e}]};return h}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(n,i,r){var o=this,a={$setViewValue:angular.noop},t=i.numPages?r(i.numPages).assign:angular.noop;this.init=function(e,t){a=e,this.config=t,a.$render=function(){o.render()},i.itemsPerPage?n.$parent.$watch(r(i.itemsPerPage),function(e){o.itemsPerPage=parseInt(e,10),n.totalPages=o.calculateTotalPages()}):this.itemsPerPage=t.itemsPerPage},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){n.page=parseInt(a.$viewValue,10)||1},n.selectPage=function(e){n.page!==e&&0<e&&e<=n.totalPages&&(a.$setViewValue(e),a.$render())},n.getText=function(e){return n[e+"Text"]||o.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},n.$watch("totalItems",function(){n.totalPages=o.calculateTotalPages()}),n.$watch("totalPages",function(e){t(n.$parent,e),n.page>e?n.selectPage(e):a.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,s){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(e,t,n,i){function l(e,t,n){return{number:e,text:t,active:n}}var u,c,r,o=i[0],i=i[1];i&&(u=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):s.maxSize,c=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):s.rotate,e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):s.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):s.directionLinks,o.init(i,s),n.maxSize&&e.$parent.$watch(a(n.maxSize),function(e){u=parseInt(e,10),o.render()}),r=o.render,o.render=function(){r(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],i=1,r=t,o=angular.isDefined(u)&&u<t;o&&(c?t<(r=(i=Math.max(e-Math.floor(u/2),1))+u-1)&&(i=(r=t)-u+1):(i=(Math.ceil(e/u)-1)*u+1,r=Math.min(i+u-1,t)));for(var a=i;a<=r;a++){var s=l(a,a,a===e);n.push(s)}return o&&!c&&(1<i&&(o=l(i-1,"...",!1),n.unshift(o)),r<t)&&(i=l(r+1,"...",!1),n.push(i)),n}(e.page,e.totalPages))})}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(o){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,t,n,i){var r=i[0],i=i[1];i&&(e.align=angular.isDefined(n.align)?e.$parent.$eval(n.align):o.align,r.init(i,o))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){var s={placement:"top",animation:!0,popupDelay:0},l={mouseenter:"mouseleave",click:"click",focus:"blur"},u={};this.options=function(e){angular.extend(u,e)},this.setTriggers=function(e){angular.extend(l,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(e,o,k,D,x,a){return function($,_,t){function S(e){e=e||C.trigger||t;return{show:e,hide:l[e]||e}}var C=angular.extend({},s,u),e=$.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),n=a.startSymbol(),i=a.endSymbol(),r="<div "+e+'-popup title="'+n+"title"+i+'" content="'+n+"content"+i+'" placement="'+n+"placement"+i+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var b=o(r);return function(t,n,i){function e(){(y.isOpen?o:r)()}function r(){var e;v&&!t.$eval(i[_+"Enable"])||(e=i[_+"Placement"],y.placement=angular.isDefined(e)?e:C.placement,e=i[_+"PopupDelay"],e=parseInt(e,10),y.popupDelay=isNaN(e)?C.popupDelay:e,y.popupDelay?f||(f=k(a,y.popupDelay,!1)).then(function(e){e()}):a()())}function o(){t.$apply(function(){s()})}function a(){return f=null,h&&(k.cancel(h),h=null),y.content?(d&&l(),p=y.$new(),(d=b(p,function(e){g?D.find("body").append(e):n.after(e)})).css({top:0,left:0,display:"block"}),y.$digest(),u(),y.isOpen=!0,y.$digest(),u):angular.noop}function s(){y.isOpen=!1,k.cancel(f),f=null,y.animation?h=h||k(l,500):l()}function l(){h=null,d&&(d.remove(),d=null),p&&(p.$destroy(),p=null)}function u(){var e=x.positionElements(n,d,y.placement,g);e.top+="px",e.left+="px",d.css(e)}function c(){n.unbind(m.show,r),n.unbind(m.hide,o)}var d,p,h,f,g=!!angular.isDefined(C.appendToBody)&&C.appendToBody,m=S(void 0),v=angular.isDefined(i[_+"Enable"]),y=t.$new(!0),w=(y.isOpen=!1,i.$observe($,function(e){!(y.content=e)&&y.isOpen&&s()}),i.$observe(_+"Title",function(e){y.title=e}),w=i[_+"Trigger"],c(),(m=S(w)).show===m.hide?n.bind(m.show,e):(n.bind(m.show,r),n.bind(m.hide,o)),t.$eval(i[_+"Animation"])),w=(y.animation=angular.isDefined(w)?!!w:C.animation,t.$eval(i[_+"AppendToBody"]));(g=angular.isDefined(w)?w:g)&&t.$on("$locationChangeSuccess",function(){y.isOpen&&s()}),t.$on("$destroy",function(){k.cancel(h),k.cancel(f),c(),l(),y=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(n,e,t){var i=this,r=angular.isDefined(e.animate)?n.$parent.$eval(e.animate):t.animate;this.bars=[],n.max=angular.isDefined(e.max)?n.$parent.$eval(e.max):t.max,this.addBar=function(t,e){r||e.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(e){t.percent=+(100*e/n.max).toFixed(2)}),t.$on("$destroy",function(){e=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,n,i){var r={$setViewValue:angular.noop};this.init=function(e){(r=e).$render=this.render,this.stateOn=angular.isDefined(n.stateOn)?t.$parent.$eval(n.stateOn):i.stateOn,this.stateOff=angular.isDefined(n.stateOff)?t.$parent.$eval(n.stateOff):i.stateOff;e=angular.isDefined(n.ratingStates)?t.$parent.$eval(n.ratingStates):new Array(angular.isDefined(n.max)?t.$parent.$eval(n.max):i.max);t.range=this.buildTemplateObjects(e)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},t.rate=function(e){!t.readonly&&0<=e&&e<=t.range.length&&(r.$setViewValue(e),r.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=r.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],i=i[1];i&&r.init(i)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var n,i=this,r=i.tabs=e.tabs=[];i.select=function(t){angular.forEach(r,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},i.addTab=function(e){r.push(e),1===r.length?e.active=!0:e.active&&i.select(e)},i.removeTab=function(e){var t=r.indexOf(e);e.active&&1<r.length&&!n&&(e=t==r.length-1?t-1:t+1,i.select(r[e])),r.splice(t,1)},e.$on("$destroy",function(){n=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("tab",["$parse",function(o){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,t,r){return function(t,e,n,i){t.$watch("active",function(e){e&&i.select(t)}),t.disabled=!1,n.disabled&&t.$parent.$watch(o(n.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(e,n,t){var i=e.$eval(t.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){var t;(t=e).tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(i,n,e,t,r,o){function a(){var e=parseInt(i.hours,10);return(i.showMeridian?0<e&&e<13:0<=e&&e<24)?(i.showMeridian&&(12===e&&(e=0),i.meridian===g[1])&&(e+=12),e):void 0}function s(){var e=parseInt(i.minutes,10);return 0<=e&&e<60?e:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function u(e){c(),f.$setViewValue(new Date(h)),d(e)}function c(){f.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function d(e){var t=h.getHours(),n=h.getMinutes();i.showMeridian&&(t=0===t||12===t?12:t%12),i.hours="h"===e?t:l(t),i.minutes="m"===e?n:l(n),i.meridian=h.getHours()<12?g[0]:g[1]}function p(e){e=new Date(h.getTime()+6e4*e);h.setHours(e.getHours(),e.getMinutes()),u()}var h=new Date,f={$setViewValue:angular.noop},g=angular.isDefined(n.meridians)?i.$parent.$eval(n.meridians):o.meridians||r.DATETIME_FORMATS.AMPMS,m=(this.init=function(e,t){(f=e).$render=this.render;e=t.eq(0),t=t.eq(1);(angular.isDefined(n.mousewheel)?i.$parent.$eval(n.mousewheel):o.mousewheel)&&this.setupMousewheelEvents(e,t),i.readonlyInput=angular.isDefined(n.readonlyInput)?i.$parent.$eval(n.readonlyInput):o.readonlyInput,this.setupInputEvents(e,t)},o.hourStep),v=(n.hourStep&&i.$parent.$watch(e(n.hourStep),function(e){m=parseInt(e,10)}),o.minuteStep);n.minuteStep&&i.$parent.$watch(e(n.minuteStep),function(e){v=parseInt(e,10)}),i.showMeridian=o.showMeridian,n.showMeridian&&i.$parent.$watch(e(n.showMeridian),function(e){var t;i.showMeridian=!!e,f.$error.time?(e=a(),t=s(),angular.isDefined(e)&&angular.isDefined(t)&&(h.setHours(e),u())):d()}),this.setupMousewheelEvents=function(e,t){function n(e){var t=(e=e.originalEvent?e.originalEvent:e).wheelDelta||-e.deltaY;return e.detail||0<t}e.bind("mousewheel wheel",function(e){i.$apply(n(e)?i.incrementHours():i.decrementHours()),e.preventDefault()}),t.bind("mousewheel wheel",function(e){i.$apply(n(e)?i.incrementMinutes():i.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(e,t){var n;i.readonlyInput?(i.updateHours=angular.noop,i.updateMinutes=angular.noop):(n=function(e,t){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(e)&&(i.invalidHours=e),angular.isDefined(t)&&(i.invalidMinutes=t)},i.updateHours=function(){var e=a();angular.isDefined(e)?(h.setHours(e),u("h")):n(!0)},e.bind("blur",function(){!i.invalidHours&&i.hours<10&&i.$apply(function(){i.hours=l(i.hours)})}),i.updateMinutes=function(){var e=s();angular.isDefined(e)?(h.setMinutes(e),u("m")):n(void 0,!0)},t.bind("blur",function(){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=l(i.minutes)})}))},this.render=function(){var e=f.$modelValue?new Date(f.$modelValue):null;isNaN(e)?(f.$setValidity("time",!1),t.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(h=e),c(),d())},i.incrementHours=function(){p(60*m)},i.decrementHours=function(){p(60*-m)},i.incrementMinutes=function(){p(v)},i.decrementMinutes=function(){p(-v)},i.toggleMeridian=function(){p(720*(h.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,i){var r=i[0],i=i[1];i&&r.init(i,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(e){var t=e.match(i);if(t)return{itemName:t[3],source:n(t[4]),viewMapper:n(t[2]||t[1]),modelMapper:n(t[1])};throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+e+'".')}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(k,D,x,O,T,A,E){var P=[9,13,27,38,40];return{require:"ngModel",link:function(o,a,e,s){function n(i){var r={$viewValue:i};c(o,!0),x.when(m.source(o,r)).then(function(e){var t=i===s.$viewValue;if(t&&l)if(0<e.length){v.activeIdx=f?0:-1;for(var n=v.matches.length=0;n<e.length;n++)r[m.itemName]=e[n],v.matches.push({id:b(n),label:m.viewMapper(v,r),model:e[n]});v.query=i,v.position=h?A.offset(a):A.position(a),v.position.top=v.position.top+a.prop("offsetHeight"),a.attr("aria-expanded",!0)}else w();t&&c(o,!1)},function(){w(),c(o,!1)})}var l,i=o.$eval(e.typeaheadMinLength)||1,r=o.$eval(e.typeaheadWaitMs)||0,u=!1!==o.$eval(e.typeaheadEditable),c=D(e.typeaheadLoading).assign||angular.noop,d=D(e.typeaheadOnSelect),p=e.typeaheadInputFormatter?D(e.typeaheadInputFormatter):void 0,h=!!e.typeaheadAppendToBody&&o.$eval(e.typeaheadAppendToBody),f=!1!==o.$eval(e.typeaheadFocusFirst),g=D(e.ngModel).assign,m=E.parse(e.typeahead),v=o.$new(),t=(o.$on("$destroy",function(){v.$destroy()}),"typeahead-"+v.$id+"-"+Math.floor(1e4*Math.random())),y=(a.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":t}),angular.element("<div typeahead-popup></div>")),w=(y.attr({id:t,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(e.typeaheadTemplateUrl)&&y.attr("template-url",e.typeaheadTemplateUrl),function(){v.matches=[],v.activeIdx=-1,a.attr("aria-expanded",!1)}),b=function(e){return t+"-option-"+e};v.$watch("activeIdx",function(e){e<0?a.removeAttr("aria-activedescendant"):a.attr("aria-activedescendant",b(e))});w(),v.query=void 0;function $(){S&&O.cancel(S)}function _(e){a[0]!==e.target&&(w(),v.$digest())}s.$parsers.unshift(function(e){return l=!0,e&&e.length>=i?0<r?($(),t=e,S=O(function(){n(t)},r)):n(e):(c(o,!1),$(),w()),u?e:e?void s.$setValidity("editable",!1):(s.$setValidity("editable",!0),e);var t}),s.$formatters.push(function(e){var t,n={};return p?(n.$model=e,p(o,n)):(n[m.itemName]=e,t=m.viewMapper(o,n),n[m.itemName]=void 0,t!==m.viewMapper(o,n)?t:e)}),v.select=function(e){var t,n={};n[m.itemName]=e=v.matches[e].model,t=m.modelMapper(o,n),g(o,t),s.$setValidity("editable",!0),d(o,{$item:e,$model:t,$label:m.viewMapper(o,n)}),w(),O(function(){a[0].focus()},0,!1)},a.bind("keydown",function(e){0!==v.matches.length&&-1!==P.indexOf(e.which)&&(-1!=v.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(v.activeIdx=(v.activeIdx+1)%v.matches.length,v.$digest()):38===e.which?(v.activeIdx=(0<v.activeIdx?v.activeIdx:v.matches.length)-1,v.$digest()):13===e.which||9===e.which?v.$apply(function(){v.select(v.activeIdx)}):27===e.which&&(e.stopPropagation(),w(),v.$digest()))}),a.bind("blur",function(){l=!1});T.bind("click",_),o.$on("$destroy",function(){T.unbind("click",_),h&&C.remove()});var S,C=k(y)(v);h?T.find("body").append(C):a.after(C)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return 0<t.matches.length},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(i,r,o,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(t,n,e){e=a(e.templateUrl)(t.$parent)||"template/typeahead/typeahead-match.html";i.get(e,{cache:r}).success(function(e){n.replaceWith(o(e.trim())(t))})}}}]).filter("typeaheadHighlight",function(){return function(e,t){return t?(""+e).replace(new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var V;function g(){return V.apply(null,arguments)}function m(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function N(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(p(e,t))return;return 1}function v(e){return void 0===e}function y(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function F(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function j(e,t){for(var n=[],i=e.length,r=0;r<i;++r)n.push(t(e[r],r));return n}function Y(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,"toString")&&(e.toString=t.toString),p(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return Et(e,t,n,i,!0).utc()}function w(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function H(e){if(null==e._isValid){var t=w(e),n=q.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function U(e){var t=u(NaN);return null!=e?Y(w(t),e):w(t).userInvalidated=!0,t}var q=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1},z=g.momentProperties=[],B=!1;function W(e,t){var n,i,r,o=z.length;if(v(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),v(t._i)||(e._i=t._i),v(t._f)||(e._f=t._f),v(t._l)||(e._l=t._l),v(t._strict)||(e._strict=t._strict),v(t._tzm)||(e._tzm=t._tzm),v(t._isUTC)||(e._isUTC=t._isUTC),v(t._offset)||(e._offset=t._offset),v(t._pf)||(e._pf=w(t)),v(t._locale)||(e._locale=t._locale),0<o)for(n=0;n<o;n++)v(r=t[i=z[n]])||(e[i]=r);return e}function G(e){W(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===B&&(B=!0,g.updateOffset(this),B=!1)}function b(e){return e instanceof G||null!=e&&null!=e._isAMomentObject}function K(e){!1===g.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(o,a){var s=!0;return Y(function(){if(null!=g.deprecationHandler&&g.deprecationHandler(null,o),s){for(var e,t,n=[],i=arguments.length,r=0;r<i;r++){if(e="","object"==typeof arguments[r]){for(t in e+="\n["+r+"] ",arguments[0])p(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[r];n.push(e)}K(o+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),s=!1}return a.apply(this,arguments)},a)}var Q={};function Z(e,t){null!=g.deprecationHandler&&g.deprecationHandler(e,t),Q[e]||(K(t),Q[e]=!0)}function a(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function X(e,t){var n,i=Y({},e);for(n in t)p(t,n)&&(N(e[n])&&N(t[n])?(i[n]={},Y(i[n],e[n]),Y(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)p(e,n)&&!p(t,n)&&N(e[n])&&(i[n]=Y({},i[n]));return i}function J(e){null!=e&&this.set(e)}g.suppressDeprecationWarnings=!1,g.deprecationHandler=null;var ee=Object.keys||function(e){var t,n=[];for(t in e)p(e,t)&&n.push(t);return n};function o(e,t,n){var i=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}var te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ie={},re={};function i(e,t,n,i){var r="string"==typeof i?function(){return this[i]()}:i;e&&(re[e]=r),t&&(re[t[0]]=function(){return o(r.apply(this,arguments),t[1],t[2])}),n&&(re[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function oe(e,t){return e.isValid()?(t=ae(t,e.localeData()),ie[t]=ie[t]||function(i){for(var e,r=i.match(te),t=0,o=r.length;t<o;t++)re[r[t]]?r[t]=re[r[t]]:r[t]=(e=r[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<o;n++)t+=a(r[n])?r[n].call(e,i):r[n];return t}}(t),ie[t](e)):e.localeData().invalidDate()}function ae(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(ne.lastIndex=0;0<=n&&ne.test(e);)e=e.replace(ne,i),ne.lastIndex=0,--n;return e}var se={};function t(e,t){var n=e.toLowerCase();se[n]=se[n+"s"]=se[t]=e}function s(e){return"string"==typeof e?se[e]||se[e.toLowerCase()]:void 0}function le(e){var t,n,i={};for(n in e)p(e,n)&&(t=s(n))&&(i[t]=e[n]);return i}var ue={};function n(e,t){ue[e]=t}function ce(e){return e%4==0&&e%100!=0||e%400==0}function d(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function c(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?d(e):t}function de(t,n){return function(e){return null!=e?(he(this,t,e),g.updateOffset(this,n),this):pe(this,t)}}function pe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ce(e.year())&&1===e.month()&&29===e.date()?(n=c(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Re(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var r=/\d/,l=/\d\d/,fe=/\d{3}/,ge=/\d{4}/,me=/[+-]?\d{6}/,h=/\d\d?/,ve=/\d\d\d\d?/,ye=/\d\d\d\d\d\d?/,we=/\d{1,3}/,be=/\d{1,4}/,$e=/[+-]?\d{1,6}/,_e=/\d+/,Se=/[+-]?\d+/,Ce=/Z|[+-]\d\d:?\d\d/gi,ke=/Z|[+-]\d\d(?::?\d\d)?/gi,f=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function $(e,n,i){xe[e]=a(n)?n:function(e,t){return e&&i?i:n}}function De(e,t){return p(xe,e)?xe[e](t._strict,t._locale):new RegExp(_(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))}function _(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var xe={},Oe={};function S(e,n){var t,i,r=n;for("string"==typeof e&&(e=[e]),y(n)&&(r=function(e,t){t[n]=c(e)}),i=e.length,t=0;t<i;t++)Oe[e[t]]=r}function Te(e,r){S(e,function(e,t,n,i){n._w=n._w||{},r(e,n._w,n,i)})}var C,k=0,D=1,x=2,O=3,T=4,A=5,Ae=6,Ee=7,Pe=8;function Re(e,t){var n;return isNaN(e)||isNaN(t)?NaN:(n=(t%(n=12)+n)%n,e+=(t-n)/12,1==n?ce(e)?29:28:31-n%7%2)}C=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},i("M",["MM",2],"Mo",function(){return this.month()+1}),i("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),i("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),n("month",8),$("M",h),$("MM",h,l),$("MMM",function(e,t){return t.monthsShortRegex(e)}),$("MMMM",function(e,t){return t.monthsRegex(e)}),S(["M","MM"],function(e,t){t[D]=c(e)-1}),S(["MMM","MMMM"],function(e,t,n,i){i=n._locale.monthsParse(e,i,n._strict);null!=i?t[D]=i:w(n).invalidMonth=e});var Me="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ve=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ne=f,Le=f;function Fe(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=c(t);else if(!y(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),Re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function je(e){return null!=e?(Fe(this,e),g.updateOffset(this,!0),this):pe(this,"Month")}function Ye(){function e(e,t){return t.length-e.length}for(var t,n=[],i=[],r=[],o=0;o<12;o++)t=u([2e3,o]),n.push(this.monthsShort(t,"")),i.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(n.sort(e),i.sort(e),r.sort(e),o=0;o<12;o++)n[o]=_(n[o]),i[o]=_(i[o]);for(o=0;o<24;o++)r[o]=_(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function He(e){return ce(e)?366:365}i("Y",0,0,function(){var e=this.year();return e<=9999?o(e,4):"+"+e}),i(0,["YY",2],0,function(){return this.year()%100}),i(0,["YYYY",4],0,"year"),i(0,["YYYYY",5],0,"year"),i(0,["YYYYYY",6,!0],0,"year"),t("year","y"),n("year",1),$("Y",Se),$("YY",h,l),$("YYYY",be,ge),$("YYYYY",$e,me),$("YYYYYY",$e,me),S(["YYYYY","YYYYYY"],k),S("YYYY",function(e,t){t[k]=2===e.length?g.parseTwoDigitYear(e):c(e)}),S("YY",function(e,t){t[k]=g.parseTwoDigitYear(e)}),S("Y",function(e,t){t[k]=parseInt(e,10)}),g.parseTwoDigitYear=function(e){return c(e)+(68<c(e)?1900:2e3)};var Ue=de("FullYear",!0);function qe(e,t,n,i,r,o,a){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}function ze(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Be(e,t,n){n=7+t-n;return n-(7+ze(e,0,n).getUTCDay()-t)%7-1}function We(e,t,n,i,r){var o,t=1+7*(t-1)+(7+n-i)%7+Be(e,i,r),n=t<=0?He(o=e-1)+t:t>He(e)?(o=e+1,t-He(e)):(o=e,t);return{year:o,dayOfYear:n}}function Ge(e,t,n){var i,r,o=Be(e.year(),t,n),o=Math.floor((e.dayOfYear()-o-1)/7)+1;return o<1?i=o+E(r=e.year()-1,t,n):o>E(e.year(),t,n)?(i=o-E(e.year(),t,n),r=e.year()+1):(r=e.year(),i=o),{week:i,year:r}}function E(e,t,n){var i=Be(e,t,n),t=Be(e+1,t,n);return(He(e)-i+t)/7}i("w",["ww",2],"wo","week"),i("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),n("week",5),n("isoWeek",5),$("w",h),$("ww",h,l),$("W",h),$("WW",h,l),Te(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=c(e)});function Ke(e,t){return e.slice(t,7).concat(e.slice(0,t))}i("d",0,"do","day"),i("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),i("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),i("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),i("e",0,0,"weekday"),i("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),$("d",h),$("e",h),$("E",h),$("dd",function(e,t){return t.weekdaysMinRegex(e)}),$("ddd",function(e,t){return t.weekdaysShortRegex(e)}),$("dddd",function(e,t){return t.weekdaysRegex(e)}),Te(["dd","ddd","dddd"],function(e,t,n,i){i=n._locale.weekdaysParse(e,i,n._strict);null!=i?t.d=i:w(n).invalidWeekday=e}),Te(["d","e","E"],function(e,t,n,i){t[i]=c(e)});var Qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Je=f,et=f,tt=f;function nt(){function e(e,t){return t.length-e.length}for(var t,n,i,r=[],o=[],a=[],s=[],l=0;l<7;l++)i=u([2e3,1]).day(l),t=_(this.weekdaysMin(i,"")),n=_(this.weekdaysShort(i,"")),i=_(this.weekdays(i,"")),r.push(t),o.push(n),a.push(i),s.push(t),s.push(n),s.push(i);r.sort(e),o.sort(e),a.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function it(){return this.hours()%12||12}function rt(e,t){i(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ot(e,t){return t._meridiemParse}i("H",["HH",2],0,"hour"),i("h",["hh",2],0,it),i("k",["kk",2],0,function(){return this.hours()||24}),i("hmm",0,0,function(){return""+it.apply(this)+o(this.minutes(),2)}),i("hmmss",0,0,function(){return""+it.apply(this)+o(this.minutes(),2)+o(this.seconds(),2)}),i("Hmm",0,0,function(){return""+this.hours()+o(this.minutes(),2)}),i("Hmmss",0,0,function(){return""+this.hours()+o(this.minutes(),2)+o(this.seconds(),2)}),rt("a",!0),rt("A",!1),t("hour","h"),n("hour",13),$("a",ot),$("A",ot),$("H",h),$("h",h),$("k",h),$("HH",h,l),$("hh",h,l),$("kk",h,l),$("hmm",ve),$("hmmss",ye),$("Hmm",ve),$("Hmmss",ye),S(["H","HH"],O),S(["k","kk"],function(e,t,n){e=c(e);t[O]=24===e?0:e}),S(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),S(["h","hh"],function(e,t,n){t[O]=c(e),w(n).bigHour=!0}),S("hmm",function(e,t,n){var i=e.length-2;t[O]=c(e.substr(0,i)),t[T]=c(e.substr(i)),w(n).bigHour=!0}),S("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[O]=c(e.substr(0,i)),t[T]=c(e.substr(i,2)),t[A]=c(e.substr(r)),w(n).bigHour=!0}),S("Hmm",function(e,t,n){var i=e.length-2;t[O]=c(e.substr(0,i)),t[T]=c(e.substr(i))}),S("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[O]=c(e.substr(0,i)),t[T]=c(e.substr(i,2)),t[A]=c(e.substr(r))});f=de("Hours",!0);var at,st={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Me,monthsShort:Ie,week:{dow:0,doy:6},weekdays:Qe,weekdaysMin:Xe,weekdaysShort:Ze,meridiemParse:/[ap]\.?m?\.?/i},P={},lt={};function ut(e){return e&&e.toLowerCase().replace("_","-")}function ct(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=ut(e[o]).split("-")).length,n=(n=ut(e[o+1]))?n.split("-"):null;0<t;){if(i=dt(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}(r,n)>=t-1)break;t--}o++}return at}function dt(t){var e;if(void 0===P[t]&&"undefined"!=typeof module&&module&&module.exports&&null!=t.match("^[^/\\\\]*$"))try{e=at._abbr,require("./locale/"+t),pt(e)}catch(e){P[t]=null}return P[t]}function pt(e,t){return e&&((t=v(t)?ft(e):ht(e,t))?at=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function ht(e,t){if(null===t)return delete P[e],null;var n,i=st;if(t.abbr=e,null!=P[e])Z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=P[e]._config;else if(null!=t.parentLocale)if(null!=P[t.parentLocale])i=P[t.parentLocale]._config;else{if(null==(n=dt(t.parentLocale)))return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return P[e]=new J(X(i,t)),lt[e]&&lt[e].forEach(function(e){ht(e.name,e.config)}),pt(e),P[e]}function ft(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return at;if(!m(e)){if(t=dt(e))return t;e=[e]}return ct(e)}function gt(e){var t=e._a;return t&&-2===w(e).overflow&&(t=t[D]<0||11<t[D]?D:t[x]<1||t[x]>Re(t[k],t[D])?x:t[O]<0||24<t[O]||24===t[O]&&(0!==t[T]||0!==t[A]||0!==t[Ae])?O:t[T]<0||59<t[T]?T:t[A]<0||59<t[A]?A:t[Ae]<0||999<t[Ae]?Ae:-1,w(e)._overflowDayOfYear&&(t<k||x<t)&&(t=x),w(e)._overflowWeeks&&-1===t&&(t=Ee),w(e)._overflowWeekday&&-1===t&&(t=Pe),w(e).overflow=t),e}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],bt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$t=/^\/?Date\((-?\d+)/i,_t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ct(e){var t,n,i,r,o,a,s=e._i,l=mt.exec(s)||vt.exec(s),s=wt.length,u=bt.length;if(l){for(w(e).iso=!0,t=0,n=s;t<n;t++)if(wt[t][1].exec(l[1])){r=wt[t][0],i=!1!==wt[t][2];break}if(null==r)e._isValid=!1;else{if(l[3]){for(t=0,n=u;t<n;t++)if(bt[t][1].exec(l[3])){o=(l[2]||" ")+bt[t][0];break}if(null==o)return void(e._isValid=!1)}if(i||null==o){if(l[4]){if(!yt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),Tt(e)}else e._isValid=!1}}else e._isValid=!1}function kt(e,t,n,i,r,o){e=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Ie.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&e.push(parseInt(o,10)),e}function Dt(e){var t,n,i=_t.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));i?(t=kt(i[4],i[3],i[2],i[5],i[6],i[7]),function(e,t,n){if(!e||Ze.indexOf(e)===new Date(t[0],t[1],t[2]).getDay())return 1;w(n).weekdayMismatch=!0,n._isValid=!1}(i[1],t,e)&&(e._a=t,e._tzm=(t=i[8],n=i[9],i=i[10],t?St[t]:n?0:60*(((t=parseInt(i,10))-(n=t%100))/100)+n),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),w(e).rfc2822=!0)):e._isValid=!1}function xt(e,t,n){return null!=e?e:null!=t?t:n}function Ot(e){var t,n,i,r,o,a,s,l,u,c,d,p=[];if(!e._d){for(i=e,r=new Date(g.now()),n=i._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()],e._w&&null==e._a[x]&&null==e._a[D]&&(null!=(r=(i=e)._w).GG||null!=r.W||null!=r.E?(l=1,u=4,o=xt(r.GG,i._a[k],Ge(R(),1,4).year),a=xt(r.W,1),((s=xt(r.E,1))<1||7<s)&&(c=!0)):(l=i._locale._week.dow,u=i._locale._week.doy,d=Ge(R(),l,u),o=xt(r.gg,i._a[k],d.year),a=xt(r.w,d.week),null!=r.d?((s=r.d)<0||6<s)&&(c=!0):null!=r.e?(s=r.e+l,(r.e<0||6<r.e)&&(c=!0)):s=l),a<1||a>E(o,l,u)?w(i)._overflowWeeks=!0:null!=c?w(i)._overflowWeekday=!0:(d=We(o,a,s,l,u),i._a[k]=d.year,i._dayOfYear=d.dayOfYear)),null!=e._dayOfYear&&(r=xt(e._a[k],n[k]),(e._dayOfYear>He(r)||0===e._dayOfYear)&&(w(e)._overflowDayOfYear=!0),c=ze(r,0,e._dayOfYear),e._a[D]=c.getUTCMonth(),e._a[x]=c.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=p[t]=n[t];for(;t<7;t++)e._a[t]=p[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[O]&&0===e._a[T]&&0===e._a[A]&&0===e._a[Ae]&&(e._nextDay=!0,e._a[O]=0),e._d=(e._useUTC?ze:qe).apply(null,p),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[O]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(w(e).weekdayMismatch=!0)}}function Tt(e){if(e._f===g.ISO_8601)Ct(e);else if(e._f===g.RFC_2822)Dt(e);else{e._a=[],w(e).empty=!0;for(var t,n,i,r,o,a=""+e._i,s=a.length,l=0,u=ae(e._f,e._locale).match(te)||[],c=u.length,d=0;d<c;d++)n=u[d],(t=(a.match(De(n,e))||[])[0])&&(0<(i=a.substr(0,a.indexOf(t))).length&&w(e).unusedInput.push(i),a=a.slice(a.indexOf(t)+t.length),l+=t.length),re[n]?(t?w(e).empty=!1:w(e).unusedTokens.push(n),i=n,o=e,null!=(r=t)&&p(Oe,i)&&Oe[i](r,o._a,o,i)):e._strict&&!t&&w(e).unusedTokens.push(n);w(e).charsLeftOver=s-l,0<a.length&&w(e).unusedInput.push(a),e._a[O]<=12&&!0===w(e).bigHour&&0<e._a[O]&&(w(e).bigHour=void 0),w(e).parsedDateParts=e._a.slice(0),w(e).meridiem=e._meridiem,e._a[O]=function(e,t,n){if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t}(e._locale,e._a[O],e._meridiem),null!==(s=w(e).era)&&(e._a[k]=e._locale.erasConvertYear(s,e._a[k])),Ot(e),gt(e)}}function At(e){var t,n,i,r=e._i,o=e._f;if(e._locale=e._locale||ft(e._l),null===r||void 0===o&&""===r)return U({nullInput:!0});if("string"==typeof r&&(e._i=r=e._locale.preparse(r)),b(r))return new G(gt(r));if(F(r))e._d=r;else if(m(o)){var a,s,l,u,c,d,p=e,h=!1,f=p._f.length;if(0===f)w(p).invalidFormat=!0,p._d=new Date(NaN);else{for(u=0;u<f;u++)c=0,d=!1,a=W({},p),null!=p._useUTC&&(a._useUTC=p._useUTC),a._f=p._f[u],Tt(a),H(a)&&(d=!0),c=(c+=w(a).charsLeftOver)+10*w(a).unusedTokens.length,w(a).score=c,h?c<l&&(l=c,s=a):(null==l||c<l||d)&&(l=c,s=a,d)&&(h=!0);Y(p,s||a)}}else if(o)Tt(e);else if(v(o=(r=e)._i))r._d=new Date(g.now());else F(o)?r._d=new Date(o.valueOf()):"string"==typeof o?(n=r,null!==(t=$t.exec(n._i))?n._d=new Date(+t[1]):(Ct(n),!1===n._isValid&&(delete n._isValid,Dt(n),!1===n._isValid)&&(delete n._isValid,n._strict?n._isValid=!1:g.createFromInputFallback(n)))):m(o)?(r._a=j(o.slice(0),function(e){return parseInt(e,10)}),Ot(r)):N(o)?(t=r)._d||(i=void 0===(n=le(t._i)).day?n.date:n.day,t._a=j([n.year,n.month,i,n.hour,n.minute,n.second,n.millisecond],function(e){return e&&parseInt(e,10)}),Ot(t)):y(o)?r._d=new Date(o):g.createFromInputFallback(r);return H(e)||(e._d=null),e}function Et(e,t,n,i,r){var o={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(N(e)&&L(e)||m(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,(r=new G(gt(At(r=o))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function R(e,t,n,i){return Et(e,t,n,i,!1)}g.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),g.ISO_8601=function(){},g.RFC_2822=function(){};ve=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=R.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:U()}),ye=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=R.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:U()});function Pt(e,t){var n,i;if(!(t=1===t.length&&m(t[0])?t[0]:t).length)return R();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Rt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var e=le(e),t=e.year||0,n=e.quarter||0,i=e.month||0,r=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,s=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=function(e){var t,n,i=!1,r=Rt.length;for(t in e)if(p(e,t)&&(-1===C.call(Rt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[Rt[n]]){if(i)return!1;parseFloat(e[Rt[n]])!==c(e[Rt[n]])&&(i=!0)}return!0}(e),this._milliseconds=+u+1e3*l+6e4*s+1e3*a*60*60,this._days=+o+7*r,this._months=+i+3*n+12*t,this._data={},this._locale=ft(),this._bubble()}function It(e){return e instanceof Mt}function Vt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,n){i(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+o(~~(e/60),2)+n+o(~~e%60,2)})}Nt("Z",":"),Nt("ZZ",""),$("Z",ke),$("ZZ",ke),S(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ft(ke,e)});var Lt=/([\+\-]|\d\d)/gi;function Ft(e,t){var t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Lt)||["-",0,0])[1]+c(e[2]))?0:"+"===e[0]?t:-t}function jt(e,t){var n;return t._isUTC?(t=t.clone(),n=(b(e)||F(e)?e:R(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),g.updateOffset(t,!1),t):R(e).local()}function Yt(e){return-Math.round(e._d.getTimezoneOffset())}function Ht(){return!!this.isValid()&&this._isUTC&&0===this._offset}g.updateOffset=function(){};var Ut=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,qt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function M(e,t){var n,i=e;return It(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:y(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(t=Ut.exec(e))?(n="-"===t[1]?-1:1,i={y:0,d:c(t[x])*n,h:c(t[O])*n,m:c(t[T])*n,s:c(t[A])*n,ms:c(Vt(1e3*t[Ae]))*n}):(t=qt.exec(e))?(n="-"===t[1]?-1:1,i={y:zt(t[2],n),M:zt(t[3],n),w:zt(t[4],n),d:zt(t[5],n),h:zt(t[6],n),m:zt(t[7],n),s:zt(t[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(t=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=jt(t,e),e.isBefore(t)?n=Bt(e,t):((n=Bt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(R(i.from),R(i.to)),(i={}).ms=t.milliseconds,i.M=t.months),n=new Mt(i),It(e)&&p(e,"_locale")&&(n._locale=e._locale),It(e)&&p(e,"_isValid")&&(n._isValid=e._isValid),n}function zt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Bt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Wt(i,r){return function(e,t){var n;return null===t||isNaN(+t)||(Z(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Gt(this,M(e,t),i),this}}function Gt(e,t,n,i){var r=t._milliseconds,o=Vt(t._days),t=Vt(t._months);e.isValid()&&(i=null==i||i,t&&Fe(e,pe(e,"Month")+t*n),o&&he(e,"Date",pe(e,"Date")+o*n),r&&e._d.setTime(e._d.valueOf()+r*n),i)&&g.updateOffset(e,o||t)}M.fn=Mt.prototype,M.invalid=function(){return M(NaN)};Me=Wt(1,"add"),Qe=Wt(-1,"subtract");function Kt(e){return"string"==typeof e||e instanceof String}function Qt(e){return b(e)||F(e)||Kt(e)||y(e)||function(t){var e=m(t),n=!1;e&&(n=0===t.filter(function(e){return!y(e)&&Kt(t)}).length);return e&&n}(e)||function(e){var t,n,i=N(e)&&!L(e),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=o.length;for(t=0;t<a;t+=1)n=o[t],r=r||p(e,n);return i&&r}(e)||null==e}function Zt(e,t){var n,i;return e.date()<t.date()?-Zt(t,e):-((n=12*(t.year()-e.year())+(t.month()-e.month()))+(t-(i=e.clone().add(n,"months"))<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(1+n,"months")-i)))||0}function Xt(e){return void 0===e?this._locale._abbr:(null!=(e=ft(e))&&(this._locale=e),this)}g.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",g.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Xe=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Jt(){return this._locale}var en=126227808e5;function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-en:new Date(e,t,n).valueOf()}function rn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-en:Date.UTC(e,t,n)}function on(e,t){return t.erasAbbrRegex(e)}function an(){for(var e=[],t=[],n=[],i=[],r=this.eras(),o=0,a=r.length;o<a;++o)t.push(_(r[o].name)),e.push(_(r[o].abbr)),n.push(_(r[o].narrow)),i.push(_(r[o].name)),i.push(_(r[o].abbr)),i.push(_(r[o].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function sn(e,t){i(0,[e,e.length],0,t)}function ln(e,t,n,i,r){var o;return null==e?Ge(this,i,r).year:(o=E(e,i,r),function(e,t,n,i,r){e=We(e,t,n,i,r),t=ze(e.year,0,e.dayOfYear);return this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=o<t?o:t,n,i,r))}i("N",0,0,"eraAbbr"),i("NN",0,0,"eraAbbr"),i("NNN",0,0,"eraAbbr"),i("NNNN",0,0,"eraName"),i("NNNNN",0,0,"eraNarrow"),i("y",["y",1],"yo","eraYear"),i("y",["yy",2],0,"eraYear"),i("y",["yyy",3],0,"eraYear"),i("y",["yyyy",4],0,"eraYear"),$("N",on),$("NN",on),$("NNN",on),$("NNNN",function(e,t){return t.erasNameRegex(e)}),$("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),S(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){i=n._locale.erasParse(e,i,n._strict);i?w(n).era=i:w(n).invalidEra=e}),$("y",_e),$("yy",_e),$("yyy",_e),$("yyyy",_e),$("yo",function(e,t){return t._eraYearOrdinalRegex||_e}),S(["y","yy","yyy","yyyy"],k),S(["yo"],function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[k]=n._locale.eraYearOrdinalParse(e,r):t[k]=parseInt(e,10)}),i(0,["gg",2],0,function(){return this.weekYear()%100}),i(0,["GG",2],0,function(){return this.isoWeekYear()%100}),sn("gggg","weekYear"),sn("ggggg","weekYear"),sn("GGGG","isoWeekYear"),sn("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),$("G",Se),$("g",Se),$("GG",h,l),$("gg",h,l),$("GGGG",be,ge),$("gggg",be,ge),$("GGGGG",$e,me),$("ggggg",$e,me),Te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=c(e)}),Te(["gg","GG"],function(e,t,n,i){t[i]=g.parseTwoDigitYear(e)}),i("Q",0,"Qo","quarter"),t("quarter","Q"),n("quarter",7),$("Q",r),S("Q",function(e,t){t[D]=3*(c(e)-1)}),i("D",["DD",2],"Do","date"),t("date","D"),n("date",9),$("D",h),$("DD",h,l),$("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),S(["D","DD"],x),S("Do",function(e,t){t[x]=c(e.match(h)[0])});be=de("Date",!0);i("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),n("dayOfYear",4),$("DDD",we),$("DDDD",fe),S(["DDD","DDDD"],function(e,t,n){n._dayOfYear=c(e)}),i("m",["mm",2],0,"minute"),t("minute","m"),n("minute",14),$("m",h),$("mm",h,l),S(["m","mm"],T);var un,ge=de("Minutes",!1),$e=(i("s",["ss",2],0,"second"),t("second","s"),n("second",15),$("s",h),$("ss",h,l),S(["s","ss"],A),de("Seconds",!1));for(i("S",0,0,function(){return~~(this.millisecond()/100)}),i(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),i(0,["SSS",3],0,"millisecond"),i(0,["SSSS",4],0,function(){return 10*this.millisecond()}),i(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),i(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),i(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),i(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),i(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),n("millisecond",16),$("S",we,r),$("SS",we,l),$("SSS",we,fe),un="SSSS";un.length<=9;un+="S")$(un,_e);function cn(e,t){t[Ae]=c(1e3*("0."+e))}for(un="S";un.length<=9;un+="S")S(un,cn);me=de("Milliseconds",!1),i("z",0,0,"zoneAbbr"),i("zz",0,0,"zoneName");r=G.prototype;function dn(e){return e}r.add=Me,r.calendar=function(e,t){1===arguments.length&&(arguments[0]?Qt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=N(e)&&!L(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r=0;r<i.length;r+=1)n=n||p(e,i[r]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var e=e||R(),n=jt(e,this).startOf("day"),n=g.calendarFormat(this,n)||"sameElse",t=t&&(a(t[n])?t[n].call(this,e):t[n]);return this.format(t||this.localeData().calendar(n,this,R(e)))},r.clone=function(){return new G(this)},r.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=jt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=s(t)){case"year":o=Zt(this,i)/12;break;case"month":o=Zt(this,i);break;case"quarter":o=Zt(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:d(o)},r.endOf=function(e){var t,n;if(void 0!==(e=s(e))&&"millisecond"!==e&&this.isValid()){switch(n=this._isUTC?rn:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}this._d.setTime(t),g.updateOffset(this,!0)}return this},r.format=function(e){return e=e||(this.isUtc()?g.defaultFormatUtc:g.defaultFormat),e=oe(this,e),this.localeData().postformat(e)},r.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||R(e).isValid())?M({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},r.fromNow=function(e){return this.from(R(),e)},r.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||R(e).isValid())?M({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},r.toNow=function(e){return this.to(R(),e)},r.get=function(e){return a(this[e=s(e)])?this[e]():this},r.invalidAt=function(){return w(this).overflow},r.isAfter=function(e,t){return e=b(e)?e:R(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=s(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},r.isBefore=function(e,t){return e=b(e)?e:R(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=s(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},r.isBetween=function(e,t,n,i){return e=b(e)?e:R(e),t=b(t)?t:R(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},r.isSame=function(e,t){var e=b(e)?e:R(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=s(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},r.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},r.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},r.isValid=function(){return H(this)},r.lang=Xe,r.locale=Xt,r.localeData=Jt,r.max=ye,r.min=ve,r.parsingFlags=function(){return Y({},w(this))},r.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)p(e,t)&&n.push({unit:t,priority:ue[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=le(e)),i=n.length,r=0;r<i;r++)this[n[r].unit](e[n[r].unit]);else if(a(this[e=s(e)]))return this[e](t);return this},r.startOf=function(e){var t,n;if(void 0!==(e=s(e))&&"millisecond"!==e&&this.isValid()){switch(n=this._isUTC?rn:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}this._d.setTime(t),g.updateOffset(this,!0)}return this},r.subtract=Qe,r.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},r.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},r.toDate=function(){return new Date(this.valueOf())},r.toISOString=function(e){var t;return this.isValid()?(t=(e=!0!==e)?this.clone().utc():this).year()<0||9999<t.year()?oe(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):a(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",oe(t,"Z")):oe(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ"):null},r.inspect=function(){var e,t,n;return this.isValid()?(t="moment",e="",this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z"),t="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+n+"-MM-DD[T]HH:mm:ss.SSS"+(e+'[")]'))):"moment.invalid(/* "+this._i+" */)"},"undefined"!=typeof Symbol&&null!=Symbol.for&&(r[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},r.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},r.eraName=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},r.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},r.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},r.eraYear=function(){for(var e,t,n=this.localeData().eras(),i=0,r=n.length;i<r;++i)if(e=n[i].since<=n[i].until?1:-1,t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until||n[i].until<=t&&t<=n[i].since)return(this.year()-g(n[i].since).year())*e+n[i].offset;return this.year()},r.year=Ue,r.isLeapYear=function(){return ce(this.year())},r.weekYear=function(e){return ln.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},r.isoWeekYear=function(e){return ln.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},r.quarter=r.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},r.month=je,r.daysInMonth=function(){return Re(this.year(),this.month())},r.week=r.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},r.isoWeek=r.isoWeeks=function(e){var t=Ge(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},r.weeksInYear=function(){var e=this.localeData()._week;return E(this.year(),e.dow,e.doy)},r.weeksInWeekYear=function(){var e=this.localeData()._week;return E(this.weekYear(),e.dow,e.doy)},r.isoWeeksInYear=function(){return E(this.year(),1,4)},r.isoWeeksInISOWeekYear=function(){return E(this.isoWeekYear(),1,4)},r.date=be,r.day=r.days=function(e){var t,n,i;return this.isValid()?(t=this._isUTC?this._d.getUTCDay():this._d.getDay(),null!=e?(n=e,i=this.localeData(),e="string"!=typeof n?n:isNaN(n)?"number"==typeof(n=i.weekdaysParse(n))?n:null:parseInt(n,10),this.add(e-t,"d")):t):null!=e?this:NaN},r.weekday=function(e){var t;return this.isValid()?(t=(this.day()+7-this.localeData()._week.dow)%7,null==e?t:this.add(e-t,"d")):null!=e?this:NaN},r.isoWeekday=function(e){var t,n;return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN},r.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},r.hour=r.hours=f,r.minute=r.minutes=ge,r.second=r.seconds=$e,r.millisecond=r.milliseconds=me,r.utcOffset=function(e,t,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?r:Yt(this);if("string"==typeof e){if(null===(e=Ft(ke,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Yt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Gt(this,M(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,g.updateOffset(this,!0),this._changeInProgress=null)),this},r.utc=function(e){return this.utcOffset(0,e)},r.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e)&&this.subtract(Yt(this),"m"),this},r.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Ft(Ce,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},r.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?R(e).utcOffset():0,(this.utcOffset()-e)%60==0)},r.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},r.isLocal=function(){return!!this.isValid()&&!this._isUTC},r.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},r.isUtc=Ht,r.isUTC=Ht,r.zoneAbbr=function(){return this._isUTC?"UTC":""},r.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},r.dates=e("dates accessor is deprecated. Use date instead.",be),r.months=e("months accessor is deprecated. Use month instead",je),r.years=e("years accessor is deprecated. Use year instead",Ue),r.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),r.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var e,t;return v(this._isDSTShifted)&&(W(e={},this),(e=At(e))._a?(t=(e._isUTC?u:R)(e._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0,a=0;a<i;a++)(n&&e[a]!==t[a]||!n&&c(e[a])!==c(t[a]))&&o++;return o+r}(e._a,t.toArray())):this._isDSTShifted=!1),this._isDSTShifted});l=J.prototype;function pn(e,t,n,i){var r=ft(),i=u().set(i,t);return r[n](i,e)}function hn(e,t,n){if(y(e)&&(t=e,e=void 0),e=e||"",null!=t)return pn(e,t,n,"month");for(var i=[],r=0;r<12;r++)i[r]=pn(e,r,n,"month");return i}function fn(e,t,n,i){t=("boolean"==typeof e?y(t)&&(n=t,t=void 0):(t=e,e=!1,y(n=t)&&(n=t,t=void 0)),t||"");var r,o=ft(),a=e?o._week.dow:0,s=[];if(null!=n)return pn(t,(n+a)%7,i,"day");for(r=0;r<7;r++)s[r]=pn(t,(r+a)%7,i,"day");return s}l.calendar=function(e,t,n){return a(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},l.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(te).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},l.invalidDate=function(){return this._invalidDate},l.ordinal=function(e){return this._ordinal.replace("%d",e)},l.preparse=dn,l.postformat=dn,l.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return a(r)?r(e,t,n,i):r.replace(/%d/i,e)},l.pastFuture=function(e,t){return a(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},l.set=function(e){var t,n;for(n in e)p(e,n)&&(a(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},l.eras=function(e,t){for(var n,i=this._eras||ft("en")._eras,r=0,o=i.length;r<o;++r)switch("string"==typeof i[r].since&&(n=g(i[r].since).startOf("day"),i[r].since=n.valueOf()),typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":n=g(i[r].until).startOf("day").valueOf(),i[r].until=n.valueOf()}return i},l.erasParse=function(e,t,n){var i,r,o,a,s,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(o=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[i];break;case"NNNN":if(o===e)return l[i];break;case"NNNNN":if(s===e)return l[i]}else if(0<=[o,a,s].indexOf(e))return l[i]},l.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?g(e.since).year():g(e.since).year()+(t-e.offset)*n},l.erasAbbrRegex=function(e){return p(this,"_erasAbbrRegex")||an.call(this),e?this._erasAbbrRegex:this._erasRegex},l.erasNameRegex=function(e){return p(this,"_erasNameRegex")||an.call(this),e?this._erasNameRegex:this._erasRegex},l.erasNarrowRegex=function(e){return p(this,"_erasNarrowRegex")||an.call(this),e?this._erasNarrowRegex:this._erasRegex},l.months=function(e,t){return e?(m(this._months)?this._months:this._months[(this._months.isFormat||Ve).test(t)?"format":"standalone"])[e.month()]:m(this._months)?this._months:this._months.standalone},l.monthsShort=function(e,t){return e?(m(this._monthsShort)?this._monthsShort:this._monthsShort[Ve.test(t)?"format":"standalone"])[e.month()]:m(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},l.monthsParse=function(e,t,n){var i,r;if(this._monthsParseExact)return function(e,t,n){var i,r,o,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=C.call(this._shortMonthsParse,e))?r:null:-1!==(r=C.call(this._longMonthsParse,e))?r:null:"MMM"===t?-1!==(r=C.call(this._shortMonthsParse,e))||-1!==(r=C.call(this._longMonthsParse,e))?r:null:-1!==(r=C.call(this._longMonthsParse,e))||-1!==(r=C.call(this._shortMonthsParse,e))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},l.monthsRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Ye.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},l.monthsShortRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Ye.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Ne),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},l.week=function(e){return Ge(e,this._week.dow,this._week.doy).week},l.firstDayOfYear=function(){return this._week.doy},l.firstDayOfWeek=function(){return this._week.dow},l.weekdays=function(e,t){return t=m(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Ke(t,this._week.dow):e?t[e.day()]:t},l.weekdaysMin=function(e){return!0===e?Ke(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},l.weekdaysShort=function(e){return!0===e?Ke(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},l.weekdaysParse=function(e,t,n){var i,r;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=C.call(this._weekdaysParse,e))?r:null:"ddd"===t?-1!==(r=C.call(this._shortWeekdaysParse,e))?r:null:-1!==(r=C.call(this._minWeekdaysParse,e))?r:null:"dddd"===t?-1!==(r=C.call(this._weekdaysParse,e))||-1!==(r=C.call(this._shortWeekdaysParse,e))||-1!==(r=C.call(this._minWeekdaysParse,e))?r:null:"ddd"===t?-1!==(r=C.call(this._shortWeekdaysParse,e))||-1!==(r=C.call(this._weekdaysParse,e))||-1!==(r=C.call(this._minWeekdaysParse,e))?r:null:-1!==(r=C.call(this._minWeekdaysParse,e))||-1!==(r=C.call(this._weekdaysParse,e))||-1!==(r=C.call(this._shortWeekdaysParse,e))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},l.weekdaysRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},l.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=et),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},l.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},l.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},l.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},pt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===c(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),g.lang=e("moment.lang is deprecated. Use moment.locale instead.",pt),g.langData=e("moment.langData is deprecated. Use moment.localeData instead.",ft);var gn=Math.abs;function mn(e,t,n,i){t=M(t,n);return e._milliseconds+=i*t._milliseconds,e._days+=i*t._days,e._months+=i*t._months,e._bubble()}function vn(e){return e<0?Math.floor(e):Math.ceil(e)}function yn(e){return 4800*e/146097}function wn(e){return 146097*e/4800}function bn(e){return function(){return this.as(e)}}we=bn("ms"),fe=bn("s"),Me=bn("m"),ye=bn("h"),ve=bn("d"),Qe=bn("w"),f=bn("M"),ge=bn("Q"),$e=bn("y");function $n(e){return function(){return this.isValid()?this._data[e]:NaN}}var me=$n("milliseconds"),be=$n("seconds"),Ue=$n("minutes"),l=$n("hours"),_n=$n("days"),Sn=$n("months"),Cn=$n("years");var kn=Math.round,Dn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function xn(e,t,n,i){var r=M(e).abs(),o=kn(r.as("s")),a=kn(r.as("m")),s=kn(r.as("h")),l=kn(r.as("d")),u=kn(r.as("M")),c=kn(r.as("w")),r=kn(r.as("y")),o=(o<=n.ss?["s",o]:o<n.s&&["ss",o])||(a<=1?["m"]:a<n.m&&["mm",a])||(s<=1?["h"]:s<n.h&&["hh",s])||(l<=1?["d"]:l<n.d&&["dd",l]);return(o=(o=null!=n.w?o||(c<=1?["w"]:c<n.w&&["ww",c]):o)||(u<=1?["M"]:u<n.M&&["MM",u])||(r<=1?["y"]:["yy",r]))[2]=t,o[3]=0<+e,o[4]=i,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,o)}var On=Math.abs;function Tn(e){return(0<e)-(e<0)||+e}function An(){var e,t,n,i,r,o,a,s,l,u,c;return this.isValid()?(e=On(this._milliseconds)/1e3,t=On(this._days),n=On(this._months),(s=this.asSeconds())?(i=d(e/60),r=d(i/60),e%=60,i%=60,o=d(n/12),n%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=Tn(this._months)!==Tn(s)?"-":"",u=Tn(this._days)!==Tn(s)?"-":"",c=Tn(this._milliseconds)!==Tn(s)?"-":"",(s<0?"-":"")+"P"+(o?l+o+"Y":"")+(n?l+n+"M":"")+(t?u+t+"D":"")+(r||i||e?"T":"")+(r?c+r+"H":"")+(i?c+i+"M":"")+(e?c+a+"S":"")):"P0D"):this.localeData().invalidDate()}var I=Mt.prototype;return I.isValid=function(){return this._isValid},I.abs=function(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this},I.add=function(e,t){return mn(this,e,t,1)},I.subtract=function(e,t){return mn(this,e,t,-1)},I.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=s(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+yn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(wn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},I.asMilliseconds=we,I.asSeconds=fe,I.asMinutes=Me,I.asHours=ye,I.asDays=ve,I.asWeeks=Qe,I.asMonths=f,I.asQuarters=ge,I.asYears=$e,I.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*c(this._months/12):NaN},I._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*vn(wn(n)+t),n=t=0),i.milliseconds=e%1e3,e=d(e/1e3),i.seconds=e%60,e=d(e/60),i.minutes=e%60,e=d(e/60),i.hours=e%24,t+=d(e/24),n+=e=d(yn(t)),t-=vn(wn(e)),e=d(n/12),n%=12,i.days=t,i.months=n,i.years=e,this},I.clone=function(){return M(this)},I.get=function(e){return e=s(e),this.isValid()?this[e+"s"]():NaN},I.milliseconds=me,I.seconds=be,I.minutes=Ue,I.hours=l,I.days=_n,I.weeks=function(){return d(this.days()/7)},I.months=Sn,I.years=Cn,I.humanize=function(e,t){var n,i;return this.isValid()?(n=!1,i=Dn,"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(i=Object.assign({},Dn,t),null!=t.s)&&null==t.ss&&(i.ss=t.s-1),e=this.localeData(),t=xn(this,!n,i,e),n&&(t=e.pastFuture(+this,t)),e.postformat(t)):this.localeData().invalidDate()},I.toISOString=An,I.toString=An,I.toJSON=An,I.locale=Xt,I.localeData=Jt,I.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",An),I.lang=Xe,i("X",0,0,"unix"),i("x",0,0,"valueOf"),$("x",Se),$("X",/[+-]?\d+(\.\d{1,3})?/),S("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),S("x",function(e,t,n){n._d=new Date(c(e))}),g.version="2.29.4",V=R,g.fn=r,g.min=function(){return Pt("isBefore",[].slice.call(arguments,0))},g.max=function(){return Pt("isAfter",[].slice.call(arguments,0))},g.now=function(){return Date.now?Date.now():+new Date},g.utc=u,g.unix=function(e){return R(1e3*e)},g.months=function(e,t){return hn(e,t,"months")},g.isDate=F,g.locale=pt,g.invalid=U,g.duration=M,g.isMoment=b,g.weekdays=function(e,t,n){return fn(e,t,n,"weekdays")},g.parseZone=function(){return R.apply(null,arguments).parseZone()},g.localeData=ft,g.isDuration=It,g.monthsShort=function(e,t){return hn(e,t,"monthsShort")},g.weekdaysMin=function(e,t,n){return fn(e,t,n,"weekdaysMin")},g.defineLocale=ht,g.updateLocale=function(e,t){var n,i;return null!=t?(i=st,null!=P[e]&&null!=P[e].parentLocale?P[e].set(X(P[e]._config,t)):(t=X(i=null!=(n=dt(e))?n._config:i,t),null==n&&(t.abbr=e),(i=new J(t)).parentLocale=P[e],P[e]=i),pt(e)):null!=P[e]&&(null!=P[e].parentLocale?(P[e]=P[e].parentLocale,e===pt()&&pt(e)):null!=P[e]&&delete P[e]),P[e]},g.locales=function(){return ee(P)},g.weekdaysShort=function(e,t,n){return fn(e,t,n,"weekdaysShort")},g.normalizeUnits=s,g.relativeTimeRounding=function(e){return void 0===e?kn:"function"==typeof e&&(kn=e,!0)},g.relativeTimeThreshold=function(e,t){return void 0!==Dn[e]&&(void 0===t?Dn[e]:(Dn[e]=t,"s"===e&&(Dn.ss=t-1),!0))},g.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},g.prototype=r,g.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},g}),function(e,t){"use strict";"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular,"undefined"==typeof moment?require("moment"):moment),module.exports="ui.bootstrap.datetimepicker"):"function"==typeof define&&define.amd?define(["angular","moment"],t):t(e.angular,e.moment)}(this,function(d,p){"use strict";function e(){return function(e,t,n){var i,r;switch(e){case"Date":i=o(function(e){return a(e).toDate()});break;case"moment":i=o(a);break;case"milliseconds":i=o(function(e){return p.utc(e,t,p.locale(),n).valueOf()});break;default:i=o((r=e,function(e){return a(e).format(r)}))}return i;function o(t){return function(e){return d.isUndefined(e)||""===e||null===e?null:t(e)}}function a(e){return p(e,t,p.locale(),n)}}}function t(c){return{require:"ngModel",restrict:"A",scope:{dateFormats:"="},link:function(e,t,n,i){if(d.isDefined(e.dateFormats)&&!d.isString(e.dateFormats)&&!d.isArray(e.dateFormats))throw new Error("date-formats must be a single string or an array of strings i.e. date-formats=\"['YYYY-MM-DD']\" ");if(d.isDefined(n.modelType)&&(!d.isString(n.modelType)||0===n.modelType.length))throw new Error('model-type must be "Date", "moment", "milliseconds", or a moment format string');var r=n.dateTimeInput||p.defaultFormat,o=void 0===n.dateParseStrict||"true"===n.dateParseStrict,a=n.modelType||"Date",s=[n.dateTimeInput,a].concat(e.dateFormats).concat([p.ISO_8601]).filter(u),l=[a].concat(s).filter(u);function u(e,t,n){return-1===["Date","moment","milliseconds",void 0].indexOf(e)&&n.indexOf(e)===t}i.$parsers.unshift(c(a,s,o)),i.$formatters.push(function(e){return d.isUndefined(e)||""===e||null===e?null:(d.isDate(e)?p(e):d.isNumber(e)?p.utc(e):p(e,l,p.locale(),o)).format(r)}),i.$validators.dateTimeInput=function(e,t){return!(!d.isUndefined(t)&&""!==t&&null!==t)||p(t,s,p.locale(),o).isValid()},t.bind("blur",function(){i.$viewValue=i.$formatters.filter(function(){return!0}).reverse().reduce(function(e,t){return t(e)},i.$modelValue),i.$render()})}}}d.module("ui.dateTimeInput",[]).service("dateTimeParserFactory",e).directive("dateTimeInput",t),e.$inject=[],t.$inject=["dateTimeParserFactory"]}),function(e,t){"use strict";"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular,"undefined"==typeof moment?require("moment"):moment),module.exports="ui.bootstrap.datetimepicker"):"function"==typeof define&&define.amd?define(["angular","moment"],t):t(e.angular,e.moment)}(this,function(a,y){"use strict";function e(r,o){var e={bindToController:!1,controller:t,controllerAs:"dateTimePickerController",replace:!0,require:"ngModel",restrict:"E",scope:{beforeRender:"&",onSetTime:"&"},templateUrl:"templates/datetimepicker.html"};function t(u,e,t){var f=e.controller("ngModel"),g=n(),c=(u.screenReader=g.screenReader,u.changeView=function(e,t,n){n&&(n.stopPropagation(),n.preventDefault());if(e&&t.utcDateValue>-1/0&&t.selectable&&c[e]){var i=c[e](t.utcDateValue),r=[];if(i.weeks)for(var o=0;o<i.weeks.length;o+=1)for(var a=i.weeks[o],s=0;s<a.dates.length;s+=1){var l=a.dates[s];r.push(l)}u.beforeRender({$view:i.currentView,$dates:i.dates||r,$leftDate:i.leftDate,$upDate:i.previousViewDate,$rightDate:i.rightDate}),u.data=i}},f.$render=function(){u.changeView(g.startView,new v({utcDateValue:function(e){var t=new Date;if(e){var n=i(e);if(!n.isValid())throw new Error("Invalid date: "+e);t=n.toDate()}return t.getTime()-6e4*t.getTimezoneOffset()}(f.$viewValue)}))},g.configureOn&&u.$on(g.configureOn,function(){g=n(),u.screenReader=g.screenReader,f.$render()}),g.renderOn&&u.$on(g.renderOn,f.$render),{year:function(e){for(var t=y.utc(e).startOf("year"),n=10*parseInt(t.year()/10,10),i=y.utc(d(e)).subtract(1,"year").startOf("year"),r="YYYY",o=m(f.$modelValue,r),a=y().format(r),s={currentView:"year",nextView:"year"===g.minView?"setTime":"month",previousViewDate:new v({utcDateValue:null,display:n+"-"+(9+n)}),leftDate:new v({utcDateValue:y.utc(i).subtract(9,"year").valueOf()}),rightDate:new v({utcDateValue:y.utc(i).add(11,"year").valueOf()}),dates:[]},l=0;l<12;l+=1){var u=y.utc(i).add(l,"years"),u={active:u.format(r)===o,current:u.format(r)===a,display:u.format(r),future:u.year()>9+n,past:u.year()<n,utcDateValue:u.valueOf()};s.dates.push(new v(u))}return s},month:function(e){for(var t=y.utc(e).startOf("year"),e=d(e),n="YYYY-MMM",i=m(f.$modelValue,n),r=y().format(n),o={previousView:"year",currentView:"month",nextView:"month"===g.minView?"setTime":"day",previousViewDate:new v({utcDateValue:e.valueOf(),display:t.format("YYYY")}),leftDate:new v({utcDateValue:y.utc(t).subtract(1,"year").valueOf()}),rightDate:new v({utcDateValue:y.utc(t).add(1,"year").valueOf()}),dates:[]},a=0;a<12;a+=1){var s=y.utc(t).add(a,"months"),s={active:s.format(n)===i,current:s.format(n)===r,display:s.format("MMM"),utcDateValue:s.valueOf()};o.dates.push(new v(s))}return o},day:function(e){for(var e=y.utc(e),t=y.utc(e).startOf("month"),n=y.utc(e).startOf("year"),i=y.utc(e).endOf("month"),r=y.utc(t).subtract(Math.abs(t.weekday()),"days"),o="YYYY-MMM-DD",a=m(f.$modelValue,o),s=y().format(o),l={previousView:"month",currentView:"day",nextView:"day"===g.minView?"setTime":"hour",previousViewDate:new v({utcDateValue:n.valueOf(),display:t.format("YYYY-MMM")}),leftDate:new v({utcDateValue:y.utc(t).subtract(1,"months").valueOf()}),rightDate:new v({utcDateValue:y.utc(t).add(1,"months").valueOf()}),dayNames:[],weeks:[]},u=0;u<7;u+=1)l.dayNames.push(y.utc().weekday(u).format("dd"));for(var c=0;c<6;c+=1){for(var d={dates:[]},p=0;p<7;p+=1){var h=y.utc(r).add(7*c+p,"days"),h={active:h.format(o)===a,current:h.format(o)===s,display:h.format("D"),future:h.isAfter(i),past:h.isBefore(t),utcDateValue:h.valueOf()};d.dates.push(new v(h))}l.weeks.push(d)}return l},hour:function(e){for(var t=y.utc(e).startOf("day"),e=y.utc(t).startOf("month"),n="YYYY-MM-DD H",i=m(f.$modelValue,n),r=y().format(n),o={previousView:"day",currentView:"hour",nextView:"hour"===g.minView?"setTime":"minute",previousViewDate:new v({utcDateValue:e.valueOf(),display:t.format("ll")}),leftDate:new v({utcDateValue:y.utc(t).subtract(1,"days").valueOf()}),rightDate:new v({utcDateValue:y.utc(t).add(1,"days").valueOf()}),dates:[]},a=0;a<24;a+=1){var s=y.utc(t).add(a,"hours"),s={active:s.format(n)===i,current:s.format(n)===r,display:s.format("LT"),utcDateValue:s.valueOf()};o.dates.push(new v(s))}return o},minute:function(e){for(var t=y.utc(e).startOf("hour"),e=y.utc(t).startOf("day"),n="YYYY-MM-DD H:mm",i=m(f.$modelValue,n),r=y().format(n),o={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new v({utcDateValue:e.valueOf(),display:t.format("lll")}),leftDate:new v({utcDateValue:y.utc(t).subtract(1,"hours").valueOf()}),rightDate:new v({utcDateValue:y.utc(t).add(1,"hours").valueOf()}),dates:[]},a=60/g.minuteStep,s=0;s<a;s+=1){var l=y.utc(t).add(s*g.minuteStep,"minute"),l={active:l.format(n)===i,current:l.format(n)===r,display:l.format("LT"),utcDateValue:l.valueOf()};o.dates.push(new v(l))}return o},setTime:function(e){var t=new Date(e),n=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds());switch(g.modelType){case"Date":break;case"moment":n=y([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]);break;case"milliseconds":n=e;break;default:n=y([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]).format(g.modelType)}var i=f.$modelValue;f.$setViewValue(n),g.dropdownSelector&&jQuery(g.dropdownSelector).dropdown("toggle");return u.onSetTime({newDate:n,oldDate:i}),c[g.startView](e)}});function d(e){var t=10*parseInt(y.utc(e).year()/10,10);return y.utc(e).year(t).startOf("year")}function m(e,t){return e?i(e).format(t):""}function i(e){return y(e,a.isString(e)?g.parseFormat:void 0)}function n(){var e={},e=(t.datetimepickerConfig&&(e=u.$parent.$eval(t.datetimepickerConfig)),a.extend({},r,e));return o.validate(e),e}}function v(){var e=new Date(arguments[0].utcDateValue),t=6e4*e.getTimezoneOffset(),n=(this.utcDateValue=e.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+t},["active","current","display","future","past","selectable","utcDateValue"]),i=arguments[0];Object.keys(i).filter(function(e){return 0<=n.indexOf(e)}).forEach(function(e){this[e]=i[e]},this)}return t.$inject=["$scope","$element","$attrs"],e}function t(i){return{validate:function(e){var t=["configureOn","dropdownSelector","minuteStep","minView","modelType","parseFormat","renderOn","startView","screenReader"],n=Object.keys(e).filter(function(e){return t.indexOf(e)<0});if(n.length)throw new Error("Invalid options: "+n.join(", "));n=["minute","hour","day","month","year"];if(n.indexOf(e.startView)<0)throw new Error("invalid startView value: "+e.startView);if(n.indexOf(e.minView)<0)throw new Error("invalid minView value: "+e.minView);if(n.indexOf(e.minView)>n.indexOf(e.startView))throw new Error("startView must be greater than minView");if(!a.isNumber(e.minuteStep))throw new Error("minuteStep must be numeric");if(e.minuteStep<=0||60<=e.minuteStep)throw new Error("minuteStep must be greater than zero and less than 60");if(null!==e.configureOn&&!a.isString(e.configureOn))throw new Error("configureOn must be a string");if(null!==e.configureOn&&e.configureOn.length<1)throw new Error("configureOn must not be an empty string");if(null!==e.renderOn&&!a.isString(e.renderOn))throw new Error("renderOn must be a string");if(null!==e.renderOn&&e.renderOn.length<1)throw new Error("renderOn must not be an empty string");if(null!==e.modelType&&!a.isString(e.modelType))throw new Error("modelType must be a string");if(null!==e.modelType&&e.modelType.length<1)throw new Error("modelType must not be an empty string");"Date"!==e.modelType&&"moment"!==e.modelType&&"milliseconds"!==e.modelType&&(e.parseFormat=e.modelType);if(null!==e.dropdownSelector&&!a.isString(e.dropdownSelector))throw new Error("dropdownSelector must be a string");null===e.dropdownSelector||"undefined"!=typeof jQuery&&"function"==typeof jQuery().dropdown||(i.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete e.dropdownSelector)}}}a.module("ui.bootstrap.datetimepicker",[]).service("dateTimePickerConfig",function(){var e={bg:{previous:"предишна",next:"следваща"},ca:{previous:"anterior",next:"següent"},da:{previous:"forrige",next:"næste"},de:{previous:"vorige",next:"weiter"},"en-au":{previous:"previous",next:"next"},"en-gb":{previous:"previous",next:"next"},en:{previous:"previous",next:"next"},"es-us":{previous:"atrás",next:"siguiente"},es:{previous:"atrás",next:"siguiente"},fi:{previous:"edellinen",next:"seuraava"},fr:{previous:"précédent",next:"suivant"},hu:{previous:"előző",next:"következő"},it:{previous:"precedente",next:"successivo"},ja:{previous:"前へ",next:"次へ"},ml:{previous:"മുൻപുള്ളത്",next:"അടുത്തത്"},nl:{previous:"vorige",next:"volgende"},pl:{previous:"poprzednia",next:"następna"},"pt-br":{previous:"anteriores",next:"próximos"},pt:{previous:"anterior",next:"próximo"},ro:{previous:"anterior",next:"următor"},ru:{previous:"предыдущая",next:"следующая"},sk:{previous:"predošlá",next:"ďalšia"},sv:{previous:"föregående",next:"nästa"},tr:{previous:"önceki",next:"sonraki"},uk:{previous:"назад",next:"далі"},"zh-cn":{previous:"上一页",next:"下一页"},"zh-tw":{previous:"上一頁",next:"下一頁"}}[y.locale().toLowerCase()];return a.extend({},{configureOn:null,dropdownSelector:null,minuteStep:5,minView:"minute",modelType:"Date",parseFormat:"YYYY-MM-DDTHH:mm:ss.SSSZZ",renderOn:null,startView:"day"},{screenReader:e})}).service("dateTimePickerValidator",t).directive("datetimepicker",e),e.$inject=["dateTimePickerConfig","dateTimePickerValidator"],t.$inject=["$log"]}),angular.module("rzTable",[]),angular.module("rzTable").directive("rzTable",["resizeStorage","$injector","$parse",function(f,o,s){function e(e){}function l(n,i,r){return function(e,t){!0!==r.busy&&void 0!==t&&t!==e&&(u(),c(n,i,r))}}function u(){k=!0,_.map(function(e){e.remove()}),_=[]}function c(e,t,r){var i;!r.busy&&(w=$(e).find("th"),m=r.mode,v=!angular.isDefined(r.saveTableSizes)||r.saveTableSizes,y=r.profile,t=function(t,e){try{var n=e.rzMode?t.mode:"BasicResizer";return o.get(n)}catch(e){return console.error("The resizer "+t.mode+" was not found"),null}}(r,t))&&(C=new t(e,w,d),v&&(D=f.loadTableSizes(e,r.mode,r.profile)),a=C.handles(w),n=C.ctrlColumns,C.setup(),(i=D)&&($(S).width("auto"),n.each(function(e,t){var n=angular.element(t).scope().rzCol||$(t).attr("id"),n=i[n];$(t).css({width:n})}),C.onTableReady()),a.each(function(e,t){n=r,t=t,i=$("<div>",{class:n.options.handleClass||"rz-handle"}),$(t).prepend(i),_.push(i),t=C.handleMiddleware(i,t);var n,i,d=n,p=i,h=t;$(p).mousedown(function(e){k&&(C.onFirstDrag(h,p),C.onTableReady(),k=!1),d.options.onResizeStarted&&d.options.onResizeStarted(h);var t,n,i,r,o,a,s,l,u={},e=(C.intervene&&(((u=C.intervene.selector(h)).column=u).orgWidth=$(u).width()),e.preventDefault(),$(p).addClass(d.options.handleClassActive||"rz-handle-active"),e.clientX),c=$(h).width();r=d,o=h,a=e,s=c,l=u,b=function(e){var e=e.clientX-a,t=C.calculate(s,e);if(!(t<g(o)||C.restrict(t,e))){if(C.intervene){var n=C.intervene.calculator(l.orgWidth,e);if(n<g(l.column))return;if(C.intervene.restrict(n,e))return;$(l.column).width(n)}r.options.onResizeInProgress&&r.options.onResizeInProgress(o,t,e),$(o).width(t)}},$(window).mousemove(b),$(window).one("mouseup",(t=d,n=h,i=p,function(){$(i).removeClass(t.options.handleClassActive||"rz-handle-active"),b&&$(window).unbind("mousemove",b),t.options.onResizeEnded&&t.options.onResizeEnded(n),C.onEndDrag(),v&&(D=D||{},$(w).each(function(e,t){var n=angular.element(t).scope().rzCol||$(t).attr("id");n&&(D[n]=C.saveAttr(t))}),f.saveTableSizes(S,m,y,D))}))})}))}function g(e){return parseInt($(e).css("min-width"))||0}var m,v,y,w=null,n=null,a=null,b=null,_=[],S=null,d=null,C=null,k=!0,D=null;return e.$inject=["$scope","$attrs","$element"],{restrict:"A",link:function(e,t,n){var i,r,o,a;S=t,d=e.container?$(e.container):$(S).parent(),e.options=n.rzOptions&&e.options||{},$(S).addClass(e.options.tableClass||"rz-table"),c(S,n,e),r=S,a=e,(o=n).rzModel&&s(o.rzModel).assign(a.$parent,{update:function(){u(),c(r,o,a)},reset:function(){var e;e=r,$(e).outerWidth("100%"),$(e).find("th").width("auto"),this.clearStorageActive(),this.update()},clearStorage:function(){f.clearAll()},clearStorageActive:function(){f.clearCurrent(r,m,y)}}),i=S,e.$watch(function(){return $(i).find("th").length},l(i,n,e)),t=S,n=n,(e=e).$watch("profile",l(t,n,e)),e.$watch("mode",l(t,n,e)),e.$watch("busy",l(t,n,e))},controller:e,scope:{mode:"=rzMode",profile:"=?rzProfile",busy:"=?rzBusy",saveTableSizes:"=?rzSave",options:"=?rzOptions",model:"=rzModel",container:"@rzContainer"}}}]),angular.module("rzTable").directive("rzCol",[function(){return{restrict:"A",priority:650,link:function(e,t,n){e.rzCol=e.$eval(n.rzCol)},require:"^^rzTable",scope:!0}}]),angular.module("rzTable").service("resizeStorage",["$window",function(r){function o(e,t,n){return e.attr("id")?i+"."+e.attr("id")+"."+t+(n?"."+n:""):void console.error("Table has no id",e)}var i="ngColumnResize";this.loadTableSizes=function(e,t,n){e=o(e,t,n),t=r.localStorage.getItem(e);return JSON.parse(t)},this.saveTableSizes=function(e,t,n,i){e=o(e,t,n);e&&(t=JSON.stringify(i),r.localStorage.setItem(e,t))},this.clearAll=function(){for(var e=[],t=0;t<r.localStorage.length;++t){var n=localStorage.key(t);n&&n.startsWith(i)&&e.push(n)}e.map(function(e){r.localStorage.removeItem(e)})},this.clearCurrent=function(e,t,n){e=o(e,t,n);e&&r.localStorage.removeItem(e)}}]),angular.module("rzTable").factory("ResizerModel",[function(){function e(e,t,n){this.table=e,this.columns=t,this.container=n,this.handleColumns=this.handles(),this.ctrlColumns=this.ctrlColumns()}return e.prototype.setup=function(){$(this.container).css({overflowX:"hidden"})},e.prototype.onTableReady=function(){$(this.table).outerWidth("100%")},e.prototype.getMinWidth=function(e){return parseInt($(e).css("min-width"))||0},e.prototype.handles=function(){return this.columns},e.prototype.ctrlColumns=function(){return this.handleColumns},e.prototype.onFirstDrag=function(){$(this.ctrlColumns).each(function(e,t){$(t).width($(t).width())})},e.prototype.handleMiddleware=function(e,t){return t},e.prototype.restrict=function(e){return!1},e.prototype.calculate=function(e,t){return e+t},e.prototype.onEndDrag=function(){},e.prototype.saveAttr=function(e){return $(e).outerWidth()},e}]),angular.module("rzTable").factory("BasicResizer",["ResizerModel",function(i){function e(e,t,n){i.call(this,e,t,n),this.ctrlColumns=this.columns,this.intervene={selector:r,calculator:o,restrict:a}}function r(e){return $(e).next()}function o(e,t){return e-t}function a(e){return e<25}return(e.prototype=Object.create(i.prototype)).setup=function(){$(this.container).css({overflowX:"hidden"}),$(this.table).css({width:"100%"})},e.prototype.handles=function(){return $(this.columns).not(":last")},e.prototype.onFirstDrag=function(){this.onEndDrag()},e.prototype.onEndDrag=function(){var i=$(this.table).outerWidth(),r=[];$(this.columns).each(function(e,t){var n=$(t).outerWidth()/i*100+"%";r.push(function(){$(t).css({width:n})})}),r.map(function(e){e()})},e.prototype.saveAttr=function(e){return $(e)[0].style.width},e}]),angular.module("rzTable").factory("FixedResizer",["ResizerModel",function(i){function e(e,t,n){i.call(this,e,t,n),this.fixedColumn=$(e).find("th").first(),this.bound=!1}return(e.prototype=Object.create(i.prototype)).setup=function(){$(this.container).css({overflowX:"hidden"}),$(this.table).css({width:"100%"}),$(this.columns).first().css({width:"auto"})},e.prototype.handles=function(){return $(this.columns).not(":last")},e.prototype.ctrlColumns=function(){return $(this.columns).not(":first")},e.prototype.onFirstDrag=function(){$(this.ctrlColumns).each(function(e,t){$(t).width($(t).width())})},e.prototype.handleMiddleware=function(e,t){return $(t).next()},e.prototype.restrict=function(e,t){return this.bound&&this.bound<t?this.bound=!1:!!(this.bound&&this.bound>t)||(this.fixedColumn.width()<=this.getMinWidth(this.fixedColumn)?(this.bound=t,$(this.fixedColumn).width(this.minWidth),!0):void 0)},e.prototype.onEndDrag=function(){this.bound=!1},e.prototype.calculate=function(e,t){return e-t},e}]),angular.module("rzTable").factory("OverflowResizer",["ResizerModel",function(i){function e(e,t,n){i.call(this,e,t,n)}return(e.prototype=Object.create(i.prototype)).setup=function(){$(this.container).css({overflow:"auto"})},e.prototype.onTableReady=function(){$(this.table).width(1)},e}]),function(e,t){"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular")):e.angularClipboard=t(e.angular)}(this,function(r){return r.module("angular-clipboard",[]).factory("clipboard",["$document","$window",function(s,l){return{copyText:function(e,t){var n=l.pageXOffset||s[0].documentElement.scrollLeft,i=l.pageYOffset||s[0].documentElement.scrollTop,t=t&&t.container||s[0].body,e=(e=e,(r=s[0].createElement("textarea")).style.position="absolute",r.style.fontSize="12pt",r.style.border="0",r.style.padding="0",r.style.margin="0",r.style.left="-10000px",r.style.top=(l.pageYOffset||s[0].documentElement.scrollTop)+"px",r.textContent=e,r),r=(t.appendChild(e),e);try{s[0].body.style.webkitUserSelect="initial";var o=s[0].getSelection(),a=(o.removeAllRanges(),document.createRange());a.selectNodeContents(r),o.addRange(a),r.select(),r.setSelectionRange(0,999999);try{if(!s[0].execCommand("copy"))throw"failure copy"}finally{o.removeAllRanges()}}finally{s[0].body.style.webkitUserSelect=""}l.scrollTo(n,i),t.removeChild(e)},supported:"queryCommandSupported"in s[0]&&s[0].queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(i){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function(t,n){t.supported=i.supported,n.on("click",function(e){try{i.copyText(t.text,n[0]),r.isFunction(t.onCopied)&&t.$evalAsync(t.onCopied())}catch(e){r.isFunction(t.onError)&&t.$evalAsync(t.onError({err:e}))}})}}}])}),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){function e(e,t){this.items=e,this.settings=t||{diacritics:!0}}e.prototype.tokenize=function(e){if(!(e=s(String(e||"").toLowerCase()))||!e.length)return[];for(var t,n,i=[],r=e.split(/ +/),o=0,a=r.length;o<a;o++){if(t=l(r[o]),this.settings.diacritics)for(n in u)u.hasOwnProperty(n)&&(t=t.replace(new RegExp(n,"g"),u[n]));i.push({string:r[o],regex:new RegExp(t,"i")})}return i},e.prototype.iterator=function(e,t){var n=a(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)};n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){function r(e,t){var n;return!e||-1===(n=(e=String(e||"")).search(t.regex))?0:(t=t.string.length/e.length,0===n&&(t+=.5),t)}var o,a=(e=this.prepareSearch(e,t)).tokens,s=e.options.fields,l=a.length,u=e.options.nesting,c=(o=s.length)?1===o?function(e,t){return r(f(t,s[0],u),e)}:function(e,t){for(var n=0,i=0;n<o;n++)i+=r(f(t,s[n],u),e);return i/o}:function(){return 0};return l?1===l?function(e){return c(a[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;n<l;n++){if((t=c(a[n],e))<=0)return 0;i+=t}return i/l}:function(e){for(var t=0,n=0;t<l;t++)n+=c(a[t],e);return n/l}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var t,i,r,o,a,s,l,u=this,c=!(e=u.prepareSearch(e,n)).query&&n.sort_empty||n.sort,d=function(e,t){return"$score"===e?t.score:f(u.items[t.id],e,n.nesting)},p=[];if(c)for(t=0,i=c.length;t<i;t++)!e.query&&"$score"===c[t].field||p.push(c[t]);if(e.query){for(l=!0,t=0,i=p.length;t<i;t++)if("$score"===p[t].field){l=!1;break}l&&p.unshift({field:"$score",direction:"desc"})}else for(t=0,i=p.length;t<i;t++)if("$score"===p[t].field){p.splice(t,1);break}for(s=[],t=0,i=p.length;t<i;t++)s.push("desc"===p[t].direction?-1:1);return(o=p.length)?1===o?(r=p[0].field,a=s[0],function(e,t){return a*h(d(r,e),d(r,t))}):function(e,t){for(var n,i=0;i<o;i++)if(n=p[i].field,n=s[i]*h(d(n,e),d(n,t)))return n;return 0}:null},e.prototype.prepareSearch=function(e,t){var n,i,r;return"object"==typeof e?e:(n=(t=o({},t)).fields,i=t.sort,r=t.sort_empty,n&&!a(n)&&(t.fields=[n]),i&&!a(i)&&(t.sort=[i]),r&&!a(r)&&(t.sort_empty=[r]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]})},e.prototype.search=function(e,n){var i,r,o=this.prepareSearch(e,n);return n=o.options,e=o.query,r=n.score||this.getScoreFunction(o),e.length?this.iterator(this.items,function(e,t){i=r(e),(!1===n.filter||0<i)&&o.items.push({score:i,id:t})}):this.iterator(this.items,function(e,t){o.items.push({score:1,id:t})}),(e=this.getSortFunction(o,n))&&o.items.sort(e),o.total=o.items.length,"number"==typeof n.limit&&(o.items=o.items.slice(0,n.limit)),o};var h=function(e,t){return"number"==typeof e&&"number"==typeof t?t<e?1:e<t?-1:0:(e=n(String(e||"")),(t=n(String(t||"")))<e?1:e<t?-1:0)},o=function(e,t){for(var n,i,r=1,o=arguments.length;r<o;r++)if(i=arguments[r])for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);return e},f=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},s=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},l=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},n=function(){var e,t,n,i,r="",o={};for(n in u)if(u.hasOwnProperty(n))for(r+=i=u[n].substring(2,u[n].length-1),e=0,t=i.length;e<t;e++)o[i.charAt(e)]=n;var a=new RegExp("["+r+"]","g");return function(e){return e.replace(a,function(e){return o[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={mixin:function(i){i.plugins={},i.prototype.initializePlugins=function(e){var t,n,i,r=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},o.isArray(e))for(t=0,n=e.length;t<n;t++)"string"==typeof e[t]?r.push(e[t]):(this.plugins.settings[e[t].name]=e[t].options,r.push(e[t].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(this.plugins.settings[i]=e[i],r.push(i));for(;r.length;)this.require(r.shift())},i.prototype.loadPlugin=function(e){var t=this.plugins,n=i.plugins[e];if(!i.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');t.requested[e]=!0,t.loaded[e]=n.fn.apply(this,[this.plugins.settings[e]||{}]),t.names.push(e)},i.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},i.define=function(e,t){i.plugins[e]={name:e,fn:t}}}},o={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(C,c,e){"use strict";function i(){}C.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};function l(e){return void 0!==e}function k(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""}function s(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function n(t,n,e){var i,r=t.trigger,o={};for(i in t.trigger=function(){var e=arguments[0];if(-1===n.indexOf(e))return r.apply(t,arguments);o[e]=arguments},e.apply(t,[]),t.trigger=r,o)o.hasOwnProperty(i)&&r.apply(t,o[i])}function u(e){var t,n,i={};return"selectionStart"in e?(i.start=e.selectionStart,i.length=e.selectionEnd-i.start):document.selection&&(e.focus(),t=document.selection.createRange(),n=document.selection.createRange().text.length,t.moveStart("character",-e.value.length),i.start=t.text.length-n,i.length=n),i}function g(o){function e(e,t){var n,i,r;t=t||{},(e=e||window.event||{}).metaKey||e.altKey||!t.force&&!1===o.data("grow")||(t=o.val(),e.type&&"keydown"===e.type.toLowerCase()&&(n=48<=(r=e.keyCode)&&r<=57||65<=r&&r<=90||96<=r&&r<=111||186<=r&&r<=222||32===r,46===r||8===r?(i=u(o[0])).length?t=t.substring(0,i.start)+t.substring(i.start+i.length):8===r&&i.start?t=t.substring(0,i.start-1)+t.substring(i.start+1):46===r&&void 0!==i.start&&(t=t.substring(0,i.start)+t.substring(i.start+1)):n&&(r=e.shiftKey,i=String.fromCharCode(e.keyCode),t+=i=r?i.toUpperCase():i.toLowerCase())),n=o.attr("placeholder"),e=o,(i=((r=t=!t&&n?n:t)?(p.$testInput||(p.$testInput=C("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),p.$testInput.text(r),d(e,p.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),p.$testInput.width()):0)+4)===a)||(a=i,o.width(i),o.triggerHandler("resize"))}var a=null;o.on("keydown keyup update blur",e),e()}i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};var t,m=/Mac/.test(navigator.userAgent),v=m?91:17,y=m?18:17,w=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,r={before:function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},after:function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}}},d=function(e,t,n){var i,r,o={};if(n)for(i=0,r=n.length;i<r;i++)o[n[i]]=e.css(n[i]);else o=e.css();t.css(o)},p=function(e,t){var n,i,r,o,a,s=this,l=e[0],u=(l.selectize=s,window.getComputedStyle&&window.getComputedStyle(l,null));if(u=(u?u.getPropertyValue("direction"):l.currentStyle&&l.currentStyle.direction)||e.parents("[dir]:first").attr("dir")||"",C.extend(s,{order:0,settings:t,$input:e,tabIndex:e.attr("tabindex")||"",tagType:"select"===l.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(u),eventNS:".selectize"+ ++p.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===t.loadThrottle?s.onSearchChange:(r=s.onSearchChange,o=t.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(a),a=window.setTimeout(function(){r.apply(e,t)},o)})}),s.sifter=new c(this.options,{diacritics:t.diacritics}),s.settings.options){for(n=0,i=s.settings.options.length;n<i;n++)s.registerOption(s.settings.options[n]);delete s.settings.options}if(s.settings.optgroups){for(n=0,i=s.settings.optgroups.length;n<i;n++)s.registerOptionGroup(s.settings.optgroups[n]);delete s.settings.optgroups}s.settings.mode=s.settings.mode||(1===s.settings.maxItems?"single":"multi"),"boolean"!=typeof s.settings.hideSelected&&(s.settings.hideSelected="multi"===s.settings.mode),s.initializePlugins(s.settings.plugins),s.setupCallbacks(),s.setupTemplates(),s.setup()};return i.mixin(p),void 0!==e?e.mixin(p):(e="Dependency MicroPlugin is missing",t=(t={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||{},console.error("Selectize: "+e),t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group)&&console.groupEnd()),C.extend(p.prototype,{setup:function(){var n,e,i,t=this,r=t.settings,o=t.eventNS,a=C(window),s=C(document),l=t.$input,u=t.settings.mode,c=l.attr("class")||"",d=C("<div>").addClass(r.wrapperClass).addClass(c).addClass(u),p=C("<div>").addClass(r.inputClass).addClass("items").appendTo(d),h=C('<input type="text" autocomplete="off" />').appendTo(p).attr("tabindex",l.is(":disabled")?"-1":t.tabIndex),f=C(r.dropdownParent||d),u=C("<div>").addClass(r.dropdownClass).addClass(u).hide().appendTo(f),f=C("<div>").addClass(r.dropdownContentClass).appendTo(u);(e=l.attr("id"))&&(h.attr("id",e+"-selectized"),C("label[for='"+e+"']").attr("for",e+"-selectized")),t.settings.copyClassesToDropdown&&u.addClass(c),d.css({width:l[0].style.width}),t.plugins.names.length&&(e="plugin-"+t.plugins.names.join(" plugin-"),d.addClass(e),u.addClass(e)),(null===r.maxItems||1<r.maxItems)&&1===t.tagType&&l.attr("multiple","multiple"),t.settings.placeholder&&h.attr("placeholder",r.placeholder),!t.settings.splitOn&&t.settings.delimiter&&(c=t.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),t.settings.splitOn=new RegExp("\\s*"+c+"+\\s*")),l.attr("autocorrect")&&h.attr("autocorrect",l.attr("autocorrect")),l.attr("autocapitalize")&&h.attr("autocapitalize",l.attr("autocapitalize")),h[0].type=l[0].type,t.$wrapper=d,t.$control=p,t.$control_input=h,t.$dropdown=u,t.$dropdown_content=f,u.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(e){e.stopImmediatePropagation()}),u.on("mouseenter","[data-selectable]",function(){return t.onOptionHover.apply(t,arguments)}),u.on("mousedown click","[data-selectable]",function(){return t.onOptionSelect.apply(t,arguments)}),e="mousedown",c="*:not(input)",i=function(){return t.onItemSelect.apply(t,arguments)},(n=p).on(e,c,function(e){for(var t=e.target;t&&t.parentNode!==n[0];)t=t.parentNode;return e.currentTarget=t,i.apply(this,[e])}),g(h),p.on({mousedown:function(){return t.onMouseDown.apply(t,arguments)},click:function(){return t.onClick.apply(t,arguments)}}),h.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return t.onKeyDown.apply(t,arguments)},keyup:function(){return t.onKeyUp.apply(t,arguments)},keypress:function(){return t.onKeyPress.apply(t,arguments)},resize:function(){t.positionDropdown.apply(t,[])},blur:function(){return t.onBlur.apply(t,arguments)},focus:function(){return t.ignoreBlur=!1,t.onFocus.apply(t,arguments)},paste:function(){return t.onPaste.apply(t,arguments)}}),s.on("keydown"+o,function(e){t.isCmdDown=e[m?"metaKey":"ctrlKey"],t.isCtrlDown=e[m?"altKey":"ctrlKey"],t.isShiftDown=e.shiftKey}),s.on("keyup"+o,function(e){e.keyCode===y&&(t.isCtrlDown=!1),16===e.keyCode&&(t.isShiftDown=!1),e.keyCode===v&&(t.isCmdDown=!1)}),s.on("mousedown"+o,function(e){if(t.isFocused){if(e.target===t.$dropdown[0]||e.target.parentNode===t.$dropdown[0])return!1;t.$control.has(e.target).length||e.target===t.$control[0]||t.blur(e.target)}}),a.on(["scroll"+o,"resize"+o].join(" "),function(){t.isOpen&&t.positionDropdown.apply(t,arguments)}),a.on("mousemove"+o,function(){t.ignoreHover=!1}),this.revertSettings={$children:l.children().detach(),tabindex:l.attr("tabindex")},l.attr("tabindex",-1).hide().after(t.$wrapper),C.isArray(r.items)&&(t.setValue(r.items),delete r.items),w&&l.on("invalid"+o,function(e){e.preventDefault(),t.isInvalid=!0,t.refreshState()}),t.updateOriginalInput(),t.refreshItems(),t.refreshState(),t.updatePlaceholder(),t.isSetup=!0,l.is(":disabled")&&t.disable(),t.on("change",this.onChange),l.data("selectize",t),l.addClass("selectized"),t.trigger("initialize"),!0===r.preload&&t.onSearchChange("")},setupTemplates:function(){var n=this.settings.labelField,i=this.settings.optgroupLabelField;this.settings.render=C.extend({},{optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){this.isFocused&&this.isOpen||(this.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,n=e.isDefaultPrevented();C(e.target);if(t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():n||t.setActiveItem(null),!1}else n||window.setTimeout(function(){t.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var r=this;r.isFull()||r.isInputHidden||r.isLocked?e.preventDefault():r.settings.splitOn&&setTimeout(function(){var e=r.$control_input.val();if(e.match(r.settings.splitOn))for(var t=C.trim(e).split(r.settings.splitOn),n=0,i=t.length;n<i;n++)r.createItem(t[n])},0)},onKeyPress:function(e){var t;return this.isLocked?e&&e.preventDefault():(t=String.fromCharCode(e.keyCode||e.which),this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0)},onKeyDown:function(e){e.target,this.$control_input[0];var t,n=this;if(n.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(n.isCmdDown)return void n.selectAll();break;case 27:return void(n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:return!n.isOpen&&n.hasOptions?n.open():n.$activeOption&&(n.ignoreHover=!0,(t=n.getAdjacentOption(n.$activeOption,1)).length)&&n.setActiveOption(t,!0,!0),void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:return n.$activeOption&&(n.ignoreHover=!0,(t=n.getAdjacentOption(n.$activeOption,-1)).length)&&n.setActiveOption(t,!0,!0),void e.preventDefault();case 13:return void(n.isOpen&&n.$activeOption&&(n.onOptionSelect({currentTarget:n.$activeOption}),e.preventDefault()));case 37:return void n.advanceSelection(-1,e);case 39:return void n.advanceSelection(1,e);case 9:return n.settings.selectOnTab&&n.isOpen&&n.$activeOption&&(n.onOptionSelect({currentTarget:n.$activeOption}),n.isFull()||e.preventDefault()),void(n.settings.create&&n.createItem()&&e.preventDefault());case 8:case 46:return void n.deleteSelection(e)}!n.isFull()&&!n.isInputHidden||(m?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){if(this.isLocked)return e&&e.preventDefault();e=this.$control_input.val()||"";this.lastValue!==e&&(this.lastValue=e,this.onSearchChange(e),this.refreshOptions(),this.trigger("type",e))},onSearchChange:function(t){var n=this,i=n.settings.load;i&&!n.loadedSearches.hasOwnProperty(t)&&(n.loadedSearches[t]=!0,n.load(function(e){i.apply(n,[t,e])}))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n,i=this;i.isFocused&&(i.isFocused=!1,i.ignoreFocus||(i.ignoreBlur||document.activeElement!==i.$dropdown_content[0]?(n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),t&&t.focus&&t.focus(),i.isBlurring=!1,i.ignoreFocus=!1,i.trigger("blur")},i.isBlurring=!0,i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()):(i.ignoreBlur=!0,i.onFocus(e))))},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,n=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(t=C(e.currentTarget)).hasClass("create")?n.createItem(null,function(){n.settings.closeAfterSelect&&n.close()}):void 0!==(t=t.attr("data-value"))&&(n.lastQuery=null,n.setTextboxValue(""),n.addItem(t),n.settings.closeAfterSelect?n.close():!n.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&n.setActiveOption(n.getOption(t)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){n(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(e,t){var n,i,r,o,a,s,l=this;if("single"!==l.settings.mode)if((e=C(e)).length){if("mousedown"===(n=t&&t.type.toLowerCase())&&l.isShiftDown&&l.$activeItems.length){for(s=l.$control.children(".active:last"),s=Array.prototype.indexOf.apply(l.$control[0].childNodes,[s[0]]),(r=Array.prototype.indexOf.apply(l.$control[0].childNodes,[e[0]]))<s&&(a=s,s=r,r=a),i=s;i<=r;i++)o=l.$control[0].childNodes[i],-1===l.$activeItems.indexOf(o)&&(C(o).addClass("active"),l.$activeItems.push(o));t.preventDefault()}else"mousedown"===n&&l.isCtrlDown||"keydown"===n&&this.isShiftDown?e.hasClass("active")?(a=l.$activeItems.indexOf(e[0]),l.$activeItems.splice(a,1),e.removeClass("active")):l.$activeItems.push(e.addClass("active")[0]):(C(l.$activeItems).removeClass("active"),l.$activeItems=[e.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}else C(l.$activeItems).removeClass("active"),l.$activeItems=[],l.isFocused&&l.showInput()},setActiveOption:function(e,t,n){var i,r,o,a,s=this;s.$activeOption&&s.$activeOption.removeClass("active"),s.$activeOption=null,(e=C(e)).length&&(s.$activeOption=e.addClass("active"),!t&&l(t)||(e=s.$dropdown_content.height(),i=s.$activeOption.outerHeight(!0),t=s.$dropdown_content.scrollTop()||0,a=(o=r=s.$activeOption.offset().top-s.$dropdown_content.offset().top+t)-e+i,e+t<r+i?s.$dropdown_content.stop().animate({scrollTop:a},n?s.settings.scrollDuration:0):r<t&&s.$dropdown_content.stop().animate({scrollTop:o},n?s.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return{fields:e.searchField,conjunction:e.searchConjunction,sort:t="string"==typeof t?[{field:t}]:t,nesting:e.nesting}},search:function(e){var t,n,i,r=this.settings,o=this.getSearchOptions();if(r.score&&"function"!=typeof(i=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,n=this.sifter.search(e,C.extend(o,{score:i})),this.currentResults=n):n=C.extend(!0,{},this.currentResults),r.hideSelected)for(t=n.items.length-1;0<=t;t--)-1!==this.items.indexOf(k(n.items[t].id))&&n.items.splice(t,1);return n},refreshOptions:function(e){void 0===e&&(e=!0);var t,n,i,r,o,a,s,l,u,c,d,p,h,f,g,m,v=this,y=C.trim(v.$control_input.val()),w=v.search(y),b=v.$dropdown_content,$=v.$activeOption&&k(v.$activeOption.attr("data-value")),_=w.items.length;for("number"==typeof v.settings.maxOptions&&(_=Math.min(_,v.settings.maxOptions)),r={},o=[],t=0;t<_;t++)for(a=v.options[w.items[t].id],s=v.render("option",a),l=a[v.settings.optgroupField]||"",n=0,i=(u=C.isArray(l)?l:[l])&&u.length;n<i;n++)l=u[n],v.optgroups.hasOwnProperty(l)||(l=""),r.hasOwnProperty(l)||(r[l]=document.createDocumentFragment(),o.push(l)),r[l].appendChild(s);for(this.settings.lockOptgroupOrder&&o.sort(function(e,t){return(v.optgroups[e].$order||0)-(v.optgroups[t].$order||0)}),c=document.createDocumentFragment(),t=0,_=o.length;t<_;t++)v.optgroups.hasOwnProperty(l=o[t])&&r[l].childNodes.length?((d=document.createDocumentFragment()).appendChild(v.render("optgroup_header",v.optgroups[l])),d.appendChild(r[l]),c.appendChild(v.render("optgroup",C.extend({},v.optgroups[l],{html:(g=d,m=void 0,(m=document.createElement("div")).appendChild(g.cloneNode(!0)),m.innerHTML),dom:d})))):c.appendChild(r[l]);if(b.html(c),v.settings.highlight&&(b.removeHighlight(),w.query.length)&&w.tokens.length)for(t=0,_=w.tokens.length;t<_;t++)!function(e,t){var a,s;if("string"!=typeof t||t.length)a="string"==typeof t?new RegExp(t,"i"):t,s=function(e){var t=0;if(3===e.nodeType){var n,i,r=e.data.search(a);0<=r&&0<e.data.length&&(i=e.data.match(a),(n=document.createElement("span")).className="highlight",(r=e.splitText(r)).splitText(i[0].length),i=r.cloneNode(!0),n.appendChild(i),r.parentNode.replaceChild(n,r),t=1)}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var o=0;o<e.childNodes.length;++o)o+=s(e.childNodes[o]);return t},e.each(function(){s(this)})}(b,w.tokens[t].regex);if(!v.settings.hideSelected)for(t=0,_=v.items.length;t<_;t++)v.getOption(v.items[t]).addClass("selected");(p=v.canCreate(y))&&(b.prepend(v.render("option_create",{input:y})),f=C(b[0].childNodes[0])),v.hasOptions=0<w.items.length||p,v.hasOptions?(0<w.items.length?((y=$&&v.getOption($))&&y.length?h=y:"single"===v.settings.mode&&v.items.length&&(h=v.getOption(v.items[0])),h&&h.length||(h=f&&!v.settings.addPrecedence?v.getAdjacentOption(f,1):b.find("[data-selectable]:first"))):h=f,v.setActiveOption(h),e&&!v.isOpen&&v.open()):(v.setActiveOption(null),e&&v.isOpen&&v.close())},addOption:function(e){var t,n,i;if(C.isArray(e))for(t=0,n=e.length;t<n;t++)this.addOption(e[t]);else(i=this.registerOption(e))&&(this.userOptions[i]=!0,this.lastQuery=null,this.trigger("option_add",i,e))},registerOption:function(e){var t=k(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=k(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var n,i,r,o=this;if(e=k(e),n=k(t[o.settings.valueField]),null!==e&&o.options.hasOwnProperty(e)){if("string"!=typeof n)throw new Error("Value must be set in option data");r=o.options[e].$order,n!==e&&(delete o.options[e],-1!==(i=o.items.indexOf(e)))&&o.items.splice(i,1,n),t.$order=t.$order||r,o.options[n]=t,i=o.renderCache.item,r=o.renderCache.option,i&&(delete i[e],delete i[n]),r&&(delete r[e],delete r[n]),-1!==o.items.indexOf(n)&&(i=o.getItem(e),r=C(o.render("item",t)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),o.lastQuery=null,o.isOpen&&o.refreshOptions(!1)}},removeOption:function(e,t){e=k(e);var n=this.renderCache.item,i=this.renderCache.option;n&&delete n[e],i&&delete i[e],delete this.userOptions[e],delete this.options[e],this.lastQuery=null,this.trigger("option_remove",e),this.removeItem(e,t)},clearOptions:function(){var n=this,i=(n.loadedSearches={},n.userOptions={},n.renderCache={},n.options);C.each(n.options,function(e,t){-1==n.items.indexOf(e)&&delete i[e]}),n.options=n.sifter.items=i,n.lastQuery=null,n.trigger("option_clear")},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,t){var n=this.$dropdown.find("[data-selectable]"),e=n.index(e)+t;return 0<=e&&e<n.length?n.eq(e):C()},getElementWithValue:function(e,t){if(null!=(e=k(e)))for(var n=0,i=t.length;n<i;n++)if(t[n].getAttribute("data-value")===e)return C(t[n]);return C()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(e,t){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,i=0;i<n.length;i++)this.buffer.appendChild(n[i]);for(var r=C.isArray(e)?e:[e],i=0,o=r.length;i<o;i++)this.isPending=i<o-1,this.addItem(r[i],t);e=this.$control[0];e.insertBefore(this.buffer,e.firstChild),this.buffer=null},addItem:function(o,a){n(this,a?[]:["change"],function(){var e,t,n,i=this,r=i.settings.mode;o=k(o),-1!==i.items.indexOf(o)?"single"===r&&i.close():i.options.hasOwnProperty(o)&&("single"===r&&i.clear(a),"multi"===r&&i.isFull()||(e=C(i.render("item",i.options[o])),n=i.isFull(),i.items.splice(i.caretPos,0,o),i.insertAtCaret(e),i.isPending&&(n||!i.isFull())||i.refreshState(),i.isSetup&&(n=i.$dropdown_content.find("[data-selectable]"),i.isPending||(t=i.getOption(o),t=i.getAdjacentOption(t,1).attr("data-value"),i.refreshOptions(i.isFocused&&"single"!==r),t&&i.setActiveOption(i.getOption(t))),!n.length||i.isFull()?i.close():i.isPending||i.positionDropdown(),i.updatePlaceholder(),i.trigger("item_add",o,e),i.isPending||i.updateOriginalInput({silent:a}))))})},removeItem:function(e,t){var n,i,r=this,o=e instanceof C?e:r.getItem(e);e=k(o.attr("data-value")),-1!==(n=r.items.indexOf(e))&&(o.remove(),o.hasClass("active")&&(i=r.$activeItems.indexOf(o[0]),r.$activeItems.splice(i,1)),r.items.splice(n,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,t),n<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:t}),r.positionDropdown(),r.trigger("item_remove",e,o))},createItem:function(e,n){var i=this,r=i.caretPos,o=(e=e||C.trim(i.$control_input.val()||""),arguments[arguments.length-1]);if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return o(),!1;i.lock();var t,a,s="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},l=(a=!(t=function(e){var t;return i.unlock(),!e||"object"!=typeof e||"string"!=typeof(t=k(e[i.settings.valueField]))?o():(i.setTextboxValue(""),i.addOption(e),i.setCaret(r),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),void o(e))}),function(){a||(a=!0,t.apply(this,arguments))}),s=s.apply(this,[e,l]);return void 0!==s&&l(s),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var e=this,t=e.isFull(),n=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",n).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!C.isEmptyObject(e.options)).toggleClass("has-items",0<e.items.length),e.$control_input.data("grow",!t&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,r,o=this;if(e=e||{},1===o.tagType){for(i=[],t=0,n=o.items.length;t<n;t++)r=o.options[o.items[t]][o.settings.labelField]||"",i.push('<option value="'+s(o.items[t])+'" selected="selected">'+s(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),o.$input.html(i.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&!e.silent&&o.trigger("change",o.$input.val())},updatePlaceholder:function(){var e;this.settings.placeholder&&(e=this.$control_input,this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0}))},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.isBlurring||e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e[0].getBoundingClientRect().width,top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),e=e[0],n=this.buffer||this.$control[0];0===t?n.insertBefore(e,n.firstChild):n.insertBefore(e,n.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(e){var t,n,i,r,o,a=this,s=e&&8===e.keyCode?-1:1,l=u(a.$control_input[0]);if(a.$activeOption&&!a.settings.hideSelected&&(r=a.getAdjacentOption(a.$activeOption,-1).attr("data-value")),i=[],a.$activeItems.length){for(o=a.$control.children(".active:"+(0<s?"last":"first")),o=a.$control.children(":not(input)").index(o),0<s&&o++,t=0,n=a.$activeItems.length;t<n;t++)i.push(C(a.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(a.isFocused||"single"===a.settings.mode)&&a.items.length&&(s<0&&0===l.start&&0===l.length?i.push(a.items[a.caretPos-1]):0<s&&l.start===a.$control_input.val().length&&i.push(a.items[a.caretPos]));if(!i.length||"function"==typeof a.settings.onDelete&&!1===a.settings.onDelete.apply(a,[i]))return!1;for(void 0!==o&&a.setCaret(o);i.length;)a.removeItem(i.pop());return a.showInput(),a.positionDropdown(),a.refreshOptions(!0),r&&(e=a.getOption(r)).length&&a.setActiveOption(e),!0},advanceSelection:function(e,t){var n,i,r,o=this;0!==e&&(o.rtl&&(e*=-1),n=0<e?"last":"first",r=u(o.$control_input[0]),o.isFocused&&!o.isInputHidden?(i=o.$control_input.val().length,(e<0?0!==r.start||0!==r.length:r.start!==i)||i||o.advanceCaret(e,t)):(r=o.$control.children(".active:"+n)).length&&(i=o.$control.children(":not(input)").index(r),o.setActiveItem(null),o.setCaret(0<e?i+1:i)))},advanceCaret:function(e,t){var n;0!==e&&(this.isShiftDown?(n=this.$control_input[0<e?"next":"prev"]()).length&&(this.hideInput(),this.setActiveItem(n),t)&&t.preventDefault():this.setCaret(this.caretPos+e))},setCaret:function(e){if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(var t,n=this.$control.children(":not(input)"),i=0,r=n.length;i<r;i++)t=C(n[i]).detach(),i<e?this.$control_input.before(t):this.$control.append(t);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this,t=e.eventNS,n=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),0==--p.count&&p.$testInput&&(p.$testInput.remove(),p.$testInput=void 0),C(window).off(t),C(document).off(t),C(document.body).off(t),delete e.$input[0].selectize},render:function(e,t){var n,i,r="",o=!1,a=this;return(o="option"!==e&&"item"!==e?o:!!(n=k(t[a.settings.valueField])))&&(l(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(r=C(a.settings.render[e].apply(this,[t,s])),"option"===e||"option_create"===e?t[a.settings.disabledField]||r.attr("data-selectable",""):"optgroup"===e&&(i=t[a.settings.optgroupValueField]||"",r.attr("data-group",i),t[a.settings.disabledField])&&r.attr("data-disabled",""),"option"!==e&&"item"!==e||r.attr("data-value",n||""),o&&(a.renderCache[e][n]=r[0]),r[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){var t;return!!this.settings.create&&(t=this.settings.createFilter,e.length)&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),p.count=0,p.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},C.fn.selectize=function(u){function c(e,r){function t(e,t){e=C(e);var n,i=k(e.val());(i||m.allowEmptyOption)&&(l.hasOwnProperty(i)?t&&((n=l[i][$])?C.isArray(n)?n.push(t):l[i][$]=[n,t]:l[i][$]=t):((n=u(e)||{})[y]=n[y]||e.text(),n[w]=n[w]||i,n[b]=n[b]||e.prop("disabled"),n[$]=n[$]||t,l[i]=n,s.push(n),e.is(":selected")&&r.items.push(i)))}var n,i,o,a,s=r.options,l={},u=function(e){e=v&&e.attr(v);return"string"==typeof e&&e.length?JSON.parse(e):null};for(r.maxItems=e.attr("multiple")?null:1,n=0,i=(a=e.children()).length;n<i;n++)if("optgroup"===(o=a[n].tagName.toLowerCase())){f=h=p=d=c=void 0;var c,d,p,h,f,g=a[n];for((p=(g=C(g)).attr("label"))&&((h=u(g)||{})[_]=p,h[S]=p,h[b]=g.prop("disabled"),r.optgroups.push(h)),c=0,d=(f=C("option",g)).length;c<d;c++)t(f[c],p)}else"option"===o&&t(a[n])}var d=C.fn.selectize.defaults,m=C.extend({},d,u),v=m.dataAttr,y=m.labelField,w=m.valueField,b=m.disabledField,$=m.optgroupField,_=m.optgroupLabelField,S=m.optgroupValueField;return this.each(function(){if(!this.selectize){var e=C(this),t=this.tagName.toLowerCase(),n=e.attr("placeholder")||e.attr("data-placeholder"),n={placeholder:n=n||m.allowEmptyOption?n:e.children('option[value=""]').text(),options:[],optgroups:[],items:[]};if("select"===t)c(e,n);else{var i,r,o,a,t=e,s=n,l=t.attr(v);if(l)for(s.options=JSON.parse(l),i=0,r=s.options.length;i<r;i++)s.items.push(s.options[i][w]);else{l=C.trim(t.val()||"");if(m.allowEmptyOption||l.length){for(i=0,r=(o=l.split(m.delimiter)).length;i<r;i++)(a={})[y]=o[i],a[w]=o[i],s.options.push(a);s.items=o}}}new p(e,C.extend(!0,{},d,n,u))}})},C.fn.selectize.defaults=p.defaults,C.fn.selectize.support={validity:w},p.define("drag_drop",function(e){if(!C.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');var i,t,n,r;"multi"===this.settings.mode&&((i=this).lock=(t=i.lock,function(){var e=i.$control.data("sortable");return e&&e.disable(),t.apply(i,arguments)}),i.unlock=(n=i.unlock,function(){var e=i.$control.data("sortable");return e&&e.enable(),n.apply(i,arguments)}),i.setup=(r=i.setup,function(){r.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=i.$activeItems?i.$activeItems.slice():null,t=[];n.children("[data-value]").each(function(){t.push(C(this).attr("data-value"))}),i.setValue(t),i.setActiveItem(e)}})}))}),p.define("dropdown_header",function(e){var t,n=this;e=C.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$dropdown_header=C(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)})}),p.define("optgroup_columns",function(a){function e(){var e,t,n,i,r=C("[data-group]",s.$dropdown_content),o=r.length;if(o&&s.$dropdown_content.width()){if(a.equalizeHeight){for(e=t=0;e<o;e++)t=Math.max(t,r.eq(e).height());r.css({height:t})}a.equalizeWidth&&(i=s.$dropdown_content.innerWidth()-l(),n=Math.round(i/o),r.css({width:n}),1<o)&&(i=i-n*(o-1),r.eq(o-1).css({width:i}))}}var i,s=this,l=(a=C.extend({equalizeWidth:!0,equalizeHeight:!0},a),this.getAdjacentOption=function(e,t){var n=e.closest("[data-group]").find("[data-selectable]"),e=n.index(e)+t;return 0<=e&&e<n.length?n.eq(e):C()},this.onKeyDown=(i=s.onKeyDown,function(e){var t,n;if(!this.isOpen||37!==e.keyCode&&39!==e.keyCode)return i.apply(this,arguments);s.ignoreHover=!0,t=(n=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),(n=(e=(n=37===e.keyCode?n.prev("[data-group]"):n.next("[data-group]")).find("[data-selectable]")).eq(Math.min(e.length-1,t))).length&&this.setActiveOption(n)}),function(){var e,t=l.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=l.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t});(a.equalizeHeight||a.equalizeWidth)&&(r.after(this,"positionDropdown",e),r.after(this,"refreshOptions",e))}),p.define("remove_button",function(e){e=C.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),("single"===this.settings.mode?function(r,t){t.className="remove-single";var n,o=r,a='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+s(t.title)+'">'+t.label+"</a>";r.setup=(n=o.setup,function(){var e,i;t.append&&(e=C(o.$input.context).attr("id"),C("#"+e),i=o.settings.render.item,o.settings.render.item=function(e){return t=i.apply(r,arguments),n=a,C("<span>").append(t).append(n);var t,n}),n.apply(r,arguments),r.$control.on("click","."+t.className,function(e){e.preventDefault(),o.isLocked||o.clear()})})}:function(o,e){var t,n=o,a='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+s(e.title)+'">'+e.label+"</a>";o.setup=(t=n.setup,function(){var r;e.append&&(r=n.settings.render.item,n.settings.render.item=function(e){return t=r.apply(o,arguments),n=a,i=t.search(/(<\/[^>]+>\s*)$/),t.substring(0,i)+n+t.substring(i);var t,n,i}),t.apply(o,arguments),o.$control.on("click","."+e.className,function(e){e.preventDefault(),n.isLocked||(e=C(e.currentTarget).parent(),n.setActiveItem(e),n.deleteSelection()&&n.setCaret(n.items.length))})})})(this,e)}),p.define("restore_on_backspace",function(n){var i,e=this;n.text=n.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(i=e.onKeyDown,function(e){var t;if(!(8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(t=this.caretPos-1)&&t<this.items.length))return i.apply(this,arguments);t=this.options[this.items[t]],this.deleteSelection(e)&&(this.setTextboxValue(n.text.apply(this,[t])),this.refreshOptions(!0)),e.preventDefault()})}),p}),angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(p){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=?",options:"=?",ngDisabled:"=",ngRequired:"&"},link:function(n,e,t,i){Selectize.defaults.maxItems=null;var r,o=angular.extend({},Selectize.defaults,p,n.config);function a(e){e?r.disable():r.enable()}i.$isEmpty=function(e){return null==e||!e.length};function s(e){return e?(e=angular.isArray(e)||angular.isObject(e)?e:[e],$.map(e,function(e){return"string"==typeof e?(t=e,(n={})[o.labelField]=t,n[o.valueField]=t,n):e;var t,n})):[]}function l(){var e;e=(n.ngRequired()||t.required||o.required)&&i.$isEmpty(n.ngModel),i.$setValidity("required",!e),r.$control.toggleClass("ng-valid",i.$valid),r.$control.toggleClass("ng-invalid",i.$invalid),r.$control.toggleClass("ng-dirty",i.$dirty),r.$control.toggleClass("ng-pristine",i.$pristine),angular.equals(r.items,n.ngModel)||(r.addOption(s(n.ngModel)),r.setValue(n.ngModel))}var u=o.onChange,c=o.onOptionAdd,d=(o.onChange=function(){n.disableOnChange||(angular.equals(r.items,n.ngModel)||n.$evalAsync(function(){var e=angular.copy(r.items);1==o.maxItems&&(e=e[0]),i.$setViewValue(e)}),u&&u.apply(this,arguments))},o.onOptionAdd=function(e,t){-1===n.options.indexOf(t)&&(n.options.push(t),c)&&c.apply(this,arguments)},n.options?n.options.splice(0,n.options.length,s(n.options)):n.options=s(angular.copy(n.ngModel)),o.onInitialize);o.onInitialize=function(){(r=e[0].selectize).addOption(n.options),r.setValue(n.ngModel),d&&d(r),n.$watch("options",function(){n.disableOnChange=!0,r.clearOptions(),r.addOption(n.options),r.setValue(n.ngModel),n.disableOnChange=!1},!0),n.$watchCollection("ngModel",l),n.$watch("ngDisabled",a)},e.selectize(o),e.on("$destroy",function(){r&&(r.destroy(),e=null)})}}}]),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?t(require("jquery")):(t(e.jquery),e.bootstrapSwitch={})}(this,function(e){"use strict";function o(){var n=this,e=this.$on.add(this.$off).add(this.$label).css("width",""),i="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return e.width(i),this.$label.width(function(e,t){return"auto"===n.options.labelWidth?t<i?i:t:n.options.labelWidth}),this.privateHandleWidth=this.$on.outerWidth(),this.privateLabelWidth=this.$label.outerWidth(),this.$container.width(2*this.privateHandleWidth+this.privateLabelWidth),this.$wrapper.width(this.privateHandleWidth+this.privateLabelWidth)}function a(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.ope;this.$container.css("margin-left",function(){var e=[0,"-"+t.privateHandleWidth+"px"];return t.options.indeterminate?"-"+t.privateHandleWidth/2+"px":n?t.options.inverse?e[1]:e[0]:t.options.inverse?e[0]:e[1]})}function s(e){return this.options.baseClass+"-"+e}function l(e){var t=this;return u.isArray(e)?e.map(function(e){return s.call(t,e)}):[s.call(this,e)]}var e=e&&e.__esModule?e:{default:e},t=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e},u=e.default||window.jQuery||window.$,c=(n(d,[{key:"setPrevOptions",value:function(){this.prevOptions=t({},this.options)}},{key:"state",value:function(e,t){return void 0===e?this.options.state:(this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")||((this.$element.is(":radio")?u('[name="'+this.$element.attr("name")+'"]'):this.$element).trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",!!e).trigger("change.bootstrapSwitch",t)),this.$element)}},{key:"toggleState",value:function(e){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)}},{key:"size",value:function(e){return void 0===e?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(s.call(this,this.options.size)),e&&this.$wrapper.addClass(s.call(this,e)),o.call(this),a.call(this),this.options.size=e,this.$element)}},{key:"animate",value:function(e){return void 0===e?this.options.animate:this.options.animate===!!e?this.$element:this.toggleAnimate()}},{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(s.call(this,"animate")),this.$element}},{key:"disabled",value:function(e){return void 0===e?this.options.disabled:this.options.disabled===!!e?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(s.call(this,"disabled")),this.$element}},{key:"readonly",value:function(e){return void 0===e?this.options.readonly:this.options.readonly===!!e?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(s.call(this,"readonly")),this.$element}},{key:"indeterminate",value:function(e){return void 0===e?this.options.indeterminate:this.options.indeterminate===!!e?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(s.call(this,"indeterminate")),a.call(this),this.$element}},{key:"inverse",value:function(e){return void 0===e?this.options.inverse:this.options.inverse===!!e?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(s.call(this,"inverse"));var e=this.$on.clone(!0),t=this.$off.clone(!0);return this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(e){return void 0===e?this.options.onColor:(this.options.onColor&&this.$on.removeClass(s.call(this,this.options.onColor)),this.$on.addClass(s.call(this,e)),this.options.onColor=e,this.$element)}},{key:"offColor",value:function(e){return void 0===e?this.options.offColor:(this.options.offColor&&this.$off.removeClass(s.call(this,this.options.offColor)),this.$off.addClass(s.call(this,e)),this.options.offColor=e,this.$element)}},{key:"onText",value:function(e){return void 0===e?this.options.onText:(this.$on.html(e),o.call(this),a.call(this),this.options.onText=e,this.$element)}},{key:"offText",value:function(e){return void 0===e?this.options.offText:(this.$off.html(e),o.call(this),a.call(this),this.options.offText=e,this.$element)}},{key:"labelText",value:function(e){return void 0===e?this.options.labelText:(this.$label.html(e),o.call(this),this.options.labelText=e,this.$element)}},{key:"handleWidth",value:function(e){return void 0===e?this.options.handleWidth:(this.options.handleWidth=e,o.call(this),a.call(this),this.$element)}},{key:"labelWidth",value:function(e){return void 0===e?this.options.labelWidth:(this.options.labelWidth=e,o.call(this),a.call(this),this.$element)}},{key:"baseClass",value:function(){return this.options.baseClass}},{key:"wrapperClass",value:function(e){return void 0===e?this.options.wrapperClass:(e=e||u.fn.bootstrapSwitch.defaults.wrapperClass,this.$wrapper.removeClass(l.call(this,this.options.wrapperClass).join(" ")),this.$wrapper.addClass(l.call(this,e).join(" ")),this.options.wrapperClass=e,this.$element)}},{key:"radioAllOff",value:function(e){return void 0===e?this.options.radioAllOff:(this.options.radioAllOff!==(e=!!e)&&(this.options.radioAllOff=e),this.$element)}},{key:"onInit",value:function(e){return void 0===e?this.options.onInit:(this.options.onInit=e||u.fn.bootstrapSwitch.defaults.onInit,this.$element)}},{key:"onSwitchChange",value:function(e){return void 0===e?this.options.onSwitchChange:(this.options.onSwitchChange=e||u.fn.bootstrapSwitch.defaults.onSwitchChange,this.$element)}},{key:"destroy",value:function(){var e=this.$element.closest("form");return e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}}]),d);function d(i){var r=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this,n=d;if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");this.$element=u(i),this.options=u.extend({},u.fn.bootstrapSwitch.defaults,function(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}.call(this),e),this.prevOptions={},this.$wrapper=u("<div>",{class:function(){return e=r.options,t=r.$element.attr("id"),[e.state?"on":"off",e.size,e.disabled?"disabled":void 0,e.readonly?"readonly":void 0,e.indeterminate?"indeterminate":void 0,e.inverse?"inverse":void 0,t?"id-"+t:void 0].filter(function(e){return null==e}).map(function(e){return s.call(r,e)}).concat([r.options.baseClass],l.call(r,r.options.wrapperClass)).join(" ");var e,t}}),this.$container=u("<div>",{class:s.call(this,"container")}),this.$on=u("<span>",{html:this.options.onText,class:s.call(this,"handle-on")+" "+s.call(this,this.options.onColor)}),this.$off=u("<span>",{html:this.options.offText,class:s.call(this,"handle-off")+" "+s.call(this,this.options.offColor)}),this.$label=u("<span>",{html:this.options.labelText,class:s.call(this,"label")}),this.$element.on("init.bootstrapSwitch",function(){return r.options.onInit(i)}),this.$element.on("switchChange.bootstrapSwitch",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];!1===r.options.onSwitchChange.apply(i,t)&&(r.$element.is(":radio")?u('[name="'+r.$element.attr("name")+'"]'):r.$element).trigger("previousState.bootstrapSwitch",!0)}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),function(){function e(){n.setPrevOptions(),o.call(n),a.call(n),setTimeout(function(){return n.options.animate&&n.$wrapper.addClass(s.call(n,"animate"))},50)}var t,n=this;this.$wrapper.is(":visible")?e():t=window.setInterval(function(){return n.$wrapper.is(":visible")&&(e(),!0)&&window.clearInterval(t)},50)}.call(this),function(){var n=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":function(){return n.setPrevOptions()},"previousState.bootstrapSwitch":function(){n.options=n.prevOptions,n.options.indeterminate&&n.$wrapper.addClass(s.call(n,"indeterminate")),n.$element.prop("checked",n.options.state).trigger("change.bootstrapSwitch",!0)},"change.bootstrapSwitch":function(e,t){e.preventDefault(),e.stopImmediatePropagation();e=n.$element.is(":checked");a.call(n,e),e!==n.options.state&&(n.options.state=e,n.$wrapper.toggleClass(s.call(n,"off")).toggleClass(s.call(n,"on")),t||(n.$element.is(":radio")&&u('[name="'+n.$element.attr("name")+'"]').not(n.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),n.$element.trigger("switchChange.bootstrapSwitch",[e])))},"focus.bootstrapSwitch":function(e){e.preventDefault(),n.$wrapper.addClass(s.call(n,"focused"))},"blur.bootstrapSwitch":function(e){e.preventDefault(),n.$wrapper.removeClass(s.call(n,"focused"))},"keydown.bootstrapSwitch":function(e){!e.which||n.options.disabled||n.options.readonly||37!==e.which&&39!==e.which||(e.preventDefault(),e.stopImmediatePropagation(),n.state(39===e.which))}})}.call(this),function(){var t=this;return this.$on.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")})}.call(this),function(){var n=this,i=void 0,r=void 0;this.$label.on({click:function(e){e.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){i||n.options.disabled||n.options.readonly||(e.preventDefault(),e.stopPropagation(),i=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(n.$container.css("margin-left"),10),n.options.animate&&n.$wrapper.removeClass(s.call(n,"animate")),n.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){var t;null!=i&&(t=(e.pageX||e.originalEvent.touches[0].pageX)-i,e.preventDefault(),t<-n.privateHandleWidth||0<t||(r=t,n.$container.css("margin-left",r+"px")))},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){i&&(e.preventDefault(),n.options.animate&&n.$wrapper.addClass(s.call(n,"animate")),r?(e=r>-n.privateHandleWidth/2,r=!1,n.state(n.options.inverse?!e:e)):n.state(!n.options.state),i=!1)},"mouseleave.bootstrapSwitch":function(){n.$label.trigger("mouseup.bootstrapSwitch")}})}.call(this),function(){function e(){return u(this).data("bootstrap-switch")}function t(){return u(this).bootstrapSwitch("state",this.checked)}var n=this.$element.closest("form");n.data("bootstrap-switch")||n.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){n.find("input").filter(e).each(t)},1)}).data("bootstrap-switch",!0)}.call(this),function(){var t=this,n=this.$element.closest("label");n.on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),e.target===n[0]&&t.toggleState()})}.call(this),this.$element.trigger("init.bootstrapSwitch",this.options.state)}function i(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}u.fn.bootstrapSwitch=function(r){for(var e=arguments.length,o=Array(1<e?e-1:0),t=1;t<e;t++)o[t-1]=arguments[t];return Array.prototype.reduce.call(this,function(e,t){var n=u(t),i=n.data("bootstrap-switch"),t=i||new c(t,r);return i||n.data("bootstrap-switch",t),"string"==typeof r?t[r].apply(t,o):e},this)},u.fn.bootstrapSwitch.Constructor=c,u.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}),function(e,t){"undefined"!=typeof module&&module.exports?("undefined"==typeof angular?t(require("angular")):t(angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(x){"use strict";var e=x.module("ngDialog",[]),O=x.element,t=x.isDefined,n=(document.body||document.documentElement).style,a=t(n.animation)||t(n.WebkitAnimation)||t(n.MozAnimation)||t(n.MsAnimation)||t(n.OAnimation),s="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",i={html:!1,body:!1},T={},A=[],E=!1,P=!1;return e.provider("ngDialog",function(){var _,S=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null},C=(this.setForceHtmlReload=function(e){i.html=e||!1},this.setForceBodyReload=function(e){i.body=e||!1},this.setDefaults=function(e){x.extend(S,e)},this.setOpenOnePerName=function(e){P=e||!1},0),k=0,D={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(n,r,d,p,h,f,g,m,v,y){var w=[],b={onDocumentKeydown:function(e){27===e.keyCode&&$.close("$escape")},activate:function(e){e.data("$ngDialogOptions").trapFocus&&(e.on("keydown",b.onTrapFocusKeydown),w.body.on("keydown",b.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",b.onTrapFocusKeydown),w.body.off("keydown",b.onTrapFocusKeydown)},deactivateAll:function(e){x.forEach(e,function(e){e=x.element(e);b.deactivate(e)})},setBodyPadding:function(e){var t=parseInt(w.body.css("padding-right")||0,10);w.body.css("padding-right",t+e+"px"),w.body.data("ng-dialog-original-padding",t),f.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=w.body.data("ng-dialog-original-padding");e?w.body.css("padding-right",e+"px"):w.body.css("padding-right",""),f.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,t){var n,i=e.data("$ngDialogOptions"),r=e.attr("id"),o=T[r];o&&(void 0!==m.Hammer?((n=o.hammerTime).off("tap",_),n.destroy&&n.destroy(),delete o.hammerTime):e.unbind("click"),1===k&&w.body.unbind("keydown",b.onDocumentKeydown),e.hasClass("ngdialog-closing")||--k,(n=e.data("$ngDialogPreviousFocus"))&&n.focus&&n.focus(),f.$broadcast("ngDialog.closing",e,t),k=k<0?0:k,a&&!i.disableAnimation?(o.$destroy(),e.unbind(s).bind(s,function(){b.closeDialogElement(e,t)}).addClass("ngdialog-closing")):(o.$destroy(),b.closeDialogElement(e,t)),D[r]&&(D[r].resolve({id:r,value:t,$dialog:e,remainingDialogs:k}),delete D[r]),T[r]&&delete T[r],A.splice(A.indexOf(r),1),A.length||(w.body.unbind("keydown",b.onDocumentKeydown),E=!1))},closeDialogElement:function(e,t){var n=e.data("$ngDialogOptions");e.remove(),0===k&&(w.html.removeClass(n.bodyClassName),w.body.removeClass(n.bodyClassName),b.resetBodyPadding()),f.$broadcast("ngDialog.closed",e,t)},closeDialog:function(e,t){var n=e.data("$ngDialogPreCloseCallback");if(n&&x.isFunction(n)){n=n.call(e,t);if(x.isObject(n))(n.closePromise||n).then(function(){b.performCloseDialog(e,t)},function(){return!1});else{if(!1===n)return!1;b.performCloseDialog(e,t)}}else b.performCloseDialog(e,t)},onTrapFocusKeydown:function(e){var t,n=x.element(e.currentTarget);if(n.hasClass("ngdialog"))t=n;else if(null===(t=b.getActiveDialog()))return;var n=9===e.keyCode,i=!0===e.shiftKey;n&&b.handleTab(t,e,i)},handleTab:function(e,t,n){var i,r,o,a,e=b.getFocusableElements(e);0===e.length?document.activeElement&&document.activeElement.blur&&document.activeElement.blur():(i=document.activeElement,r=-1===(i=Array.prototype.indexOf.call(e,i)),o=i===e.length-1,a=!1,n?!r&&0!==i||(e[e.length-1].focus(),a=!0):(r||o)&&(e[0].focus(),a=!0),a&&(t.preventDefault(),t.stopPropagation()))},autoFocus:function(e){var t=e[0],n=t.querySelector("*[autofocus]");null!==n&&(n.focus(),document.activeElement===n)||(0<(n=b.getFocusableElements(e)).length?n[0].focus():0<(e=b.filterVisibleElements(t.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"))).length&&(n=e[0],O(n).attr("tabindex","-1").css("outline","0"),n.focus()))},getFocusableElements:function(e){e=e[0].querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),e=b.filterTabbableElements(e);return b.filterVisibleElements(e)},filterTabbableElements:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];"-1"!==O(i).attr("tabindex")&&t.push(i)}return t},filterVisibleElements:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];(0<i.offsetWidth||0<i.offsetHeight)&&t.push(i)}return t},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:O(e[e.length-1])},applyAriaAttributes:function(e,t){var n;t.ariaAuto&&(t.ariaRole||(n=0<b.getFocusableElements(e).length?"dialog":"alertdialog",t.ariaRole=n),t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")),t.ariaRole&&e.attr("role",t.ariaRole),b.applyAriaAttribute(e,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector),b.applyAriaAttribute(e,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(e,t,n,i){if(n&&e.attr(t,n),i){var n=e.attr("id"),i=e[0].querySelector(i);if(i)return n=n+"-"+t,O(i).attr("id",n),e.attr(t,n),n}},detectUIRouter:function(){try{return x.module("ui.router"),!0}catch(e){return!1}},getRouterLocationEventName:function(){return b.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},$={__PRIVATE__:b,open:function(e){var o,t,a,s,l,u,n,c=null;if(e=e||{},!(P&&e.name&&(c=e.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(c))))return o=x.copy(S),t=++C,c=c||"ngdialog"+t,A.push(c),void 0!==o.data&&(void 0===e.data&&(e.data={}),e.data=x.merge(x.copy(o.data),e.data)),x.extend(o,e),D[c]=t=p.defer(),T[c]=a=(x.isObject(o.scope)?o.scope:f).$new(),n=x.extend({},o.resolve),x.forEach(n,function(e,t){n[t]=x.isString(e)?y.get(e):y.invoke(e,null,null,t)}),p.all({template:function(e){if(!e)return"Empty template";if(x.isString(e)&&o.plain)return e;return"boolean"!=typeof o.cache||o.cache?i(e,{cache:r}):i(e,{cache:!1})}(o.template||o.templateUrl),locals:p.all(n)}).then(function(e){var t,n,i=e.template,e=e.locals,r=(o.showClose&&(i+='<div class="ngdialog-close"></div>'),o.overlay?"":" ngdialog-no-overlay");return(s=O('<div id="'+c+'" class="ngdialog'+r+'"></div>')).html(o.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+i+"</div>":'<div class="ngdialog-content" role="document">'+i+"</div>"),s.data("$ngDialogOptions",o),a.ngDialogId=c,o.data&&x.isString(o.data)?(r=o.data.replace(/^\s*/,"")[0],a.ngDialogData="{"===r||"["===r?x.fromJson(o.data):new String(o.data),a.ngDialogData.ngDialogId=c):o.data&&x.isObject(o.data)&&(a.ngDialogData=o.data,a.ngDialogData.ngDialogId=c),o.className&&s.addClass(o.className),o.appendClassName&&s.addClass(o.appendClassName),o.width&&(u=s[0].querySelector(".ngdialog-content"),x.isString(o.width)?u.style.width=o.width:u.style.width=o.width+"px"),o.height&&(u=s[0].querySelector(".ngdialog-content"),x.isString(o.height)?u.style.height=o.height:u.style.height=o.height+"px"),o.disableAnimation&&s.addClass("ngdialog-disabled-animation"),l=o.appendTo&&x.isString(o.appendTo)?x.element(document.querySelector(o.appendTo)):w.body,b.applyAriaAttributes(s,o),o.preCloseCallback&&(x.isFunction(o.preCloseCallback)?t=o.preCloseCallback:x.isString(o.preCloseCallback)&&a&&(x.isFunction(a[o.preCloseCallback])?t=a[o.preCloseCallback]:a.$parent&&x.isFunction(a.$parent[o.preCloseCallback])?t=a.$parent[o.preCloseCallback]:f&&x.isFunction(f[o.preCloseCallback])&&(t=f[o.preCloseCallback])),t)&&s.data("$ngDialogPreCloseCallback",t),a.closeThisDialog=function(e){b.closeDialog(s,e)},o.controller&&(x.isString(o.controller)||x.isArray(o.controller)||x.isFunction(o.controller))&&(o.controllerAs&&x.isString(o.controllerAs)&&(n=o.controllerAs),i=v(o.controller,x.extend(e,{$scope:a,$element:s}),!0,n),o.bindToController&&x.extend(i.instance,{ngDialogId:a.ngDialogId,ngDialogData:a.ngDialogData,closeThisDialog:a.closeThisDialog,confirm:a.confirm}),"function"==typeof i?s.data("$ngDialogControllerController",i()):s.data("$ngDialogControllerController",i)),g(function(){var e=document.querySelectorAll(".ngdialog"),e=(b.deactivateAll(e),d(s)(a),m.innerWidth-w.body.prop("clientWidth")),e=(w.html.addClass(o.bodyClassName),w.body.addClass(o.bodyClassName),e-(m.innerWidth-w.body.prop("clientWidth")));0<e&&b.setBodyPadding(e),l.append(s),b.activate(s),o.trapFocus&&b.autoFocus(s),o.name?f.$broadcast("ngDialog.opened",{dialog:s,name:o.name}):f.$broadcast("ngDialog.opened",s)}),E||(w.body.bind("keydown",b.onDocumentKeydown),E=!0),o.closeByNavigation&&(r=b.getRouterLocationEventName(),f.$on(r,function(e){!1===b.closeDialog(s)&&e.preventDefault()})),o.preserveFocus&&s.data("$ngDialogPreviousFocus",document.activeElement),_=function(e){var t=!!o.closeByDocument&&O(e.target).hasClass("ngdialog-overlay"),e=O(e.target).hasClass("ngdialog-close");(t||e)&&$.close(s.attr("id"),e?"$closeButton":"$document")},void 0!==m.Hammer?(a.hammerTime=m.Hammer(s[0])).on("tap",_):s.bind("click",_),k+=1,$}),{id:c,closePromise:t.promise,close:function(e){b.closeDialog(s,e)}};function i(t,e){return(e=e||{}).headers=e.headers||{},x.extend(e.headers,{Accept:"text/html"}),f.$broadcast("ngDialog.templateLoading",t),h.get(t,e).then(function(e){return f.$broadcast("ngDialog.templateLoaded",t),e.data||""})}},openConfirm:function(e){var n=p.defer(),t=x.copy(S),i=(e=e||{},void 0!==t.data&&(void 0===e.data&&(e.data={}),e.data=x.merge(x.copy(t.data),e.data)),x.extend(t,e),t.scope=(x.isObject(t.scope)?t.scope:f).$new(),t.scope.confirm=function(e){n.resolve(e);var t=O(document.getElementById(i.id));b.performCloseDialog(t,e)},$.open(t));if(i)return i.closePromise.then(function(e){return e?n.reject(e.value):n.reject()}),n.promise},isOpen:function(e){return 0<O(document.getElementById(e)).length},close:function(e,t){var n=O(document.getElementById(e));return n.length?b.closeDialog(n,t):"$escape"===e?(n=O(document.getElementById(A[A.length-1]))).data("$ngDialogOptions").closeByEscape&&b.closeDialog(n,"$escape"):$.closeAll(t),$},closeAll:function(e){for(var t=document.querySelectorAll(".ngdialog"),n=t.length-1;0<=n;n--){var i=t[n];b.closeDialog(O(i),e)}},getOpenDialogs:function(){return A},getDefaults:function(){return S}};return x.forEach(["html","body"],function(e){var t;w[e]=n.find(e),i[e]&&(t=b.getRouterLocationEventName(),f.$on(t,function(){w[e]=n.find(e)}))}),$}]}),e.directive("ngDialog",["ngDialog",function(r){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,e,i){e.on("click",function(e){e.preventDefault();var e=x.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope",t=(x.isDefined(i.ngDialogClosePrevious)&&r.close(i.ngDialogClosePrevious),r.getDefaults());r.open({template:i.ngDialog,className:i.ngDialogClass||t.className,appendClassName:i.ngDialogAppendClass,controller:i.ngDialogController,controllerAs:i.ngDialogControllerAs,bindToController:i.ngDialogBindToController,disableAnimation:i.ngDialogDisableAnimation,scope:e,data:i.ngDialogData,showClose:"false"!==i.ngDialogShowClose&&("true"===i.ngDialogShowClose||t.showClose),closeByDocument:"false"!==i.ngDialogCloseByDocument&&("true"===i.ngDialogCloseByDocument||t.closeByDocument),closeByEscape:"false"!==i.ngDialogCloseByEscape&&("true"===i.ngDialogCloseByEscape||t.closeByEscape),overlay:"false"!==i.ngDialogOverlay&&("true"===i.ngDialogOverlay||t.overlay),preCloseCallback:i.ngDialogPreCloseCallback||t.preCloseCallback,bodyClassName:i.ngDialogBodyClass||t.bodyClassName})})}}}]),e}),angular.module("ui-notification",[]),angular.module("ui-notification").provider("Notification",function(){this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html",onClose:void 0,closeOnClick:!0,maxCount:0,container:"body",priority:10},this.setOptions=function(e){if(!angular.isObject(e))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,e)},this.$get=["$timeout","$http","$compile","$templateCache","$rootScope","$injector","$sce","$q","$window",function(s,n,l,i,r,e,u,o,h){function t(p,e){function t(e){function t(t){["-webkit-transition","-o-transition","transition"].forEach(function(e){o.css(e,t)})}function n(){var e=0,t=0,n=m,i=[];"top"===p.positionY?w.sort(c):"bottom"===p.positionY&&w.sort(d);for(var r=w.length-1;0<=r;r--){var o,a,s,l,u=w[r];p.replaceMessage&&r<w.length-1?u.addClass("killed"):(o=parseInt(u[0].offsetHeight),a=parseInt(u[0].offsetWidth),l=i[u._positionY+u._positionX],s+o>window.innerHeight&&(l=g,t++,e=0),s=l?0===e?l:l+v:g,l=n+t*(y+a),u.css(u._positionY,s+"px"),"center"==u._positionX?u.css("left",parseInt(window.innerWidth/2-a/2)+"px"):u.css(u._positionX,l+"px"),i[u._positionY+u._positionX]=s+o,0<f.maxCount&&w.length>f.maxCount&&0===r&&u.scope().kill(!0),e++)}}function i(e){("click"===(e=e.originalEvent||e).type||"opacity"===e.propertyName&&1<=e.elapsedTime)&&(r.onClose&&r.$apply(r.onClose(o)),o.remove(),w.splice(w.indexOf(o),1),r.$destroy(),n())}var r=p.scope.$new(),c=(r.message=u.trustAsHtml(p.message),r.title=u.trustAsHtml(p.title),r.t=p.type.substr(0,1),r.delay=p.delay,r.onClose=p.onClose,function(e,t){return e._priority-t._priority}),d=function(e,t){return t._priority-e._priority},o=l(e)(r),e=(o._positionY=p.positionY,o._positionX=p.positionX,o._priority=p.priority,o.addClass(p.type),p.closeOnClick&&(o.addClass("clickable"),o.bind("click",i)),o.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",i),angular.isNumber(p.delay)&&s(function(){o.addClass("killed")},p.delay),t("none"),angular.element(document.querySelector(p.container)).append(o),-(parseInt(o[0].offsetHeight)+50));o.css(o._positionY,e+"px"),w.push(o),"center"==p.positionX&&(e=parseInt(o[0].offsetWidth),o.css("left",parseInt(window.innerWidth/2-e/2)+"px")),s(function(){t("")}),r._templateElement=o,r.kill=function(e){e?(r.onClose&&r.$apply(r.onClose(r._templateElement)),w.splice(w.indexOf(r._templateElement),1),r._templateElement.remove(),r.$destroy(),s(n)):r._templateElement.addClass("killed")},s(n),b||(angular.element(h).bind("resize",function(e){s(n)}),b=!0),a.resolve(r)}var a=o.defer();return(p="object"==typeof p&&null!==p?p:{message:p}).scope=p.scope||r,p.template=p.templateUrl||f.templateUrl,p.delay=angular.isUndefined(p.delay)?c:p.delay,p.type=e||p.type||f.type||"",p.positionY=p.positionY||f.positionY,p.positionX=p.positionX||f.positionX,p.replaceMessage=p.replaceMessage||f.replaceMessage,p.onClose=p.onClose||f.onClose,p.closeOnClick=(null!==p.closeOnClick&&void 0!==p.closeOnClick?p:f).closeOnClick,p.container=p.container||f.container,p.priority=p.priority||f.priority,(e=i.get(p.template))?t(e):n.get(p.template,{cache:!0}).then(function(e){t(e.data)}).catch(function(e){throw new Error("Template ("+p.template+") could not be loaded. "+e)}),a.promise}var f=this.options,g=f.startTop,m=f.startRight,v=f.verticalSpacing,y=f.horizontalSpacing,c=f.delay,w=[],b=!1;return t.primary=function(e){return this(e,"primary")},t.error=function(e){return this(e,"error")},t.success=function(e){return this(e,"success")},t.info=function(e){return this(e,"info")},t.warning=function(e){return this(e,"warning")},t.clearAll=function(){angular.forEach(w,function(e){e.addClass("killed")})},t}]}),angular.module("ui-notification").run(["$templateCache",function(e){e.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]),function(){var h="__default";angular.module("angularUtils.directives.dirPagination",[]).directive("dirPaginate",["$compile","$parse","paginationService",function(u,c,d){return{terminal:!0,multiElement:!0,priority:100,compile:function(e,t){var s=t.dirPaginate,n=s.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),i=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===n[2].match(i))throw"pagination directive: the 'itemsPerPage' filter must be set.";var n=n[2].replace(i,""),l=c(n),i=(function(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)})}(e),t.paginationId||h);return d.registerInstance(i),function(e,t,n){var i,r=c(n.paginationId)(e)||n.paginationId||h,o=(d.registerInstance(r),function(e,t){var n=!!e.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);n=t===h||n?e:e.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+t+"'");return n}(s,r)),a=(a=n,o=o,(i=t)[0].hasAttribute("dir-paginate-start")||i[0].hasAttribute("data-dir-paginate-start")?(a.$set("ngRepeatStart",o),i.eq(i.length-1).attr("ng-repeat-end",!0)):a.$set("ngRepeat",o),i=t,angular.forEach(i,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),i.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),i.eq(i.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end"),u(t)),o=function(e,t,n){n=t.currentPage?c(t.currentPage):(t=(n+"__currentPage").replace(/\W/g,"_"),e[t]=1,c(t));return n}(e,n,r);d.setCurrentPageParser(r,o,e),void 0!==n.totalItems?(d.setAsyncModeTrue(r),e.$watch(function(){return c(n.totalItems)(e)},function(e){0<=e&&d.setCollectionLength(r,e)})):(d.setAsyncModeFalse(r),e.$watchCollection(function(){return l(e)},function(e){e&&(e=(e instanceof Array?e:Object.keys(e)).length,d.setCollectionLength(r,e))})),a(e)}}}}]).directive("dirPaginateNoCompile",function(){return{priority:5e3,terminal:!0}}).directive("dirPaginationControls",["paginationService","paginationTemplate",function(c,n){var d=/^\d+$/,e={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:function(i,e,t){var n=t.paginationId||h,r=i.paginationId||t.paginationId||h;c.isRegistered(r)||c.isRegistered(n)||(n=r!==h?" (id: "+r+") ":" ",window.console&&console.warn("Pagination directive: the pagination controls"+n+"cannot be used without the corresponding pagination directive, which was not found at link time."));i.maxSize||(i.maxSize=9);i.autoHide=void 0===i.autoHide||i.autoHide,i.directionLinks=!angular.isDefined(t.directionLinks)||i.$parent.$eval(t.directionLinks),i.boundaryLinks=!!angular.isDefined(t.boundaryLinks)&&i.$parent.$eval(t.boundaryLinks);var o=Math.max(i.maxSize,5);function a(e){var t;c.isRegistered(r)&&u(e)&&(t=i.pagination.current,i.pages=p(e,c.getCollectionLength(r),c.getItemsPerPage(r),o),i.pagination.current=e,l(),i.onPageChange)&&i.onPageChange({newPageNumber:e,oldPageNumber:t})}function s(){var e;c.isRegistered(r)&&(e=parseInt(c.getCurrentPage(r))||1,i.pages=p(e,c.getCollectionLength(r),c.getItemsPerPage(r),o),i.pagination.current=e,i.pagination.last=i.pages[i.pages.length-1],i.pagination.last<i.pagination.current?i.setCurrent(i.pagination.last):l())}function l(){var e,t,n;c.isRegistered(r)&&(e=c.getCurrentPage(r),t=c.getItemsPerPage(r),n=c.getCollectionLength(r),i.range.lower=(e-1)*t+1,i.range.upper=Math.min(e*t,n),i.range.total=n)}function u(e){return d.test(e)&&0<e&&e<=i.pagination.last}i.pages=[],i.pagination={last:1,current:1},i.range={lower:1,upper:1,total:1},i.$watch("maxSize",function(e){e&&(o=Math.max(i.maxSize,5),s())}),i.$watch(function(){if(c.isRegistered(r))return(c.getCollectionLength(r)+1)*c.getItemsPerPage(r)},function(e){0<e&&s()}),i.$watch(function(){if(c.isRegistered(r))return c.getItemsPerPage(r)},function(e,t){e!=t&&void 0!==t&&a(i.pagination.current)}),i.$watch(function(){if(c.isRegistered(r))return c.getCurrentPage(r)},function(e,t){e!=t&&a(e)}),i.setCurrent=function(e){c.isRegistered(r)&&u(e)&&(e=parseInt(e,10),c.setCurrentPage(r,e))},i.tracker=function(e,t){return e+"_"+t}}},t=n.getString();void 0!==t?e.template=t:e.templateUrl=function(e,t){return t.templateUrl||n.getPath()};return e;function p(e,t,n,i){for(var r,o,a,s,l=[],u=Math.ceil(t/n),t=Math.ceil(i/2),c=e<=t?"start":u-t<e?"end":"middle",d=i<u,p=1;p<=u&&p<=i;){r=p,o=e,a=i,h=u,s=void 0,s=Math.ceil(a/2);var h=r===a?h:1!==r&&a<h?h-s<o?h-a+r:s<o?o-s+r:r:r;l.push(d&&(2===p&&("middle"===c||"end"===c)||p===i-1&&("middle"===c||"start"===c))?"...":h),p++}return l}}]).filter("itemsPerPage",["paginationService",function(a){return function(t,e,n){var i,r,o;if(a.isRegistered(n=void 0===n?h:n))return angular.isObject(t)?(e=parseInt(e)||9999999999,i=(r=a.isAsyncMode(n)?0:(a.getCurrentPage(n)-1)*e)+e,a.setItemsPerPage(n,e),t instanceof Array?t.slice(r,i):(o={},angular.forEach(function(e){{if(Object.keys)return Object.keys(e);var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}}(t).slice(r,i),function(e){o[e]=t[e]}),o)):t;throw"pagination directive: the itemsPerPage id argument (id: "+n+") does not match a registered pagination-id."}}]).service("paginationService",function(){var t,i={};this.registerInstance=function(e){void 0===i[e]&&(i[e]={asyncMode:!1},t=e)},this.deregisterInstance=function(e){delete i[e]},this.isRegistered=function(e){return void 0!==i[e]},this.getLastInstanceId=function(){return t},this.setCurrentPageParser=function(e,t,n){i[e].currentPageParser=t,i[e].context=n},this.setCurrentPage=function(e,t){i[e].currentPageParser.assign(i[e].context,t)},this.getCurrentPage=function(e){var t=i[e].currentPageParser;return t?t(i[e].context):1},this.setItemsPerPage=function(e,t){i[e].itemsPerPage=t},this.getItemsPerPage=function(e){return i[e].itemsPerPage},this.setCollectionLength=function(e,t){i[e].collectionLength=t},this.getCollectionLength=function(e){return i[e].collectionLength},this.setAsyncModeTrue=function(e){i[e].asyncMode=!0},this.setAsyncModeFalse=function(e){i[e].asyncMode=!1},this.isAsyncMode=function(e){return i[e].asyncMode}}).provider("paginationTemplate",function(){var t,n="angularUtils.directives.dirPagination.template";this.setPath=function(e){n=e},this.setString=function(e){t=e},this.$get=function(){return{getPath:function(){return n},getString:function(){return t}}}}).run(["$templateCache",function(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}])}();var com_github_culmat_jsTreeTable=function(){function s(e,i,r){return r=r||"children",$.each(e,function(e,t){!function n(e){e[r]&&$.each(e[r],function(e,t){n(t)}),i(e)}(t)}),e}function t(e,n,r,o){n=n||"id",r=r||"parent",o=o||"children";var a=[],s=($.each(e,function(e,t){a[t[n]]=t}),[]);return $.each(e,function(e,n){var i,t=n[r];0!=(t=$.isArray(t)?t:[t]).length&&(i=!1,$.each(t,function(e,t){t=a[t];t&&(t[o]||(t[o]=[]),$.inArray(n,t[o])<0&&t[o].push(n),i=!0)}),i)||s.push(n)}),s}function l(e,u,c,d,p,t){u=u||"children",c=c||"id",t=t||{};var n=0,i=$("<table>"),t=($.each(t,function(e,t){"class"==e&&"jsTT"!=t?i.addClass(t):i.attr(e,t)}),$("<thead>")),r=$("<tr>"),h=$("<tbody>");return i.append(t),t.append(r),i.append(h),d?$.each(d,function(e,t){$(r).append($("<th>"+t+"</th>"))}):($(r).append($("<th>"+c+"</th>")),$.each(e[0],function(e,t){e!=u&&e!=c&&$(r).append($("<th>"+e+"</th>"))})),function o(e,a,s,l){n=Math.max(n,s),$.each(e,function(e,n){var i,t,r;n["data-tt-level"]=s,i=n,t=l,r=$("<tr>"),$(r).attr("data-tt-id",i[c]),$(r).attr("data-tt-level",i["data-tt-level"]),i[u]&&0!=i[u].length?$(r).attr("data-tt-isnode",!0):$(r).attr("data-tt-isleaf",!0),t&&$(r).attr("data-tt-parent-id",t[c]),p?p($(r),i):d?$.each(d,function(e,t){$(r).append($("<td>"+i[e]+"</td>"))}):($(r).append($("<td>"+i[c]+"</td>")),$.each(i,function(e,t){e!=u&&e!=c&&"data-tt-level"!=e&&$(r).append($("<td>"+t+"</td>"))})),h.append(r),n[a]&&$.each(n[a],function(e,t){o([t],a,s+1,n)})})}(e,u,1),e[0]&&(e[0].maxLevel=n),i}function n(e,t){return $.each(e,function(e,n){$.each(t,function(e,t){n[t]=$(n).attr(t)})}),e}function u(i){i.addClass("jsTT"),i.expandLevel=function(n){$("tr[data-tt-level]",i).each(function(e){var t=parseInt($(this).attr("data-tt-level"));n-1<t?this.trCollapse(!0):t==n-1&&this.trExpand(!0)})},$("tr[data-tt-id]",i).each(function(e,t){(t=$(t)).attr("data-tt-level",function e(t){var n=t.attr("data-tt-level");return null!=n?parseInt(n):null==(n=t.attr("data-tt-parent-id"))?0:e($('tr[data-tt-id="'+n+'"]',i).first())+1}(t))});var e=$("tr[data-tt-level]",i).get(),r=($.each(e,function(e,t){t.trChildrenVisible=!0,t.trChildren=[]}),t(n(e,["data-tt-id","data-tt-parent-id"]),"data-tt-id","data-tt-parent-id","trChildren"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAHFJREFUeNpi/P//PwMlgImBQsA44C6gvhfa29v3MzAwOODRc6CystIRbxi0t7fjDJjKykpGYrwwi1hxnLHQ3t7+jIGBQRJJ6HllZaUUKYEYRYBPOB0gBShKwKGA////48VtbW3/8clTnBIH3gCKkzJgAGvBX0dDm0sCAAAAAElFTkSuQmCC");return $("tr[data-tt-level]",i).each(function(e,t){var n=$(t).attr("data-tt-level"),i=$("td",t).first();0<t.trChildren.length?i.prepend($('<img id="state" style="cursor:pointer" src="'+r+'"/>')):i.prepend($('<span style="padding-left:16px;" /></span>')),i.prepend($('<span style="padding-left:'+15*parseInt(n-1)+'px;" /></span>')),t.trExpand=function(e){var n;this.trChildren.length<1||(e&&(this.trChildrenVisible=!0,$("#state",this).get(0).src=r),n=e||this.trChildrenVisible,$.each(this.trChildren,function(e,t){n&&$(t).css("display","table-row"),t.trExpand()}))},t.trCollapse=function(e){this.trChildren.length<1||(e&&(this.trChildrenVisible=!1,$("#state",this).get(0).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAHlJREFUeNrcU1sNgDAQ6wgmcAM2MICGGlg1gJnNzWQcvwQGy1j4oUl/7tH0mpwzM7SgQyO+EZAUWh2MkkzSWhJwuRAlHYsJwEwyvs1gABDuzqoJcTw5qxaIJN0bgQRgIjnlmn1heSO5PE6Y2YXe+5Cr5+h++gs12AcAS6FS+7YOsj4AAAAASUVORK5CYII="),$.each(this.trChildren,function(e,t){$(t).css("display","none"),t.trCollapse()}))},$(t).click(function(){this.trChildrenVisible?this.trCollapse(!0):this.trExpand(!0)})}),i}return{depthFirst:s,makeTree:t,renderTree:l,attr2attr:n,treeTable:u,appendTreetable:function(e,t){(t=t||{}).idAttr=t.idAttr||"id",t.childrenAttr=t.childrenAttr||"children";var n,i,r=t.controls||[],o=(t.mountPoint||(t.mountPoint=$("body")),t.depthFirst&&s(e,t.depthFirst,t.childrenAttr),l(e,t.childrenAttr,t.idAttr,t.renderedAttr,t.renderer,t.tableAttributes)),a=(u(o),t.replaceContent&&t.mountPoint.html(""),t.initialExpandLevel?parseInt(t.initialExpandLevel):-1),a=Math.min(a,e[0].maxLevel);return o.expandLevel(a),t.slider&&((n=$('<div style="margin-right: 15px;">')).width("200px"),n.slider({min:1,max:e[0].maxLevel,range:"min",value:a,slide:function(e,t){o.expandLevel(t.value)}}),r=[n].concat(t.controls)),0<r.length&&t.mountPoint.append((e=r,i=$("<tr>"),$.each(e,function(e,t){i.append($('<td style="padding-right: 20px;">').append(t))}),$('<table border="0"/>').append(i))),t.mountPoint.append(o),o},jsTreeTable:"1.0",register:function(n){$.each(this,function(e,t){"register"!=e&&(n[e]=t)})}}}();