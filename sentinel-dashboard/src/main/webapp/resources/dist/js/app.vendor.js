!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],t):t((e=e||self)["@uirouter/angularjs"]={},e.angular)}(this,function(g,e){"use strict";var t=angular,S=e&&e.module?e:t;function l(n){var e=[].slice.apply(arguments,[1]),r=n.length;return function e(t){return t.length>=r?n.apply(null,t):function(){return e(t.concat([].slice.apply(arguments)))}}(e)}function n(){var n=arguments,r=n.length-1;return function(){for(var e=r,t=n[r].apply(this,arguments);e--;)t=n[e].call(this,t);return t}}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,[].slice.call(arguments).reverse())}var v=function(t){return function(e){return e&&e[t]}},y=l(function(e,t,n){return n&&n[e]===t}),C=function(e){return u.apply(null,e.split(".").map(v))},d=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!n.apply(null,e)}};function r(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,e)&&r.apply(null,e)}}function i(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,e)||r.apply(null,e)}}var a=function(n){return function(e){return e.reduce(function(e,t){return e&&!!n(t)},!0)}},s=function(n){return function(e){return e.reduce(function(e,t){return e||!!n(t)},!1)}},c=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},o=function(t){return function(e){return t===e}},p=function(e){return function(){return e}};function h(t,n){return function(e){return e[t].apply(e,n)}}function f(n){return function(e){for(var t=0;t<n.length;t++)if(n[t][0](e))return n[t][1](e)}}var m=Object.prototype.toString,w=function(t){return function(e){return typeof e===t}},b=w("undefined"),k=d(b),$=function(e){return null===e},_=i($,b),D=w("function"),x=w("number"),O=w("string"),T=function(e){return null!==e&&"object"==typeof e},A=Array.isArray,E=function(e){return"[object Date]"===m.call(e)},P=function(e){return"[object RegExp]"===m.call(e)};function M(e){if(A(e)&&e.length){var t=e.slice(0,-1),n=e.slice(-1);return!(t.filter(d(O)).length||n.filter(d(D)).length)}return D(e)}var R=r(T,u(v("then"),D)),I=function(n,e){return e.reduce(function(e,t){return e[t]=function(e){return function(){throw new Error("No implementation for "+e+". The framework specific code did not implement this method.")}}(n+"."+t+"()"),e},{})},V={$q:void 0,$injector:void 0},L="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,F=L.angular||{},j=F.fromJson||JSON.parse.bind(JSON),H=F.toJson||JSON.stringify.bind(JSON),N=F.forEach||function(t,n,e){if(A(t))return t.forEach(n,e);Object.keys(t).forEach(function(e){return n(t[e],e)})},Y=Object.assign||Oe,U=F.equals||Te;function q(e){return e}function z(){}function B(t,n,r,e,i){void 0===i&&(i=!1);var o=function(e){return t()[e].bind(r())};return(e=e||Object.keys(t())).reduce(function(e,t){return e[t]=i?function(e){return function(){return n[e]=o(e),n[e].apply(null,arguments)}}(t):o(t),e},n)}var W=function(e,t){return Y(Object.create(e),t)},G=l(K);function K(e,t){return-1!==e.indexOf(t)}var Q=l(Z);function Z(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),e}var X=l(J);function J(e,t){return e.push(t),t}var ee=function(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),Q(t,e)})};function te(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Y.apply(void 0,[{}].concat(t.reverse()));return Y(r,ie(e||{},Object.keys(r)))}var ne=function(e,t){return Y(e,t)};function re(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function ie(e,t){var n={};for(var r in e)-1!==t.indexOf(r)&&(n[r]=e[r]);return n}function oe(n,e){return Object.keys(n).filter(d(G(e))).reduce(function(e,t){return e[t]=n[t],e},{})}function ae(e,t){return ce(e,v(t))}function se(e,n){var t=A(e),r=t?[]:{},i=t?function(e){return r.push(e)}:function(e,t){return r[t]=e};return N(e,function(e,t){n(e,t)&&i(e,t)}),r}function ue(e,n){var r;return N(e,function(e,t){r||n(e,t)&&(r=e)}),r}var le=ce;function ce(e,n,r){return r=r||(A(e)?[]:{}),N(e,function(e,t){return r[t]=n(e,t)}),r}var de=function(t){return Object.keys(t).map(function(e){return t[e]})},pe=function(e,t){return e&&t},he=function(e,t){return e||t},fe=function(e,t){return e.concat(t)},ge=function(e,t){return A(t)?e.concat(t.reduce(ge,[])):me(e,t)};function me(e,t){return e.push(t),e}var ve=function(e,t){return G(e,t)?e:me(e,t)},ye=function(e){return e.reduce(fe,[])},we=function(e){return e.reduce(ge,[])},be=_e,$e=_e;function _e(n,r){return void 0===r&&(r="assert failure"),function(e){var t=n(e);if(!t)throw new Error(D(r)?r(e):r);return t}}var Se=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})};function Ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];for(var n=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),r=[],i=function(t){switch(e.length){case 1:r.push([e[0][t]]);break;case 2:r.push([e[0][t],e[1][t]]);break;case 3:r.push([e[0][t],e[1][t],e[2][t]]);break;case 4:r.push([e[0][t],e[1][t],e[2][t],e[3][t]]);break;default:r.push(e.map(function(e){return e[t]}))}},o=0;o<n;o++)i(o);return r}function ke(e,t){var n,r;if(A(t)&&(n=t[0],r=t[1]),!O(n))throw new Error("invalid parameters to applyPairs");return e[n]=r,e}function De(e){return e.length&&e[e.length-1]||void 0}function xe(e,t){return t&&Object.keys(t).forEach(function(e){return delete t[e]}),t||(t={}),Y(t,e)}function Oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r=Object.keys(n),i=0;i<r.length;i++)e[r[i]]=n[r[i]]}return e}function Te(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n=typeof e;if(n!=typeof t||"object"!=n)return!1;var r=[e,t];if(a(A)(r))return function(e,t){return e.length===t.length&&Ce(e,t).reduce(function(e,t){return e&&Te(t[0],t[1])},!0)}(e,t);if(a(E)(r))return e.getTime()===t.getTime();if(a(P)(r))return e.toString()===t.toString();if(a(D)(r))return!0;if([D,A,E,P].map(s).reduce(function(e,t){return e||!!t(r)},!1))return!1;var i={};for(var o in e){if(!Te(e[o],t[o]))return!1;i[o]=!0}for(var o in t)if(!i[o])return!1;return!0}var Ae,Ee=function(e){return e.catch(function(e){return 0})&&e},Pe=function(e){return Ee(V.$q.reject(e))},Me=function(){function t(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}return t.is=function(e){return!!/[!,*]+/.exec(e)},t.fromString=function(e){return t.is(e)?new t(e):null},t.prototype.matches=function(e){return this.regexp.test("."+e)},t}(),Re=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t,this._evictListeners=[],this.onEvict=X(this._evictListeners)}return e.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&this.evict(),e},e.prototype.evict=function(){var t=this._items.shift();return this._evictListeners.forEach(function(e){return e(t)}),t},e.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},e.prototype.clear=function(){var e=this._items;return this._items=[],e},e.prototype.size=function(){return this._items.length},e.prototype.remove=function(e){var t=this._items.indexOf(e);return-1<t&&this._items.splice(t,1)[0]},e.prototype.peekTail=function(){return this._items[this._items.length-1]},e.prototype.peekHead=function(){if(this.size())return this._items[0]},e}();(Ae=g.RejectType||(g.RejectType={}))[Ae.SUPERSEDED=2]="SUPERSEDED",Ae[Ae.ABORTED=3]="ABORTED",Ae[Ae.INVALID=4]="INVALID",Ae[Ae.IGNORED=5]="IGNORED",Ae[Ae.ERROR=6]="ERROR";var Ie=0,Ve=function(){function r(e,t,n){this.$id=Ie++,this.type=e,this.message=t,this.detail=n}return r.isRejectionPromise=function(e){return e&&"function"==typeof e.then&&c(r)(e._transitionRejection)},r.superseded=function(e,t){var n=new r(g.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",e);return t&&t.redirected&&(n.redirected=!0),n},r.redirected=function(e){return r.superseded(e,{redirected:!0})},r.invalid=function(e){return new r(g.RejectType.INVALID,"This transition is invalid",e)},r.ignored=function(e){return new r(g.RejectType.IGNORED,"The transition was ignored",e)},r.aborted=function(e){return new r(g.RejectType.ABORTED,"The transition has been aborted",e)},r.errored=function(e){return new r(g.RejectType.ERROR,"The transition errored",e)},r.normalize=function(e){return c(r)(e)?e:r.errored(e)},r.prototype.toString=function(){var e,t=(e=this.detail)&&e.toString!==Object.prototype.toString?e.toString():qe(e);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+t+")"},r.prototype.toPromise=function(){return Y(Pe(this),{_transitionRejection:this})},r}();function Le(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."}function Fe(e,t){for(;t.length<e;)t+=" ";return t}function je(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function He(e){var t=Ne(e),n=t.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:t,i=e.name||"";return i&&r.match(/function \(/)?"function "+i+r.substr(9):r}function Ne(e){var t=A(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}var Ye=Ve.isRejectionPromise,Ue=f([[b,p("undefined")],[$,p("null")],[R,p("[Promise]")],[Ye,function(e){return e._transitionRejection.toString()}],[function(e){return T(e)&&!A(e)&&e.constructor!==Object&&D(e.toString)},function(e){return e.toString()}],[M,He],[p(!0),q]]);function qe(e){var t=[];function n(e){if(T(e)){if(-1!==t.indexOf(e))return"[circular ref]";t.push(e)}return Ue(e)}return b(e)?n(e):JSON.stringify(e,function(e,t){return n(t)}).replace(/\\"/g,'"')}var ze=function(n){return function(e){if(!e)return["",""];var t=e.indexOf(n);return-1===t?[e,""]:[e.substr(0,t),e.substr(t+1)]}},Be=new RegExp("^(?:[a-z]+:)?//[^/]+/"),We=function(e){return e.replace(/\/[^/]*$/,"")},Ge=ze("#"),Ke=ze("?"),Qe=ze("="),Ze=function(e){return e?e.replace(/^#/,""):""};function Xe(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(q)}}function Je(e,t){return O(De(e))&&O(t)?e.slice(0,-1).concat(De(e)+t):me(e,t)}function et(e){if(!e)return"ui-view (defunct)";var t=e.creationContext?e.creationContext.name||"(root)":"(none)";return"[ui-view#"+e.id+" "+e.$type+":"+e.fqn+" ("+e.name+"@"+t+")]"}function tt(e){return x(e)?g.Category[e]:g.Category[g.Category[e]]}var nt,rt=Function.prototype.bind.call(console.log,console),it=D(console.table)?console.table.bind(console):rt.bind(console);(nt=g.Category||(g.Category={}))[nt.RESOLVE=0]="RESOLVE",nt[nt.TRANSITION=1]="TRANSITION",nt[nt.HOOK=2]="HOOK",nt[nt.UIVIEW=3]="UIVIEW",nt[nt.VIEWCONFIG=4]="VIEWCONFIG";var ot=C("$id"),at=C("router.$id"),st=function(e){return"Transition #"+ot(e)+"-"+at(e)},ut=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(t,e){var n=this;e.length||(e=Object.keys(g.Category).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(e){return g.Category[e]})),e.map(tt).forEach(function(e){return n._enabled[e]=t})},e.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},e.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},e.prototype.enabled=function(e){return!!this._enabled[tt(e)]},e.prototype.traceTransitionStart=function(e){this.enabled(g.Category.TRANSITION)&&console.log(st(e)+": Started  -> "+qe(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(g.Category.TRANSITION)&&console.log(st(e)+": Ignored  <> "+qe(e))},e.prototype.traceHookInvocation=function(e,t,n){if(this.enabled(g.Category.HOOK)){var r=C("traceData.hookType")(n)||"internal",i=C("traceData.context.state.name")(n)||C("traceData.context")(n)||"unknown",o=He(e.registeredHook.callback);console.log(st(t)+":   Hook -> "+r+" context: "+i+", "+Le(200,o))}},e.prototype.traceHookResult=function(e,t,n){this.enabled(g.Category.HOOK)&&console.log(st(t)+":   <- Hook returned: "+Le(200,qe(e)))},e.prototype.traceResolvePath=function(e,t,n){this.enabled(g.Category.RESOLVE)&&console.log(st(n)+":         Resolving "+e+" ("+t+")")},e.prototype.traceResolvableResolved=function(e,t){this.enabled(g.Category.RESOLVE)&&console.log(st(t)+":               <- Resolved  "+e+" to: "+Le(200,qe(e.data)))},e.prototype.traceError=function(e,t){this.enabled(g.Category.TRANSITION)&&console.log(st(t)+": <- Rejected "+qe(t)+", reason: "+e)},e.prototype.traceSuccess=function(e,t){this.enabled(g.Category.TRANSITION)&&console.log(st(t)+": <- Success  "+qe(t)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,t,n){void 0===n&&(n=""),this.enabled(g.Category.UIVIEW)&&console.log("ui-view: "+Fe(30,e)+" "+et(t)+n)},e.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(g.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},e.prototype.traceUIViewFill=function(e,t){this.enabled(g.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+Le(200,t))},e.prototype.traceViewSync=function(e){if(this.enabled(g.Category.VIEWCONFIG)){var a="uiview component fqn",t=e.map(function(e){var t,n=e.uiView,r=e.viewConfig,i=n&&n.fqn,o=r&&r.viewDecl.$context.name+": ("+r.viewDecl.$name+")";return(t={})[a]=i,t["view config state (view name)"]=o,t}).sort(function(e,t){return(e[a]||"").localeCompare(t[a]||"")});it(t)}},e.prototype.traceViewServiceEvent=function(e,t){this.enabled(g.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+function(e){var t=e.viewDecl,n=t.$context.name||"(root)";return"[View#"+e.$id+" from '"+n+"' state]: target ui-view: '"+t.$uiViewName+"@"+t.$uiViewContextAnchor+"'"}(t))},e.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(g.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+et(t))},e}(),lt=new ut,ct=function(){function e(e){this.pattern=/.*/,this.inherit=!0,Y(this,e)}return e.prototype.is=function(e,t){return!0},e.prototype.encode=function(e,t){return e},e.prototype.decode=function(e,t){return e},e.prototype.equals=function(e,t){return e==t},e.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},e.prototype.toString=function(){return"{ParamType:"+this.name+"}"},e.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},e.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new dt(this,e)},e}();function dt(r,i){var o=this;function a(e){return A(e)?e:k(e)?[e]:[]}function s(n,r){return function(e){if(A(e)&&0===e.length)return e;var t=ce(a(e),n);return!0===r?0===se(t,function(e){return!e}).length:function(e){switch(e.length){case 0:return;case 1:return"auto"===i?e[0]:e;default:return e}}(t)}}function u(o){return function(e,t){var n=a(e),r=a(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!o(n[i],r[i]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach(function(e){var t=r[e].bind(r),n="equals"===e?u:s;o[e]=n(t)}),Y(this,{dynamic:r.dynamic,name:r.name,pattern:r.pattern,inherit:r.inherit,raw:r.raw,is:s(r.is.bind(r),!0),$arrayMode:i})}var pt,ht=Object.prototype.hasOwnProperty,ft=function(e){return 0===["value","type","squash","array","dynamic"].filter(ht.bind(e||{})).length};function gt(e,t,n){var r=!1===n.reloadOnSearch&&t===g.DefType.SEARCH||void 0,i=ue([n.dynamic,r],k),o=k(i)?{dynamic:i}:{},a=function(e){function t(){return e.value}e=ft(e)?{value:e}:e,t.__cacheable=!0;var n=M(e.value)?e.value:t;return Y(e,{$$fn:n})}(n&&n.params&&n.params[e]);return Y(o,a)}(pt=g.DefType||(g.DefType={}))[pt.PATH=0]="PATH",pt[pt.SEARCH=1]="SEARCH",pt[pt.CONFIG=2]="CONFIG";var mt,vt=function(){function r(e,t,n,r,i){var o=gt(e,n,i);t=function(e,t,n,r,i){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+r+"' has two type configurations.");if(e.type&&t&&"string"===t.name&&i.type(e.type))return i.type(e.type);if(t)return t;if(e.type)return e.type instanceof ct?e.type:i.type(e.type);var o=n===g.DefType.CONFIG?"any":n===g.DefType.PATH?"path":n===g.DefType.SEARCH?"query":"string";return i.type(o)}(o,t,n,e,r.paramTypes);var a,s,u=(a={array:n===g.DefType.SEARCH&&"auto"},s=e.match(/\[\]$/)?{array:!0}:{},Y(a,s,o).array);t=u?t.$asArray(u,n===g.DefType.SEARCH):t;var l=void 0!==o.value||n===g.DefType.SEARCH,c=k(o.dynamic)?!!o.dynamic:!!t.dynamic,d=k(o.raw)?!!o.raw:!!t.raw,p=function(e,t,n){var r=e.squash;if(!t||!1===r)return!1;if(!k(r)||null==r)return n;if(!0===r||O(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(o,l,r.defaultSquashPolicy()),h=function(e,t,n,r){var i=[{from:"",to:n||t?void 0:""},{from:null,to:n||t?void 0:""}],o=A(e.replace)?e.replace:[];O(r)&&o.push({from:r,to:void 0});var a=ce(o,v("from"));return se(i,function(e){return-1===a.indexOf(e.from)}).concat(o)}(o,u,l,p),f=k(o.inherit)?!!o.inherit:!!t.inherit;Y(this,{id:e,type:t,location:n,isOptional:l,dynamic:c,raw:d,squash:p,replace:h,inherit:f,array:u,config:o})}return r.values=function(e,t){void 0===t&&(t={});for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];n[o.id]=o.value(t[o.id])}return n},r.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},r.equals=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),0===r.changed(e,t,n).length},r.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(pe,!0)},r.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},r.prototype.value=function(e){var i=this;return e=function(e){for(var t=0,n=i.replace;t<n.length;t++){var r=n[t];if(r.from===e)return r.to}return e}(e),b(e)?function(){if(i._defaultValueCache)return i._defaultValueCache.defaultValue;if(!V.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=V.$injector.invoke(i.config.$$fn);if(null!=e&&!i.type.is(e))throw new Error("Default value ("+e+") for parameter '"+i.id+"' is not an instance of ParamType ("+i.type.name+")");return i.config.$$fn.__cacheable&&(i._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},r.prototype.isSearch=function(){return this.location===g.DefType.SEARCH},r.prototype.validates=function(e){if((b(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var n=this.type.encode(t);return!(O(n)&&!this.type.pattern.exec(n))},r.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},r}(),yt=function(){function e(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=ie(e.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=W(ce(this.defaultTypes,function(e,t){return new ct(Y({name:t},e))}),{})}return e.prototype.dispose=function(){this.types={}},e.prototype.type=function(e,t,n){if(!k(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new ct(Y({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},e.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");Y(this.types[e.name],V.$injector.invoke(e.def))}},e}();mt=function(e){var t=function(e){return null!=e?e.toString():e},n={encode:t,decode:t,is:c(String),pattern:/.*/,equals:function(e,t){return e==t}};return Y({},n,e)},Y(yt.prototype,{string:mt({}),path:mt({pattern:/[^/]*/}),query:mt({}),hash:mt({inherit:!1}),int:mt({decode:function(e){return parseInt(e,10)},is:function(e){return!_(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:mt({encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:c(Boolean),pattern:/0|1/}),date:mt({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(n,r){return["getFullYear","getMonth","getDate"].reduce(function(e,t){return e&&n[t]()===r[t]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:mt({encode:H,decode:j,is:c(Object),equals:U,pattern:/[^/]*/}),any:mt({encode:q,decode:q,is:function(){return!0},equals:U})});var wt=function(){function e(e){void 0===e&&(e={}),Y(this,e)}return e.prototype.$inherit=function(e,t,n){var r,i=re(t,n),o={},a=[];for(var s in i)if(i[s]&&i[s].params&&(r=Object.keys(i[s].params)).length)for(var u in r)0<=a.indexOf(r[u])||(a.push(r[u]),o[r[u]]=this[r[u]]);return Y({},o,e)},e}(),bt=function(){function r(e){if(e instanceof r){var t=e;this.state=t.state,this.paramSchema=t.paramSchema.slice(),this.paramValues=Y({},t.paramValues),this.resolvables=t.resolvables.slice(),this.views=t.views&&t.views.slice()}else{var n=e;this.state=n,this.paramSchema=n.parameters({inherit:!1}),this.paramValues={},this.resolvables=n.resolvables.map(function(e){return e.clone()})}}return r.prototype.clone=function(){return new r(this)},r.prototype.applyRawParams=function(n){return this.paramValues=this.paramSchema.reduce(function(e,t){return ke(e,function(e){return[e.id,e.value(n[e.id])]}(t))},{}),this},r.prototype.parameter=function(e){return ue(this.paramSchema,y("id",e))},r.prototype.equals=function(e,t){var n=this.diff(e,t);return n&&0===n.length},r.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var n=t?t(this):this.paramSchema;return vt.changed(n,this.paramValues,e.paramValues)},r.clone=function(e){return e.clone()},r}(),$t=function(){function r(e,t,n,r){this._stateRegistry=e,this._identifier=t,this._identifier=t,this._params=Y({},n||{}),this._options=Y({},r||{}),this._definition=e.matcher.find(t,this._options.relative)}return r.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},r.prototype.identifier=function(){return this._identifier},r.prototype.params=function(){return this._params},r.prototype.$state=function(){return this._definition},r.prototype.state=function(){return this._definition&&this._definition.self},r.prototype.options=function(){return this._options},r.prototype.exists=function(){return!(!this._definition||!this._definition.self)},r.prototype.valid=function(){return!this.error()},r.prototype.error=function(){var e=this.options().relative;if(this._definition||!e)return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'";var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"},r.prototype.toString=function(){return"'"+this.name()+"'"+qe(this.params())},r.prototype.withState=function(e){return new r(this._stateRegistry,e,this._params,this._options)},r.prototype.withParams=function(e,t){void 0===t&&(t=!1);var n=t?e:Y({},this._params,e);return new r(this._stateRegistry,this._identifier,n,this._options)},r.prototype.withOptions=function(e,t){void 0===t&&(t=!1);var n=t?e:Y({},this._options,e);return new r(this._stateRegistry,this._identifier,this._params,n)},r.isDef=function(e){return e&&e.state&&(O(e.state)||O(e.state.name))},r}(),_t=function(){function p(){}return p.makeTargetState=function(e,t){var n=De(t).state;return new $t(e,n,t.map(v("paramValues")).reduce(ne,{}),{})},p.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new bt(e).applyRawParams(t)})},p.buildToPath=function(e,t){var n=p.buildPath(t);return t.options().inherit?p.inheritParams(e,n,Object.keys(t.params())):n},p.applyViewConfigs=function(i,o,t){o.filter(function(e){return G(t,e.state)}).forEach(function(t){var e=de(t.state.views||{}),n=p.subPath(o,function(e){return e===t}),r=e.map(function(e){return i.createViewConfig(n,e)});t.views=r.reduce(fe,[])})},p.inheritParams=function(o,e,a){void 0===a&&(a=[]);var s=o.map(function(e){return e.paramSchema}).reduce(fe,[]).filter(function(e){return!e.inherit}).map(v("id"));return e.map(function(e){var t=Y({},e&&e.paramValues),n=ie(t,a);t=oe(t,a);var r=oe(function(e,t){var n=ue(e,y("state",t));return Y({},n&&n.paramValues)}(o,e.state)||{},s),i=Y(t,r,n);return new bt(e.state).applyRawParams(i)})},p.treeChanges=function(e,r,t){for(var n,i,o,a,s,u,l=Math.min(e.length,r.length),c=0;c<l&&e[c].state!==t&&(n=e[c],i=r[c],n.equals(i,p.nonDynamicParams));)c++;a=(o=e).slice(0,c),s=o.slice(c);var d=a.map(function(e,t){var n=e.clone();return n.paramValues=r[t].paramValues,n});return u=r.slice(c),{from:o,to:d.concat(u),retained:a,retainedWithToParams:d,exiting:s,entering:u}},p.matching=function(e,t,i){var o=!1;return Ce(e,t).reduce(function(e,t){var n=t[0],r=t[1];return(o=o||!n.equals(r,i))?e:e.concat(n)},[])},p.equals=function(e,t,n){return e.length===t.length&&p.matching(e,t,n).length===e.length},p.subPath=function(e,t){var n=ue(e,t),r=e.indexOf(n);return-1===r?void 0:e.slice(0,r+1)},p.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},p.paramValues=function(e){return e.reduce(function(e,t){return Y(e,t.paramValues)},{})},p}(),St={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},Ct={when:"LAZY",async:"WAIT"},kt=function(){function a(e,t,n,r,i){if(this.resolved=!1,this.promise=void 0,e instanceof a)Y(this,e);else if(D(t)){if(_(e))throw new Error("new Resolvable(): token argument is required");if(!D(t))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=r,this.resolveFn=t,this.deps=n||[],this.data=i,this.resolved=void 0!==i,this.promise=this.resolved?V.$q.when(this.data):void 0}else if(T(e)&&e.token&&(e.hasOwnProperty("resolveFn")||e.hasOwnProperty("data"))){var o=e;return new a(o.token,o.resolveFn,o.deps,o.policy,o.data)}}return a.prototype.getPolicy=function(e){var t=this.policy||{},n=e&&e.resolvePolicy||{};return{when:t.when||n.when||Ct.when,async:t.async||n.async||Ct.async}},a.prototype.resolve=function(t,n){var r=this,e=V.$q,i=t.findNode(this),o=i&&i.state,a="RXWAIT"===this.getPolicy(o).async?function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})}:q;return this.promise=e.when().then(function(){return e.all(t.getDependencies(r).map(function(e){return e.get(t,n)}))}).then(function(e){return r.resolveFn.apply(null,e)}).then(a).then(function(e){return r.data=e,r.resolved=!0,r.resolveFn=null,lt.traceResolvableResolved(r,n),r.data})},a.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},a.prototype.toString=function(){return"Resolvable(token: "+qe(this.token)+", requires: ["+this.deps.map(qe)+"])"},a.prototype.clone=function(){return new a(this)},a.fromData=function(e,t){return new a(e,function(){return t},null,null,t)},a}(),Dt=St.when,xt=[Dt.EAGER,Dt.LAZY],Ot=[Dt.EAGER],Tt="Native Injector",At=function(){function e(e){this._path=e}return e.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(ve,[])},e.prototype.getResolvable=function(t){return De(this._path.map(function(e){return e.resolvables}).reduce(fe,[]).filter(function(e){return e.token===t}))},e.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},e.prototype.subContext=function(t){return new e(_t.subPath(this._path,function(e){return e.state===t}))},e.prototype.addResolvables=function(e,t){var n=ue(this._path,y("state",t)),r=e.map(function(e){return e.token});n.resolvables=n.resolvables.filter(function(e){return-1===r.indexOf(e.token)}).concat(e)},e.prototype.resolvePath=function(e,s){var u=this;void 0===e&&(e="LAZY");var l=(G(xt,e)?e:"LAZY")===St.when.EAGER?Ot:xt;lt.traceResolvePath(this._path,e,s);var c=function(t,n){return function(e){return G(t,u.getPolicy(e)[n])}},t=this._path.reduce(function(e,t){var n=t.resolvables.filter(c(l,"when")),r=n.filter(c(["NOWAIT"],"async")),i=n.filter(d(c(["NOWAIT"],"async"))),o=u.subContext(t.state),a=function(t){return t.get(o,s).then(function(e){return{token:t.token,value:e}})};return r.forEach(a),e.concat(i.map(a))},[]);return V.$q.all(t)},e.prototype.injector=function(){return this._injector||(this._injector=new Et(this))},e.prototype.findNode=function(t){return ue(this._path,function(e){return G(e.resolvables,t)})},e.prototype.getDependencies=function(t){var r=this,n=this.findNode(t),i=(_t.subPath(this._path,function(e){return e===n})||this._path).reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var e=i.filter(function(e){return e.token===t});if(e.length)return De(e);var n=r.injector().getNative(t);if(b(n))throw new Error("Could not find Dependency Injection token: "+qe(t));return new kt(t,function(){return n},[],n)})},e}(),Et=function(){function e(e){this.context=e,this.native=this.get(Tt)||V.$injector}return e.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+qe(t.token));return t.data}return this.getNative(e)},e.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):V.$q.when(this.native.get(e))},e.prototype.getNative=function(e){return this.native&&this.native.get(e)},e}();function Pt(e){return e.name}function Mt(e){return e.self.$$state=function(){return e},e.self}function Rt(e){return e.parent&&e.parent.data&&(e.data=e.self.data=W(e.parent.data,e.data)),e.data}var It=function(a,s){return function(e){var t=e.self;if(t&&t.url&&t.name&&t.name.match(/\.\*\*$/)){var n={};xe(t,n),n.url+="{remainder:any}",t=n}var r=e.parent,i=function(e){if(!O(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}}(t.url),o=i?a.compile(i.val,{state:t}):t.url;if(!o)return null;if(!a.isMatcher(o))throw new Error("Invalid url '"+o+"' in state '"+e+"'");return i&&i.root?o:(r&&r.navigable||s()).url.append(o)}};function Vt(e){return e.parent?e.parent.path.concat(e):[e]}function Lt(e){var t=e.parent?Y({},e.parent.includes):{};return t[e.name]=!0,t}function Ft(e){var t,n,r=function(e){return e.provide||e.token},i=f([[v("resolveFn"),function(e){return new kt(r(e),e.resolveFn,e.deps,e.policy)}],[v("useFactory"),function(e){return new kt(r(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[v("useClass"),function(e){return new kt(r(e),function(){return new e.useClass},[],e.policy)}],[v("useValue"),function(e){return new kt(r(e),function(){return e.useValue},[],e.policy,e.useValue)}],[v("useExisting"),function(e){return new kt(r(e),q,[e.useExisting],e.policy)}]]),o=f([[u(v("val"),O),function(e){return new kt(e.token,q,[e.val],e.policy)}],[u(v("val"),A),function(e){return new kt(e.token,De(e.val),e.val.slice(0,-1),e.policy)}],[u(v("val"),D),function(e){return new kt(e.token,e.val,function(e){var t=V.$injector;return e.$inject||t&&t.annotate(e,t.strictDi)||"deferred"}(e.val),e.policy)}]]),a=f([[c(kt),function(e){return e}],[function(e){return!(!e.token||!e.resolveFn)},i],[function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},i],[function(e){return!!(e&&e.val&&(O(e.val)||A(e.val)||D(e.val)))},o],[p(!0),function(e){throw new Error("Invalid resolve value: "+qe(e))}]]),s=e.resolve;return(A(s)?s:(t=s,n=e.resolvePolicy||{},Object.keys(t||{}).map(function(e){return{token:e,val:t[e],deps:void 0,policy:n[e]}}))).map(a)}var jt,Ht,Nt=function(){function e(t,e){this.matcher=t;var n=this,r=function(){return t.find("")},i=function(e){return""===e.name};this.builders={name:[Pt],self:[Mt],parent:[function(e){return i(e)?null:t.find(n.parentName(e))||r()}],data:[Rt],url:[It(e,r)],navigable:[function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}}(i)],params:[function(r){return function(n){var e=n.url&&n.url.parameters({inherit:!1})||[],t=de(le(oe(n.params||{},e.map(v("id"))),function(e,t){return r.fromConfig(t,null,n.self)}));return e.concat(t).map(function(e){return[e.id,e]}).reduce(ke,{})}}(e.paramFactory)],views:[],path:[Vt],includes:[Lt],resolvables:[Ft]}}return e.prototype.builder=function(e,t){var n=this.builders,r=n[e]||[];return O(e)&&!k(t)?1<r.length?r:r[0]:O(e)&&D(t)?(n[e]=r,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},e.prototype.build=function(e){var t=this.matcher,n=this.builders,r=this.parentName(e);if(r&&!t.find(r,void 0,!1))return null;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i].reduce(function(t,n){return function(e){return n(e,t)}},z);e[i]=o(e)}return e},e.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if("**"===n.pop()&&n.pop(),n.length){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return n.join(".")}return e.parent?O(e.parent)?e.parent:e.parent.name:""},e.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var n=O(e.parent)?e.parent:e.parent.name;return n?n+"."+t:t},e}(),Yt=function(){function n(e){return n.create(e||{})}return n.create=function(e){e=n.isStateClass(e)?new e:e;var t=W(W(e,n.prototype));return e.$$state=function(){return t},t.self=e,t.__stateObjectCache={nameGlob:Me.fromString(t.name)},t},n.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},n.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},n.prototype.root=function(){return this.parent&&this.parent.root()||this},n.prototype.parameters=function(t){return((t=te(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(de(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},n.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||ue(de(this.params),y("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},n.prototype.toString=function(){return this.fqn()},n.isStateClass=function(e){return D(e)&&!0===e.__uiRouterState},n.isState=function(e){return T(e.__stateObjectCache)},n}(),Ut=function(){function e(e){this._states=e}return e.prototype.isRelative=function(e){return 0===(e=e||"").indexOf(".")||0===e.indexOf("^")},e.prototype.find=function(e,t,n){if(void 0===n&&(n=!0),e||""===e){var r=O(e),i=r?e:e.name;this.isRelative(i)&&(i=this.resolvePath(i,t));var o=this._states[i];if(o&&(r||!(r||o!==e&&o.self!==e)))return o;if(r&&n){var a=de(this._states).filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(i)});return 1<a.length&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",a.map(function(e){return e.name})),a[0]}}},e.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),r=e.split("."),i=r.length,o=0,a=n;o<i;o++)if(""!==r[o]||0!==o){if("^"!==r[o])break;if(!a.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(o).join(".");return a.name+(a.name&&s?".":"")+s},e}(),qt=function(){function e(e,t,n,r){this.router=e,this.states=t,this.builder=n,this.listeners=r,this.queue=[]}return e.prototype.dispose=function(){this.queue=[]},e.prototype.register=function(e){var t=this.queue,n=Yt.create(e),r=n.name;if(!O(r))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(r)||G(t.map(v("name")),r))throw new Error("State '"+r+"' is already defined");return t.push(n),this.flush(),n},e.prototype.flush=function(){for(var t=this,e=this.queue,n=this.states,r=this.builder,i=[],o=[],a={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]},u=function(){i.length&&t.listeners.forEach(function(e){return e("registered",i.map(function(e){return e.self}))})};0<e.length;){var l=e.shift(),c=l.name,d=r.build(l),p=o.indexOf(l);if(d){var h=s(c);if(h&&h.name===c)throw new Error("State '"+c+"' is already defined");var f=s(c+".**");f&&this.router.stateRegistry.deregister(f),n[c]=l,this.attachRoute(l),0<=p&&o.splice(p,1),i.push(l)}else{var g=a[c];if(a[c]=e.length,0<=p&&g===e.length)return e.push(l),u(),n;p<0&&o.push(l),e.push(l)}}return u(),n},e.prototype.attachRoute=function(e){if(!e.abstract&&e.url){var t=this.router.urlService.rules;t.rule(t.urlRuleFactory.create(e))}},e}(),zt=function(){function e(e){this.router=e,this.states={},this.listeners=[],this.matcher=new Ut(this.states),this.builder=new Nt(this.matcher,e.urlMatcherFactory),this.stateQueue=new qt(e,this.states,this.builder,this.listeners),this._registerRoot()}return e.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},e.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},e.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){Q(this.listeners)(e)}.bind(this)},e.prototype.root=function(){return this._root},e.prototype.register=function(e){return this.stateQueue.register(e)},e.prototype._deregisterTree=function(e){var n=this,r=this.get().map(function(e){return e.$$state()}),i=function(t){var e=r.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(i(e))},t=i([e]),o=[e].concat(t).reverse();return o.forEach(function(e){var t=n.router.urlService.rules;t.rules().filter(y("state",e)).forEach(function(e){return t.removeRule(e)}),delete n.states[e.name]}),o},e.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var n=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",n.map(function(e){return e.self}))}),n},e.prototype.get=function(e,t){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return n.states[e].self});var r=this.matcher.find(e,t);return r&&r.self||null},e.prototype.decorator=function(e,t){return this.builder.builder(e,t)},e}();(jt=g.TransitionHookPhase||(g.TransitionHookPhase={}))[jt.CREATE=0]="CREATE",jt[jt.BEFORE=1]="BEFORE",jt[jt.RUN=2]="RUN",jt[jt.SUCCESS=3]="SUCCESS",jt[jt.ERROR=4]="ERROR",(Ht=g.TransitionHookScope||(g.TransitionHookScope={}))[Ht.TRANSITION=0]="TRANSITION",Ht[Ht.STATE=1]="STATE";var Bt={current:z,transition:null,traceData:{},bind:null},Wt=function(){function o(e,t,n,r){var i=this;this.transition=e,this.stateContext=t,this.registeredHook=n,this.options=r,this.isSuperseded=function(){return i.type.hookPhase===g.TransitionHookPhase.RUN&&!i.options.transition.isActive()},this.options=te(r,Bt),this.type=n.eventType}return o.chain=function(e,t){return e.reduce(function(e,t){return e.then(function(){return t.invokeHook()})},t||V.$q.when())},o.invokeHooks=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].invokeHook();if(R(r)){var i=e.slice(n+1);return o.chain(i,r).then(t)}}return t()},o.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},o.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},o.prototype.invokeHook=function(){var t=this,n=this.registeredHook;if(!n._deregistered){var e=this.getNotCurrentRejection();if(e)return e;var r=this.options;lt.traceHookInvocation(this,this.transition,r);var i=function(e){return n.eventType.getErrorHandler(t)(e)},o=function(e){return n.eventType.getResultHandler(t)(e)};try{var a=n.callback.call(r.bind,t.transition,t.stateContext);return!this.type.synchronous&&R(a)?a.catch(function(e){return Ve.normalize(e).toPromise()}).then(o,i):o(a)}catch(e){return i(Ve.normalize(e))}finally{n.invokeLimit&&++n.invokeCount>=n.invokeLimit&&n.deregister()}}},o.prototype.handleHookResult=function(e){var t=this,n=this.getNotCurrentRejection();return n||(R(e)?e.then(function(e){return t.handleHookResult(e)}):(lt.traceHookResult(e,this.transition,this.options),!1===e?Ve.aborted("Hook aborted transition").toPromise():c($t)(e)?Ve.redirected(e).toPromise():void 0))},o.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?Ve.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?Ve.aborted().toPromise():this.isSuperseded()?Ve.superseded(this.options.current()).toPromise():void 0},o.prototype.toString=function(){var e=this.options,t=this.registeredHook;return(C("traceData.hookType")(e)||"internal")+" context: "+(C("traceData.context.state.name")(e)||C("traceData.context")(e)||"unknown")+", "+Le(200,Ne(t.callback))},o.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},o.LOG_REJECTED_RESULT=function(t){return function(e){R(e)&&e.catch(function(e){return t.logError(Ve.normalize(e))})}},o.LOG_ERROR=function(t){return function(e){return t.logError(e)}},o.REJECT_ERROR=function(e){return function(e){return Pe(e)}},o.THROW_ERROR=function(e){return function(e){throw e}},o}();function Gt(e,t,n){var i=O(t)?[t]:t;return!!(D(i)?i:function(e){for(var t=i,n=0;n<t.length;n++){var r=new Me(t[n]);if(r&&r.matches(e.name)||!r&&t[n]===e.name)return!0}return!1})(e,n)}var Kt=function(){function e(e,t,n,r,i,o){void 0===o&&(o={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=r,this.removeHookFromRegistry=i,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}return e.prototype._matchingNodes=function(e,t,n){if(!0===t)return e;var r=e.filter(function(e){return Gt(e.state,t,n)});return r.length?r:null},e.prototype._getDefaultMatchCriteria=function(){return le(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(o,a){var s=this,u=Y(this._getDefaultMatchCriteria(),this.matchCriteria);return de(this.tranSvc._pluginapi._getPathTypes()).reduce(function(e,t){var n=t.scope===g.TransitionHookScope.STATE,r=o[t.name]||[],i=n?r:[De(r)];return e[t.name]=s._matchingNodes(i,u[t.name],a),e},{})},e.prototype.matches=function(e,t){var n=this._getMatchingNodes(e,t);return de(n).every(q)?n:null},e.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},e}();function Qt(e,i,o){var a=(e._registeredHooks=e._registeredHooks||{})[o.name]=[],s=Q(a);function t(e,t,n){void 0===n&&(n={});var r=new Kt(i,o,t,e,s,n);return a.push(r),r.deregister.bind(r)}return e[o.name]=t}var Zt=function(){function e(e){this.transition=e}return e.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(fe,[]).filter(q)},e.prototype.buildHooks=function(o){var a=this.transition,e=a.treeChanges(),t=this.getMatchingHooks(o,e,a);if(!t)return[];var s={transition:a,current:a.options().current};return t.map(function(i){return i.matches(e,a)[o.criteriaMatchPath.name].map(function(e){var t=Y({bind:i.bind,traceData:{hookType:o.name,context:e}},s),n=o.criteriaMatchPath.scope===g.TransitionHookScope.STATE?e.state.self:null,r=new Wt(a,n,i,t);return{hook:i,node:e,transitionHook:r}})}).reduce(fe,[]).sort(function(i){void 0===i&&(i=!1);return function(e,t){var n=i?-1:1,r=(e.node.state.path.length-t.node.state.path.length)*n;return 0!=r?r:t.hook.priority-e.hook.priority}}(o.reverseSort)).map(function(e){return e.transitionHook})},e.prototype.getMatchingHooks=function(t,n,r){var e=t.hookPhase===g.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(e?[i]:[this.transition,i]).map(function(e){return e.getHooks(t.name)}).filter(be(A,"broken event named: "+t.name)).reduce(fe,[]).filter(function(e){return e.matches(n,r)})},e}();var Xt=v("self"),Jt=function(){function t(e,t,n){var r=this;if(this._deferred=V.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new Zt(this),this.isActive=function(){return r.router.globals.transition===r},this.router=n,!(this._targetState=t).valid())throw new Error(t.error());this._options=Y({current:p(this)},t.options()),this.$id=n.transitionService._transitionCount++;var i=_t.buildToPath(e,t);this._treeChanges=_t.treeChanges(e,i,this._options.reloadState),this.createTransitionHookRegFns();var o=this._hookBuilder.buildHooksForPhase(g.TransitionHookPhase.CREATE);Wt.invokeHooks(o,function(){return null}),this.applyViewConfigs(n)}return t.prototype.onBefore=function(e,t,n){},t.prototype.onStart=function(e,t,n){},t.prototype.onExit=function(e,t,n){},t.prototype.onRetain=function(e,t,n){},t.prototype.onEnter=function(e,t,n){},t.prototype.onFinish=function(e,t,n){},t.prototype.onSuccess=function(e,t,n){},t.prototype.onError=function(e,t,n){},t.prototype.createTransitionHookRegFns=function(){var t=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==g.TransitionHookPhase.CREATE}).forEach(function(e){return Qt(t,t.router.transitionService,e)})},t.prototype.getHooks=function(e){return this._registeredHooks[e]},t.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});_t.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},t.prototype.$from=function(){return De(this._treeChanges.from).state},t.prototype.$to=function(){return De(this._treeChanges.to).state},t.prototype.from=function(){return this.$from().self},t.prototype.to=function(){return this.$to().self},t.prototype.targetState=function(){return this._targetState},t.prototype.is=function(e){return e instanceof t?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!Gt(this.$to(),e.to,this)||e.from&&!Gt(this.$from(),e.from,this))},t.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(v("paramValues")).reduce(ne,{}))},t.prototype.paramsChanged=function(){var e=this.params("from"),n=this.params("to"),t=[].concat(this._treeChanges.to).concat(this._treeChanges.from).map(function(e){return e.paramSchema}).reduce(ge,[]).reduce(ve,[]);return vt.changed(t,e,n).reduce(function(e,t){return e[t.id]=n[t.id],e},{})},t.prototype.injector=function(t,e){void 0===e&&(e="to");var n=this._treeChanges[e];return t&&(n=_t.subPath(n,function(e){return e.state===t||e.state.name===t})),new At(n).injector()},t.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new At(this._treeChanges[e]).getTokens()},t.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=c(kt)(e)?e:new kt(e);var n="string"==typeof t?t:t.name,r=this._treeChanges.to,i=ue(r,function(e){return e.state.name===n});new At(r).addResolvables([e],i.state)},t.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},t.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},t.prototype.options=function(){return this._options},t.prototype.entering=function(){return ce(this._treeChanges.entering,v("state")).map(Xt)},t.prototype.exiting=function(){return ce(this._treeChanges.exiting,v("state")).map(Xt).reverse()},t.prototype.retained=function(){return ce(this._treeChanges.retained,v("state")).map(Xt)},t.prototype.views=function(e,t){void 0===e&&(e="entering");var n=this._treeChanges[e];return(n=t?n.filter(y("state",t)):n).map(v("views")).filter(q).reduce(fe,[])},t.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},t.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(20<++t)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(r.location="replace");var i=Y({},this.options(),e.options(),r);e=e.withOptions(i,!0);var o,a=this.router.transitionService.create(this._treeChanges.from,e),s=this._treeChanges.entering,u=a._treeChanges.entering;return _t.matching(u,s,_t.nonDynamicParams).filter(d((o=e.options().reloadState,function(e){return o&&e.state.includes[o.name]}))).forEach(function(e,t){e.resolvables=s[t].resolvables}),a},t.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&(!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length&&!Ce(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(he,!1))){var t=e.to.map(function(e){return e.paramSchema}),n=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})});return Ce(t,n[0],n[1]).map(function(e){var t=e[0],n=e[1],r=e[2];return vt.changed(t,n,r)}).reduce(fe,[])}},t.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(he,!1)},t.prototype.ignored=function(){return!!this._ignoredReason()},t.prototype._ignoredReason=function(){var e=this.router.globals.transition,r=this._options.reloadState,t=function(e,t){if(e.length!==t.length)return!1;var n=_t.matching(e,t);return e.length===n.filter(function(e){return!r||!e.state.includes[r.name]}).length},n=this.treeChanges(),i=e&&e.treeChanges();return i&&t(i.to,n.to)&&t(i.exiting,n.exiting)?"SameAsPending":0===n.exiting.length&&0===n.entering.length&&t(n.from,n.to)?"SameAsCurrent":void 0},t.prototype.run=function(){var t=this,n=Wt.runAllHooks,r=function(e){return t._hookBuilder.buildHooksForPhase(e)},e=r(g.TransitionHookPhase.BEFORE);return Wt.invokeHooks(e,function(){var e=t.router.globals;return e.lastStartedTransitionId=t.$id,e.transition=t,e.transitionHistory.enqueue(t),lt.traceTransitionStart(t),V.$q.when(void 0)}).then(function(){var e=r(g.TransitionHookPhase.RUN);return Wt.invokeHooks(e,function(){return V.$q.when(void 0)})}).then(function(){lt.traceSuccess(t.$to(),t),t.success=!0,t._deferred.resolve(t.to()),n(r(g.TransitionHookPhase.SUCCESS))},function(e){lt.traceError(e,t),t.success=!1,t._deferred.reject(e),t._error=e,n(r(g.TransitionHookPhase.ERROR))}),this.promise},t.prototype.valid=function(){return!this.error()||void 0!==this.success},t.prototype.abort=function(){b(this.success)&&(this._aborted=!0)},t.prototype.error=function(){var e=this.$to();if(e.self.abstract)return Ve.invalid("Cannot transition to abstract state '"+e.name+"'");var t=e.parameters(),n=this.params(),r=t.filter(function(e){return!e.validates(n[e.id])});if(r.length){var i=r.map(function(e){return"["+e.id+":"+qe(n[e.id])+"]"}).join(", "),o="The following parameter values are not valid for state '"+e.name+"': "+i;return Ve.invalid(o)}return!1===this.success?this._error:void 0},t.prototype.toString=function(){var e=this.from(),t=this.to(),n=function(e){return null!==e["#"]&&void 0!==e["#"]?e:oe(e,["#"])};return"Transition#"+this.$id+"( '"+(T(e)?e.name:e)+"'"+qe(n(this._treeChanges.from.map(v("paramValues")).reduce(ne,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(T(t)?t.name:t)+"'"+qe(n(this.params()))+" )"},t.diToken=t}();function en(e,t){var n=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return r+n[0]+t.type.pattern.source+n[1]}var tn=Xe("/"),nn={state:{params:{}},strict:!0,caseInsensitive:!0},rn=function(){function m(o,a,e,t){var s=this;this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=t=te(t,nn),this.pattern=o;for(var n,r,i,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=[],d=0,p=function(e){if(!m.nameValidator.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+o+"'");if(ue(s._params,y("id",e)))throw new Error("Duplicate parameter name '"+e+"' in pattern '"+o+"'")},h=function(e,t){var n,r=e[2]||e[3],i=t?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:r,regexp:i,segment:o.substring(d,e.index),type:i?a.type(i)||(n=i,W(a.type(t?"query":"path"),{pattern:new RegExp(n,s.config.caseInsensitive?"i":void 0)})):null}};(n=u.exec(o))&&!(0<=(r=h(n,!1)).segment.indexOf("?"));)p(r.id),this._params.push(e.fromPath(r.id,r.type,t.state)),this._segments.push(r.segment),c.push([r.segment,De(this._params)]),d=u.lastIndex;var f=(i=o.substring(d)).indexOf("?");if(0<=f){var g=i.substring(f);if(i=i.substring(0,f),0<g.length)for(d=0;n=l.exec(g);)p((r=h(n,!0)).id),this._params.push(e.fromSearch(r.id,r.type,t.state)),d=u.lastIndex}this._segments.push(i),this._compiled=c.map(function(e){return en.apply(null,e)}).concat(en(i))}return m.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},m.pathSegmentsAndParams=function(e){return Ce(e._segments,e._params.filter(function(e){return e.location===g.DefType.PATH}).concat(void 0)).reduce(fe,[]).filter(function(e){return""!==e&&k(e)})},m.queryParams=function(e){return e._params.filter(function(e){return e.location===g.DefType.SEARCH})},m.compare=function(e,t){var n=function(e){return e._cache.weights=e._cache.weights||function(e){return e._cache.segments=e._cache.segments||e._cache.path.map(m.pathSegmentsAndParams).reduce(fe,[]).reduce(Je,[]).map(function(e){return O(e)?tn(e):e}).reduce(fe,[])}(e).map(function(e){return"/"===e?1:O(e)?2:e instanceof vt?3:void 0})},r=n(e),i=n(t);!function(e,t,n){for(var r=Math.max(e.length,t.length);e.length<r;)e.push(n);for(;t.length<r;)t.push(n)}(r,i,0);var o,a,s=Ce(r,i);for(a=0;a<s.length;a++)if(0!=(o=s[a][0]-s[a][1]))return o;return 0},m.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},m.prototype.isRoot=function(){return this._cache.path[0]===this},m.prototype.toString=function(){return this.pattern},m.prototype.exec=function(e,r,t,n){var i=this;void 0===r&&(r={}),void 0===n&&(n={});var o=function(e,t,n){return e[t]=e[t]||n()}(this._cache,"pattern",function(){return new RegExp(["^",ye(i._cache.path.map(v("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)}).exec(e);if(!o)return null;var a,s=this.parameters(),u=s.filter(function(e){return!e.isSearch()}),l=s.filter(function(e){return e.isSearch()}),c=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),d={};if(c!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var p=0;p<c;p++){for(var h=u[p],f=o[p+1],g=0;g<h.replace.length;g++)h.replace[g].from===f&&(f=h.replace[g].to);f&&!0===h.array&&(void 0,f=ce(ce((a=function(e){return e.split("").reverse().join("")})(f).split(/-(?!\\)/),a),function(e){return e.replace(/\\-/g,"-")}).reverse()),k(f)&&(f=h.type.decode(f)),d[h.id]=h.value(f)}return l.forEach(function(e){for(var t=r[e.id],n=0;n<e.replace.length;n++)e.replace[n].from===t&&(t=e.replace[n].to);k(t)&&(t=e.type.decode(t)),d[e.id]=e.value(t)}),t&&(d["#"]=t),d},m.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:ye(this._cache.path.map(function(e){return e._params}))},m.prototype.parameter=function(r,e){var i=this;void 0===e&&(e={});var t=this._cache.parent;return function(){for(var e=0,t=i._params;e<t.length;e++){var n=t[e];if(n.id===r)return n}}()||!1!==e.inherit&&t&&t.parameter(r,e)||null},m.prototype.validates=function(t){return t=t||{},this.parameters().filter(function(e){return t.hasOwnProperty(e.id)}).map(function(e){return function(e,t){return!e||e.validates(t)}(e,t[e.id])}).reduce(pe,!0)},m.prototype.format=function(a){void 0===a&&(a={});var e=this._cache.path,t=e.map(m.pathSegmentsAndParams).reduce(fe,[]).map(function(e){return O(e)?e:r(e)}),n=e.map(m.queryParams).reduce(fe,[]).map(r);if(t.concat(n).filter(function(e){return!1===e.isValid}).length)return null;function r(e){var t=e.value(a[e.id]),n=e.validates(t),r=e.isDefaultValue(t),i=!!r&&e.squash,o=e.type.encode(t);return{param:e,value:t,isValid:n,isDefaultValue:r,squash:i,encoded:o}}var i=t.reduce(function(e,t){if(O(t))return e+t;var n=t.squash,r=t.encoded,i=t.param;return!0===n?e.match(/\/$/)?e.slice(0,-1):e:O(n)?e+n:!1!==n?e:null==r?e:A(r)?e+ce(r,m.encodeDashes).join("-"):i.raw?e+r:e+encodeURIComponent(r)},""),o=n.map(function(e){var t=e.param,n=e.squash,r=e.encoded,i=e.isDefaultValue;if(!(null==r||i&&!1!==n)&&(A(r)||(r=[r]),0!==r.length))return t.raw||(r=ce(r,encodeURIComponent)),r.map(function(e){return t.id+"="+e})}).filter(q).reduce(fe,[]).join("&");return i+(o?"?"+o:"")+(a["#"]?"#"+a["#"]:"")},m.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,m}(),on=function(){return(on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},an=function(){function e(e){this.router=e}return e.prototype.fromConfig=function(e,t,n){return new vt(e,t,g.DefType.CONFIG,this.router.urlService.config,n)},e.prototype.fromPath=function(e,t,n){return new vt(e,t,g.DefType.PATH,this.router.urlService.config,n)},e.prototype.fromSearch=function(e,t,n){return new vt(e,t,g.DefType.SEARCH,this.router.urlService.config,n)},e}(),sn=function(){function e(e){var r=this;this.router=e,this.paramFactory=new an(this.router),this.caseInsensitive=function(e){return r.router.urlService.config.caseInsensitive(e)},this.defaultSquashPolicy=function(e){return r.router.urlService.config.defaultSquashPolicy(e)},this.strictMode=function(e){return r.router.urlService.config.strictMode(e)},this.type=function(e,t,n){return r.router.urlService.config.type(e,t,n)||r},Y(this,{UrlMatcher:rn,Param:vt})}return e.prototype.compile=function(e,t){var n=this.router.urlService.config,r=t&&!t.state&&t.params;t=r?on({state:{params:r}},t):t;var i={strict:n._isStrictMode,caseInsensitive:n._isCaseInsensitive};return new rn(e,n.paramTypes,this.paramFactory,Y(i,t))},e.prototype.isMatcher=function(n){if(!T(n))return!1;var r=!0;return N(rn.prototype,function(e,t){D(e)&&(r=r&&k(n[t])&&D(n[t]))}),r},e.prototype.$get=function(){var e=this.router.urlService.config;return e.paramTypes.enqueue=!1,e.paramTypes._flushTypeQueue(),this},e}(),un=function(){function e(e){this.router=e}return e.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},e.prototype.create=function(e,t){var n=this,r=Yt.isState,i=f([[O,function(e){return i(n.compile(e))}],[c(rn),function(e){return n.fromUrlMatcher(e,t)}],[r,function(e){return n.fromState(e,n.router)}],[c(RegExp),function(e){return n.fromRegExp(e,t)}],[D,function(e){return new ln(e,t)}]]),o=i(e);if(!o)throw new Error("invalid 'what' in when()");return o},e.prototype.fromUrlMatcher=function(n,t){var e=t;O(t)&&(t=this.router.urlMatcherFactory.compile(t)),c(rn)(t)&&(e=function(e){return t.format(e)});var r={urlMatcher:n,matchPriority:function(t){var e=n.parameters().filter(function(e){return e.isOptional});return e.length?e.filter(function(e){return t[e.id]}).length/e.length:1e-6},type:"URLMATCHER"};return Y(new ln(function(e){var t=n.exec(e.path,e.search,e.hash);return n.validates(t)&&t},e),r)},e.prototype.fromState=function(r,i){var e={state:r,type:"STATE"};return Y(this.fromUrlMatcher(r.url,function(e){var t=i.stateService,n=i.globals;t.href(r,e)!==t.href(n.current,n.params)&&t.transitionTo(r,e,{inherit:!0,source:"url"})}),e)},e.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=O(e)?function(n){return e.replace(/\$(\$|\d{1,2})/,function(e,t){return n["$"===t?0:Number(t)]})}:e,r={regexp:t,type:"REGEXP"};return Y(new ln(function(e){return t.exec(e.path)},n),r)},e.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return k(t[e])})},e}(),ln=function(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||q};var cn,dn=function(){function e(e){var r=this;this.router=e,this.sync=function(e){return r.router.urlService.sync(e)},this.listen=function(e){return r.router.urlService.listen(e)},this.deferIntercept=function(e){return r.router.urlService.deferIntercept(e)},this.match=function(e){return r.router.urlService.match(e)},this.initial=function(e){return r.router.urlService.rules.initial(e)},this.otherwise=function(e){return r.router.urlService.rules.otherwise(e)},this.removeRule=function(e){return r.router.urlService.rules.removeRule(e)},this.rule=function(e){return r.router.urlService.rules.rule(e)},this.rules=function(){return r.router.urlService.rules.rules()},this.sort=function(e){return r.router.urlService.rules.sort(e)},this.when=function(e,t,n){return r.router.urlService.rules.when(e,t,n)},this.urlRuleFactory=new un(e)}return e.prototype.update=function(e){var t=this.router.locationService;e?this.location=t.url():t.url()!==this.location&&t.url(this.location,!0)},e.prototype.push=function(e,t,n){var r=n&&!!n.replace;this.router.urlService.url(e.format(t||{}),r)},e.prototype.href=function(e,t,n){var r=e.format(t);if(null==r)return null;n=n||{absolute:!1};var i=this.router.urlService.config,o=i.html5Mode();if(o||null===r||(r="#"+i.hashPrefix()+r),r=function(e,t,n,r){return"/"===r?e:t?We(r)+e:n?r.slice(1)+e:e}(r,o,n.absolute,i.baseHref()),!n.absolute||!r)return r;var a=!o&&r?"/":"",s=i.port(),u=80===s||443===s?"":":"+s;return[i.protocol(),"://",i.host(),u,a,r].join("")},Object.defineProperty(e.prototype,"interceptDeferred",{get:function(){return this.router.urlService.interceptDeferred},enumerable:!0,configurable:!0}),e}(),pn=function(){function u(e){var n=this;this.router=e,this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIView:function(t){return ue(n._uiViews,function(e){return n.router.$id+"."+e.id===t})},_registeredUIViews:function(){return n._uiViews},_activeViewConfigs:function(){return n._viewConfigs},_onSync:function(e){return n._listeners.push(e),function(){return Q(n._listeners,e)}}}}return u.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var n=t.split("@"),r=n[0]||"$default",i=O(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);o&&(i=o[1],r=o[2]),"!"===r.charAt(0)&&(r=r.substr(1),i="");/^(\^(?:\.\^)*)$/.exec(i)?i=i.split(".").reduce(function(e,t){return e.parent},e).name:"."===i&&(i=e.name);return{uiViewName:r,uiViewContextAnchor:i}},u.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},u.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},u.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+t.$type);var r=n(e,t);return A(r)?r:[r]},u.prototype.deactivateViewConfig=function(e){lt.traceViewServiceEvent("<- Removing",e),Q(this._viewConfigs,e)},u.prototype.activateViewConfig=function(e){lt.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},u.prototype.sync=function(){var n=this,r=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(ke,{});function i(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var o=l(function(e,t,n,r){return t*(e(n)-e(r))}),e=this._uiViews.sort(o(function(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)},1)).map(function(e){var t=n._viewConfigs.filter(u.matches(r,e));return 1<t.length&&t.sort(o(i,-1)),{uiView:e,viewConfig:t[0]}}),t=e.map(function(e){return e.viewConfig}),a=this._viewConfigs.filter(function(e){return!G(t,e)}).map(function(e){return{uiView:void 0,viewConfig:e}});e.forEach(function(e){-1!==n._uiViews.indexOf(e.uiView)&&e.uiView.configUpdated(e.viewConfig)});var s=e.concat(a);this._listeners.forEach(function(e){return e(s)}),lt.traceViewSync(s)},u.prototype.registerUIView=function(t){lt.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn&&e.$type===t.$type}).length&&lt.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(lt.traceViewServiceUIViewEvent("<- Deregistering",t),Q(e)(t)):lt.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},u.prototype.available=function(){return this._uiViews.map(v("fqn"))},u.prototype.active=function(){return this._uiViews.filter(v("$config")).map(v("name"))},u.matches=function(s,u){return function(e){if(u.$type!==e.viewDecl.$type)return!1;var t=e.viewDecl,n=t.$uiViewName.split("."),r=u.fqn.split(".");if(!U(n,r.slice(0-n.length)))return!1;var i=1-n.length||void 0,o=r.slice(0,i).join("."),a=s[o].creationContext;return t.$uiViewContextAnchor===(a&&a.name)}},u}(),hn=function(){function e(){this.params=new wt,this.lastStartedTransitionId=-1,this.transitionHistory=new Re([],1),this.successfulTransitions=new Re([],1)}return e.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},e}();function fn(e){if(!(D(e)||O(e)||c($t)(e)||$t.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return D(e)?e:p(e)}cn=function(e,t){var n=function(e,t){return(t.priority||0)-(e.priority||0)}(e,t);return 0!==n?n:0!==(n=function(e,t){var n={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(n[e.type]||0)-(n[t.type]||0)}(e,t))?n:0!==(n=function(e,t){return e.urlMatcher&&t.urlMatcher?rn.compare(e.urlMatcher,t.urlMatcher):0}(e,t))?n:function(e,t){var n={STATE:!0,URLMATCHER:!0};return n[e.type]&&n[t.type]?0:(e.$id||0)-(t.$id||0)}(e,t)};var gn=function(){function e(e){this.router=e,this._sortFn=cn,this._rules=[],this._id=0,this.urlRuleFactory=new un(e)}return e.prototype.dispose=function(e){this._rules=[],delete this._otherwiseFn},e.prototype.initial=function(e){var t=fn(e);this.rule(this.urlRuleFactory.create(function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)},t))},e.prototype.otherwise=function(e){var t=fn(e);this._otherwiseFn=this.urlRuleFactory.create(p(!0),t),this._sorted=!1},e.prototype.removeRule=function(e){Q(this._rules,e)},e.prototype.rule=function(e){var t=this;if(!un.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},e.prototype.rules=function(){return this.ensureSorted(),this._rules.concat(this._otherwiseFn?[this._otherwiseFn]:[])},e.prototype.sort=function(e){for(var t=this.stableSort(this._rules,this._sortFn=e||this._sortFn),n=0,r=0;r<t.length;r++)t[r]._group=n,r<t.length-1&&0!==this._sortFn(t[r],t[r+1])&&n++;this._rules=t,this._sorted=!0},e.prototype.ensureSorted=function(){this._sorted||this.sort()},e.prototype.stableSort=function(e,r){var t=e.map(function(e,t){return{elem:e,idx:t}});return t.sort(function(e,t){var n=r(e.elem,t.elem);return 0===n?e.idx-t.idx:n}),t.map(function(e){return e.elem})},e.prototype.when=function(e,t,n){var r=this.urlRuleFactory.create(e,t);return k(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},e}(),mn=function(){function e(e){var t=this;this.router=e,this.paramTypes=new yt,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.dispose=function(){return t.paramTypes.dispose()},this.baseHref=function(){return t.router.locationConfig.baseHref()},this.hashPrefix=function(e){return t.router.locationConfig.hashPrefix(e)},this.host=function(){return t.router.locationConfig.host()},this.html5Mode=function(){return t.router.locationConfig.html5Mode()},this.port=function(){return t.router.locationConfig.port()},this.protocol=function(){return t.router.locationConfig.protocol()}}return e.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=k(e)?e:this._isCaseInsensitive},e.prototype.defaultSquashPolicy=function(e){if(k(e)&&!0!==e&&!1!==e&&!O(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=k(e)?e:this._defaultSquashPolicy},e.prototype.strictMode=function(e){return this._isStrictMode=k(e)?e:this._isStrictMode},e.prototype.type=function(e,t,n){var r=this.paramTypes.type(e,t,n);return k(t)?this:r},e}(),vn=function(){function e(e){var r=this;this.router=e,this.interceptDeferred=!1,this.rules=new gn(this.router),this.config=new mn(this.router),this.url=function(e,t,n){return r.router.locationService.url(e,t,n)},this.path=function(){return r.router.locationService.path()},this.search=function(){return r.router.locationService.search()},this.hash=function(){return r.router.locationService.hash()},this.onChange=function(e){return r.router.locationService.onChange(e)}}return e.prototype.dispose=function(){this.listen(!1),this.rules.dispose()},e.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},e.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this.router,n=t.urlService,r=t.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(i);f([[O,function(e){return n.url(e,!0)}],[$t.isDef,function(e){return r.go(e.state,e.params,e.options)}],[c($t),function(e){return r.go(e.state(),e.params(),e.options())}]])(o&&o.rule.handler(o.match,i,this.router))}},e.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopListeningFn=this._stopListeningFn||this.router.urlService.onChange(function(e){return t.sync(e)});this._stopListeningFn&&this._stopListeningFn(),delete this._stopListeningFn},e.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},e.prototype.match=function(e){var t=this;e=Y({path:"",search:{},hash:""},e);for(var n,r,i,o=this.rules.rules(),a=0;a<o.length&&(!n||n.rule._group===o[a]._group);a++){var s=(r=o[a],void 0,(i=r.match(e,t.router))&&{match:i,rule:r,weight:r.matchPriority(i)});n=!n||s&&s.weight>n.weight?s:n}return n},e}(),yn=0,wn=I("LocationServices",["url","path","search","hash","onChange"]),bn=I("LocationConfig",["port","protocol","host","baseHref","html5Mode","hashPrefix"]),$n=function(){function e(e,t){void 0===e&&(e=wn),void 0===t&&(t=bn),this.locationService=e,this.locationConfig=t,this.$id=yn++,this._disposed=!1,this._disposables=[],this.trace=lt,this.viewService=new pn(this),this.globals=new hn,this.transitionService=new Un(this),this.urlMatcherFactory=new sn(this),this.urlRouter=new dn(this),this.urlService=new vn(this),this.stateRegistry=new zt(this),this.stateService=new qn(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlService),this.disposable(e),this.disposable(t)}return e.prototype.disposable=function(e){this._disposables.push(e)},e.prototype.dispose=function(e){var t=this;e&&D(e.dispose)?e.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),Q(t._disposables,e)}catch(e){}}))},e.prototype.plugin=function(e,t){void 0===t&&(t={});var n=new e(this,t);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},e.prototype.getPlugin=function(e){return e?this._plugins[e]:de(this._plugins)},e}();function _n(t){t.addResolvable(kt.fromData($n,t.router),""),t.addResolvable(kt.fromData(Jt,t),""),t.addResolvable(kt.fromData("$transition$",t),""),t.addResolvable(kt.fromData("$stateParams",t.params()),""),t.entering().forEach(function(e){t.addResolvable(kt.fromData("$state$",e),e)})}var Sn=G(["$transition$",Jt]),Cn=function(e){var t=de(e.treeChanges()).reduce(fe,[]).reduce(ve,[]),n=function(e){return Sn(e.token)?kt.fromData(e.token,null):e};t.forEach(function(e){e.resolvables=e.resolvables.map(n)})},kn=function(t){var e=t.to().redirectTo;if(e){var n=t.router.stateService;return D(e)?V.$q.when(e(t)).then(r):r(e)}function r(e){if(e)return e instanceof $t?e:O(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}};function Dn(n){return function(e,t){return(0,t.$$state()[n])(e,t)}}var xn=Dn("onExit"),On=Dn("onRetain"),Tn=Dn("onEnter"),An=function(e){return new At(e.treeChanges().to).resolvePath("EAGER",e).then(z)},En=function(e,t){return new At(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(z)},Pn=function(e){return new At(e.treeChanges().to).resolvePath("LAZY",e).then(z)},Mn=function(e){var t=V.$q,n=e.views("entering");if(n.length)return t.all(n.map(function(e){return t.when(e.load())})).then(z)},Rn=function(e){var t=e.views("entering"),n=e.views("exiting");if(t.length||n.length){var r=e.router.viewService;n.forEach(function(e){return r.deactivateViewConfig(e)}),t.forEach(function(e){return r.activateViewConfig(e)}),r.sync()}},In=function(e){var t=e.router.globals,n=function(){t.transition===e&&(t.transition=null)};e.onSuccess({},function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,xe(e.params(),t.params)},{priority:1e4}),e.promise.then(n,n)},Vn=function(e){var t=e.options(),n=e.router.stateService,r=e.router.urlRouter;if("url"!==t.source&&t.location&&n.$current.navigable){var i={replace:"replace"===t.location};r.push(n.$current.navigable.url,n.params,i)}r.update(!0)},Ln=function(a){var s=a.router;var e=a.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(e){return Fn(a,e)});return V.$q.all(e).then(function(){if("url"!==a.originalTransition().options().source){var e=a.targetState();return s.stateService.target(e.identifier(),e.params(),e.options())}var t=s.urlService,n=t.match(t.parts()),r=n&&n.rule;if(r&&"STATE"===r.type){var i=r.state,o=n.match;return s.stateService.target(i,o,a.options())}s.urlService.sync()})};function Fn(t,n){var r=n.$$state().lazyLoad,e=r._promise;if(!e){e=r._promise=V.$q.when(r(t,n)).then(function(e){e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)});return e}).then(function(e){return delete n.lazyLoad,delete n.$$state().lazyLoad,delete r._promise,e},function(e){return delete r._promise,V.$q.reject(e)})}return e}var jn=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=Wt.HANDLE_RESULT),void 0===a&&(a=Wt.REJECT_ERROR),void 0===s&&(s=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s};function Hn(e){var t=e._ignoredReason();if(t){lt.traceTransitionIgnored(e);var n=e.router.globals.transition;return"SameAsCurrent"===t&&n&&n.abort(),Ve.ignored().toPromise()}}function Nn(e){if(!e.valid())throw new Error(e.error().toString())}var Yn={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},Un=function(){function e(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=B(p(this),{},p(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),e.globals.successfulTransitions.onEvict(Cn)}return e.prototype.onCreate=function(e,t,n){},e.prototype.onBefore=function(e,t,n){},e.prototype.onStart=function(e,t,n){},e.prototype.onExit=function(e,t,n){},e.prototype.onRetain=function(e,t,n){},e.prototype.onEnter=function(e,t,n){},e.prototype.onFinish=function(e,t,n){},e.prototype.onSuccess=function(e,t,n){},e.prototype.onError=function(e,t,n){},e.prototype.dispose=function(e){de(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,Q(t,e)})})},e.prototype.create=function(e,t){return new Jt(e,t,this._router)},e.prototype._defineCoreEvents=function(){var e=g.TransitionHookPhase,t=Wt,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=g.TransitionHookScope.STATE,t=g.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=Wt.HANDLE_RESULT),void 0===a&&(a=Wt.REJECT_ERROR),void 0===s&&(s=!1);var u=new jn(e,t,n,r,i,o,a,s);this._eventTypes.push(u),Qt(this,this,u)},e.prototype._getEvents=function(t){return(k(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0==n?e.hookOrder-t.hookOrder:n})},e.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=function(e){return e.onCreate({},_n)}(this),e.ignored=function(e){return e.onBefore({},Hn,{priority:-9999})}(this),e.invalid=function(e){return e.onBefore({},Nn,{priority:-1e4})}(this),e.redirectTo=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},kn)}(this),e.onExit=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},xn)}(this),e.onRetain=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},On)}(this),e.onEnter=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},Tn)}(this),e.eagerResolve=function(e){return e.onStart({},An,{priority:1e3})}(this),e.lazyResolve=function(e){return e.onEnter({entering:p(!0)},En,{priority:1e3})}(this),e.resolveAll=function(e){return e.onFinish({},Pn,{priority:1e3})}(this),e.loadViews=function(e){return e.onFinish({},Mn)}(this),e.activateViews=function(e){return e.onSuccess({},Rn)}(this),e.updateGlobals=function(e){return e.onCreate({},In)}(this),e.updateUrl=function(e){return e.onSuccess({},Vn,{priority:9999})}(this),e.lazyLoad=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},Ln)}(this)},e}(),qn=function(){function n(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof Ve?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var t=Object.keys(n.prototype).filter(d(G(["current","$current","params","transition"])));B(p(n.prototype),this,p(this),t)}return Object.defineProperty(n.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.defaultErrorHandler(z),this.invalidCallbacks=[]},n.prototype._handleInvalidTargetState=function(e,n){var r=this,i=_t.makeTargetState(this.router.stateRegistry,e),t=this.router.globals,o=function(){return t.transitionHistory.peekTail()},a=o(),s=new Re(this.invalidCallbacks.slice()),u=new At(e).injector(),l=function(e){if(e instanceof $t){var t=e;return(t=r.target(t.identifier(),t.params(),t.options())).valid()?o()!==a?Ve.superseded().toPromise():r.transitionTo(t.identifier(),t.params(),t.options()):Ve.invalid(t.error()).toPromise()}};return function t(){var e=s.dequeue();return void 0===e?Ve.invalid(n.error()).toPromise():V.$q.when(e(n,i,u)).then(l).then(function(e){return e||t()})}()},n.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){Q(this.invalidCallbacks)(e)}.bind(this)},n.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!k(e)||e,inherit:!1,notify:!1})},n.prototype.go=function(e,t,n){var r=te(n,{relative:this.$current,inherit:!0},Yn);return this.transitionTo(e,t,r)},n.prototype.target=function(e,t,n){if(void 0===n&&(n={}),T(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(O(n.reload)?n.reload:n.reload.name)+"'");return new $t(this.router.stateRegistry,e,t,n)},n.prototype.getCurrentPath=function(){var e=this,t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new bt(e.router.stateRegistry.root())]},n.prototype.transitionTo=function(e,t,n){var o=this;void 0===t&&(t={}),void 0===n&&(n={});var a=this.router,s=a.globals;n=te(n,Yn);n=Y(n,{current:function(){return s.transition}});var r=this.target(e,t,n),i=this.getCurrentPath();if(!r.exists())return this._handleInvalidTargetState(i,r);if(!r.valid())return Pe(r.error());var u=function(i){return function(e){if(e instanceof Ve){var t=a.globals.lastStartedTransitionId<=i.$id;if(e.type===g.RejectType.IGNORED)return t&&a.urlRouter.update(),V.$q.when(s.current);var n=e.detail;if(e.type===g.RejectType.SUPERSEDED&&e.redirected&&n instanceof $t){var r=i.redirect(n);return r.run().catch(u(r))}if(e.type===g.RejectType.ABORTED)return t&&a.urlRouter.update(),V.$q.reject(e)}return o.defaultErrorHandler()(e),V.$q.reject(e)}},l=this.router.transitionService.create(i,r),c=l.run().catch(u(l));return Ee(c),Y(c,{transition:l})},n.prototype.is=function(e,t,n){n=te(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(e,n.relative);if(k(r)){if(this.$current!==r)return!1;if(!t)return!0;var i=r.parameters({inherit:!0,matchingKeys:t});return vt.equals(i,vt.values(i,t),this.params)}},n.prototype.includes=function(e,t,n){n=te(n,{relative:this.$current});var r=O(e)&&Me.fromString(e);if(r){if(!r.matches(this.$current.name))return!1;e=this.$current.name}var i=this.router.stateRegistry.matcher.find(e,n.relative),o=this.$current.includes;if(k(i)){if(!k(o[i.name]))return!1;if(!t)return!0;var a=i.parameters({inherit:!0,matchingKeys:t});return vt.equals(a,vt.values(a,t),this.params)}},n.prototype.href=function(e,t,n){n=te(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),t=t||{};var r=this.router.stateRegistry.matcher.find(e,n.relative);if(!k(r))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,r));var i=r&&n.lossy?r.navigable:r;return i&&void 0!==i.url&&null!==i.url?this.router.urlRouter.href(i.url,t,{absolute:n.absolute}):null},n.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},n.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},n.prototype.lazyLoad=function(e,t){var n=this.get(e);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+e);var r=this.getCurrentPath(),i=_t.makeTargetState(this.router.stateRegistry,r);return Fn(t=t||this.router.transitionService.create(r,i),n)},n}(),zn={when:function(n){return new Promise(function(e,t){return e(n)})},reject:function(n){return new Promise(function(e,t){t(n)})},defer:function(){var n={};return n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n},all:function(e){if(A(e))return Promise.all(e);if(T(e)){var t=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})});return zn.all(t).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})}}},Bn={},Wn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Gn=/([^\s,]+)/g,Kn={get:function(e){return Bn[e]},has:function(e){return null!=Kn.get(e)},invoke:function(e,t,n){var r=Y({},Bn,n||{}),i=Kn.annotate(e),o=be(function(e){return r.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),a=i.filter(o).map(function(e){return r[e]});return D(e)?e.apply(t,a):e.slice(-1)[0].apply(t,a)},annotate:function(e){if(!M(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(A(e))return e.slice(0,-1);var t=e.toString().replace(Wn,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(Gn)||[]}},Qn=function(e,t){var n=t[0],r=t[1];return e.hasOwnProperty(n)?A(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r,e},Zn=function(e){return e.split("&").filter(q).map(Qe).reduce(Qn,{})};function Xn(e){var t=function(e){return e||""},n=Ge(e).map(t),r=n[0],i=n[1],o=Ke(r).map(t);return{path:o[0],search:o[1],hash:i,url:e}}var Jn=function(e){var t=e.path(),n=e.search(),r=e.hash(),i=Object.keys(n).map(function(t){var e=n[t];return(A(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(fe,[]).join("&");return t+(i?"?"+i:"")+(r?"#"+r:"")};function er(r,i,o,a){return function(e){var t=e.locationService=new o(e),n=e.locationConfig=new a(e,i);return{name:r,service:t,configuration:n,dispose:function(e){e.dispose(t),e.dispose(n)}}}}var tr,nr,rr,ir=function(){function e(e,t){var n=this;this.fireAfterUpdate=t,this._listeners=[],this._listener=function(t){return n._listeners.forEach(function(e){return e(t)})},this.hash=function(){return Xn(n._get()).hash},this.path=function(){return Xn(n._get()).path},this.search=function(){return Zn(Xn(n._get()).search)},this._location=L.location,this._history=L.history}return e.prototype.url=function(t,e){return void 0===e&&(e=!0),k(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate&&this._listeners.forEach(function(e){return e({url:t})})),Jn(this)},e.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return Q(t._listeners,e)}},e.prototype.dispose=function(e){ee(this._listeners)},e}(),or=(tr=function(e,t){return(tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}tr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ar=function(n){function e(e){var t=n.call(this,e,!1)||this;return L.addEventListener("hashchange",t._listener,!1),t}return or(e,n),e.prototype._get=function(){return Ze(this._location.hash)},e.prototype._set=function(e,t,n,r){this._location.hash=n},e.prototype.dispose=function(e){n.prototype.dispose.call(this,e),L.removeEventListener("hashchange",this._listener)},e}(ir),sr=(nr=function(e,t){return(nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}nr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ur=function(t){function e(e){return t.call(this,e,!0)||this}return sr(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(e,t,n,r){this._url=n},e}(ir),lr=(rr=function(e,t){return(rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}rr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),cr=function(n){function e(e){var t=n.call(this,e,!0)||this;return t._config=e.urlService.config,L.addEventListener("popstate",t._listener,!1),t}return lr(e,n),e.prototype._getBasePrefix=function(){return We(this._config.baseHref())},e.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,r=e.search;r=Ke(r)[1],n=Ge(n)[1];var i=this._getBasePrefix(),o=t===this._config.baseHref(),a=t.substr(0,i.length)===i;return(t=o?"/":a?t.substring(i.length):t)+(r?"?"+r:"")+(n?"#"+n:"")},e.prototype._set=function(e,t,n,r){var i=this._getBasePrefix(),o=n&&"/"!==n[0]?"/":"",a=""===n||"/"===n?this._config.baseHref():i+o+n;r?this._history.replaceState(e,t,a):this._history.pushState(e,t,a)},e.prototype.dispose=function(e){n.prototype.dispose.call(this,e),L.removeEventListener("popstate",this._listener)},e}(ir),dr=function(){var t=this;this.dispose=z,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return k(e)?t._hashPrefix=e:t._hashPrefix}},pr=function(){function e(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}return e.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},e.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},e.prototype.host=function(){return location.hostname},e.prototype.html5Mode=function(){return this._isHtml5},e.prototype.hashPrefix=function(e){return k(e)?this._hashPrefix=e:this._hashPrefix},e.prototype.baseHref=function(e){return k(e)&&(this._baseHref=e),b(this._baseHref)&&(this._baseHref=this.getBaseHref()),this._baseHref},e.prototype.getBaseHref=function(){var e=document.getElementsByTagName("base")[0];return e&&e.href?e.href.replace(/^([^/:]*:)?\/\/[^/]*/,""):this._isHtml5?"/":location.pathname||"/"},e.prototype.dispose=function(){},e}();function hr(e){return V.$injector=Kn,{name:"vanilla.services",$q:V.$q=zn,$injector:Kn,dispose:function(){return null}}}var fr=er("vanilla.hashBangLocation",!1,ar,pr),gr=er("vanilla.pushStateLocation",!0,cr,pr),mr=er("vanilla.memoryLocation",!1,ur,dr),vr=function(){function e(){}return e.prototype.dispose=function(e){},e}(),yr=Object.freeze({root:L,fromJson:j,toJson:H,forEach:N,extend:Y,equals:U,identity:q,noop:z,createProxyFunctions:B,inherit:W,inArray:G,_inArray:K,removeFrom:Q,_removeFrom:Z,pushTo:X,_pushTo:J,deregAll:ee,defaults:te,mergeR:ne,ancestors:re,pick:ie,omit:oe,pluck:ae,filter:se,find:ue,mapObj:le,map:ce,values:de,allTrueR:pe,anyTrueR:he,unnestR:fe,flattenR:ge,pushR:me,uniqR:ve,unnest:ye,flatten:we,assertPredicate:be,assertMap:$e,assertFn:_e,pairs:Se,arrayTuples:Ce,applyPairs:ke,tail:De,copy:xe,_extend:Oe,silenceUncaughtInPromise:Ee,silentRejection:Pe,makeStub:I,services:V,Glob:Me,curry:l,compose:n,pipe:u,prop:v,propEq:y,parse:C,not:d,and:r,or:i,all:a,any:s,is:c,eq:o,val:p,invoke:h,pattern:f,isUndefined:b,isDefined:k,isNull:$,isNullOrUndefined:_,isFunction:D,isNumber:x,isString:O,isObject:T,isArray:A,isDate:E,isRegExp:P,isInjectable:M,isPromise:R,Queue:Re,maxLength:Le,padString:Fe,kebobString:je,functionToString:He,fnToString:Ne,stringify:qe,beforeAfterSubstr:ze,hostRegex:Be,stripLastPathElement:We,splitHash:Ge,splitQuery:Ke,splitEqual:Qe,trimHashVal:Ze,splitOnDelim:Xe,joinNeighborsR:Je,get Category(){return g.Category},Trace:ut,trace:lt,get DefType(){return g.DefType},Param:vt,ParamTypes:yt,StateParams:wt,ParamType:ct,PathNode:bt,PathUtils:_t,resolvePolicies:St,defaultResolvePolicy:Ct,Resolvable:kt,NATIVE_INJECTOR_TOKEN:Tt,ResolveContext:At,resolvablesBuilder:Ft,StateBuilder:Nt,StateObject:Yt,StateMatcher:Ut,StateQueueManager:qt,StateRegistry:zt,StateService:qn,TargetState:$t,get TransitionHookPhase(){return g.TransitionHookPhase},get TransitionHookScope(){return g.TransitionHookScope},HookBuilder:Zt,matchState:Gt,RegisteredHook:Kt,makeEvent:Qt,get RejectType(){return g.RejectType},Rejection:Ve,Transition:Jt,TransitionHook:Wt,TransitionEventType:jn,defaultTransOpts:Yn,TransitionService:Un,UrlRules:gn,UrlConfig:mn,UrlMatcher:rn,ParamFactory:an,UrlMatcherFactory:sn,UrlRouter:dn,UrlRuleFactory:un,BaseUrlRule:ln,UrlService:vn,ViewService:pn,UIRouterGlobals:hn,UIRouter:$n,$q:zn,$injector:Kn,BaseLocationServices:ir,HashLocationService:ar,MemoryLocationService:ur,PushStateLocationService:cr,MemoryLocationConfig:dr,BrowserLocationConfig:pr,keyValsToObjectR:Qn,getParams:Zn,parseUrl:Xn,buildUrl:Jn,locationPluginFactory:er,servicesPlugin:hr,hashLocationPlugin:fr,pushStateLocationPlugin:gr,memoryLocationPlugin:mr,UIRouterPluginBase:vr});function wr(){var n=null;return function(e,t){return n=n||V.$injector.get("$templateFactory"),[new Sr(e,t,n)]}}var br=function(e,n){return e.reduce(function(e,t){return e||k(n[t])},!1)};function $r(r){if(!r.parent)return{};var i=["component","bindings","componentProvider"],o=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),e=i.concat(o);if(k(r.views)&&br(e,r))throw new Error("State '"+r.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+e.filter(function(e){return k(r[e])}).join(", "));var a={},t=r.views||{$default:ie(r,e)};return N(t,function(e,t){if(t=t||"$default",O(e)&&(e={component:e}),e=Y({},e),br(i,e)&&br(o,e))throw new Error("Cannot combine: "+i.join("|")+" with: "+o.join("|")+" in stateview: '"+t+"@"+r.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=r,e.$name=t;var n=pn.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=n.uiViewName,e.$uiViewContextAnchor=n.uiViewContextAnchor,a[t]=e}),a}var _r=0,Sr=function(){function e(e,t,n){var r=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=_r++,this.loaded=!1,this.getTemplate=function(e,t){return r.component?r.factory.makeComponentTemplate(e,t,r.component,r.viewDecl.bindings):r.template}}return e.prototype.load=function(){var t=this,e=V.$q,n=new At(this.path),r=this.path.reduce(function(e,t){return Y(e,t.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,r,n)),controller:e.when(this.getController(n))};return e.all(i).then(function(e){return lt.traceViewServiceEvent("Loaded",t),t.controller=e.controller,Y(t,e.template),t})},e.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!M(t))return this.viewDecl.controller;var n=V.$injector.annotate(t),r=A(t)?De(t):t;return new kt("",r,n).get(e)},e}(),Cr=function(){function e(){var r=this;this._useHttp=S.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,t,n){return r.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),r.$http=e,r.$templateCache=t,r}]}return e.prototype.useHttpService=function(e){this._useHttp=e},e.prototype.fromConfig=function(e,t,n){var r=function(e){return V.$q.when(e).then(function(e){return{template:e}})},i=function(e){return V.$q.when(e).then(function(e){return{component:e}})};return k(e.template)?r(this.fromString(e.template,t)):k(e.templateUrl)?r(this.fromUrl(e.templateUrl,t)):k(e.templateProvider)?r(this.fromProvider(e.templateProvider,t,n)):k(e.component)?i(e.component):k(e.componentProvider)?i(this.fromComponentProvider(e.componentProvider,t,n)):r("<ui-view></ui-view>")},e.prototype.fromString=function(e,t){return D(e)?e(t):e},e.prototype.fromUrl=function(e,t){return D(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},e.prototype.fromProvider=function(e,t,n){var r=V.$injector.annotate(e),i=A(e)?De(e):e;return new kt("",i,r).get(n)},e.prototype.fromComponentProvider=function(e,t,n){var r=V.$injector.annotate(e),i=A(e)?De(e):e;return new kt("",i,r).get(n)},e.prototype.makeComponentTemplate=function(u,l,e,c){c=c||{};var d=3<=S.version.minor?"::":"",p=function(e){var t=je(e);return/^(x|data)-/.exec(t)?"x-"+t:t},t=function(e){var t=V.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(kr).reduce(fe,[])}(e).map(function(e){var t=e.name,n=e.type,r=p(t);if(u.attr(r)&&!c[t])return r+"='"+u.attr(r)+"'";var i=c[t]||t;if("@"===n)return r+"='{{"+d+"$resolve."+i+"}}'";if("&"!==n)return r+"='"+d+"$resolve."+i+"'";var o=l.getResolvable(i),a=o&&o.data,s=a&&V.$injector.annotate(a)||[];return r+"='$resolve."+i+(A(a)?"["+(a.length-1)+"]":"")+"("+s.join(",")+")'"}).join(" "),n=p(e);return"<"+n+" "+t+"></"+n+">"},e}();var kr=function(e){return T(e.bindToController)?Dr(e.bindToController):Dr(e.scope)},Dr=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(e){return k(e)&&A(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})},xr=function(){function n(e,t){this.stateRegistry=e,this.stateService=t,B(p(n.prototype),this,p(this))}return n.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},n.prototype.state=function(e,t){return T(e)?t=e:t.name=e,this.stateRegistry.register(t),this},n.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},n}(),Or=function(n){return function(e,t){var i=e[n],o="onExit"===n?"from":"to";return i?function(e,t){var n=new At(e.treeChanges(o)).subContext(t.$$state()),r=Y(zr(n),{$state$:t,$transition$:e});return V.$injector.invoke(i,this,r)}:void 0}},Tr=function(){function e(e){this._urlListeners=[],this.$locationProvider=e;var t=p(e);B(t,this,t,["hashPrefix"])}return e.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},e.prototype.dispose=function(){},e.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return Q(t._urlListeners)(e)}},e.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=T(e)?e.enabled:e)&&this.$sniffer.history},e.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)},e.prototype.url=function(e,t,n){return void 0===t&&(t=!1),k(e)&&this.$location.url(e),t&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},e.prototype._runtimeServices=function(e,t,n,r,i){var o=this;this.$location=t,this.$sniffer=n,this.$browser=r,this.$window=i,e.$on("$locationChangeSuccess",function(t){return o._urlListeners.forEach(function(e){return e(t)})});var a=p(t);B(a,this,a,["replace","path","search","hash"]),B(a,this,a,["port","protocol","host"])},e}(),Ar=function(){function n(e){this.router=e}return n.injectableHandler=function(t,n){return function(e){return V.$injector.invoke(n,null,{$match:e,$stateParams:t.globals.params})}},n.prototype.$get=function(){var e=this.router.urlService;return this.router.urlRouter.update(!0),e.interceptDeferred||e.listen(),this.router.urlRouter},n.prototype.rule=function(e){var t=this;if(!D(e))throw new Error("'rule' must be a function");var n=new ln(function(){return e(V.$injector,t.router.locationService)},q);return this.router.urlService.rules.rule(n),this},n.prototype.otherwise=function(e){var t=this,n=this.router.urlService.rules;if(O(e))n.otherwise(e);else{if(!D(e))throw new Error("'rule' must be a string or function");n.otherwise(function(){return e(V.$injector,t.router.locationService)})}return this},n.prototype.when=function(e,t){return(A(t)||D(t))&&(t=n.injectableHandler(this.router,t)),this.router.urlService.rules.when(e,t),this},n.prototype.deferIntercept=function(e){this.router.urlService.deferIntercept(e)},n}();S.module("ui.router.angular1",[]);var Er=S.module("ui.router.init",["ng"]),Pr=S.module("ui.router.util",["ui.router.init"]),Mr=S.module("ui.router.router",["ui.router.util"]),Rr=S.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),Ir=S.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),Vr=(S.module("ui.router.compat",["ui.router"]),null);function Lr(e){(Vr=this.router=new $n).stateProvider=new xr(Vr.stateRegistry,Vr.stateService),Vr.stateRegistry.decorator("views",$r),Vr.stateRegistry.decorator("onExit",Or("onExit")),Vr.stateRegistry.decorator("onRetain",Or("onRetain")),Vr.stateRegistry.decorator("onEnter",Or("onEnter")),Vr.viewService._pluginapi._viewConfigFactory("ng1",wr());var s=Vr.locationService=Vr.locationConfig=new Tr(e);function t(e,t,n,r,i,o,a){return s._runtimeServices(i,e,r,t,n),delete Vr.router,delete Vr.$get,Vr}return Tr.monkeyPatchPathParameterType(Vr),((Vr.router=Vr).$get=t).$inject=["$location","$browser","$window","$sniffer","$rootScope","$http","$templateCache"],Vr}Lr.$inject=["$locationProvider"];var Fr=function(n){return["$uiRouterProvider",function(e){var t=e.router[n];return t.$get=function(){return t},t}]};function jr(t,e,n){if(V.$injector=t,V.$q=e,!t.hasOwnProperty("strictDi"))try{t.invoke(function(e){})}catch(e){t.strictDi=!!/strict mode/.exec(e&&e.toString())}n.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(fe,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}jr.$inject=["$injector","$q","$uiRouter"];function Hr(e){e.$watch(function(){lt.approximateDigests++})}Hr.$inject=["$rootScope"],Er.provider("$uiRouter",Lr),Mr.provider("$urlRouter",["$uiRouterProvider",function(e){return e.urlRouterProvider=new Ar(e)}]),Pr.provider("$urlService",Fr("urlService")),Pr.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return Vr.urlMatcherFactory}]),Pr.provider("$templateFactory",function(){return new Cr}),Rr.provider("$stateRegistry",Fr("stateRegistry")),Rr.provider("$uiRouterGlobals",Fr("globals")),Rr.provider("$transitions",Fr("transitionService")),Rr.provider("$state",["$uiRouterProvider",function(){return Y(Vr.stateProvider,{$get:function(){return Vr.stateService}})}]),Rr.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),Ir.factory("$view",function(){return Vr.viewService}),Ir.service("$trace",function(){return lt}),Ir.run(Hr),Pr.run(["$urlMatcherFactory",function(e){}]),Rr.run(["$state",function(e){}]),Mr.run(["$urlRouter",function(e){}]),Er.run(jr);var Nr,Yr,Ur,qr,zr=function(n){return n.getTokens().filter(O).map(function(e){var t=n.getResolvable(e);return[e,"NOWAIT"===n.getPolicy(t).async?t.promise:t.data]}).reduce(ke,{})};function Br(e){var t,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e="("+n[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function Wr(e){var t=e.parent().inheritedData("$uiView"),n=C("$cfg.path")(t);return n?De(n).state.name:void 0}function Gr(e,t,n){var r=n.uiState||e.current.name,i=Y(function(e,t){return{relative:Wr(e)||t.$current,inherit:!0,source:"sref"}}(t,e),n.uiStateOpts||{}),o=e.href(r,n.uiStateParams,i);return{uiState:r,uiStateParams:n.uiStateParams,uiStateOpts:i,href:o}}function Kr(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function Qr(o,a,s,u,l){return function(e){var t=e.which||e.button,n=l();if(!(1<t||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var r=s(function(){o.attr("disabled")||a.go(n.uiState,n.uiStateParams,n.uiStateOpts)});e.preventDefault();var i=u.isAnchor&&!n.href?1:0;e.preventDefault=function(){i--<=0&&s.cancel(r)}}}}function Zr(i,e,o,t){var a;t&&(a=t.events),A(a)||(a=["click"]);for(var n=i.on?"on":"bind",r=0,s=a;r<s.length;r++){var u=s[r];i[n](u,o)}e.$on("$destroy",function(){for(var e=i.off?"off":"unbind",t=0,n=a;t<n.length;t++){var r=n[t];i[e](r,o)}})}function Xr(r){var e=function(e,t,n){return r.is(e,t,n)};return e.$stateful=!0,e}function Jr(r){var e=function(e,t,n){return r.includes(e,t,n)};return e.$stateful=!0,e}function ei(g,m,v,e,y,t){var w=C("viewDecl.controllerAs"),b=C("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return e.empty(),function(t,n){var e=n.data("$uiView");if(!e)return n.html(f),void g(n.contents())(t);var r=e.$cfg||{viewDecl:{},getTemplate:z},i=r.path&&new At(r.path);n.html(r.getTemplate(n,i)||f),lt.traceUIViewFill(e.$uiView,n.html());var o=g(n.contents()),a=r.controller,s=w(r),u=b(r),l=i&&zr(i);if(t[u]=l,a){var c=m(a,Y({},l,{$scope:t,$element:n}));s&&(t[s]=c,t[s][u]=l),n.data("$ngControllerController",c),n.children().data("$ngControllerController",c),ri(y,v,c,t,r)}if(O(r.component))var d=je(r.component),p=new RegExp("^(x-|data-)?"+d+"$","i"),h=t.$watch(function(){var e=[].slice.call(n[0].children).filter(function(e){return e&&e.tagName&&p.exec(e.tagName)});return e&&S.element(e).data("$"+r.component+"Controller")},function(e){e&&(ri(y,v,e,t,r),h())});o(t)}}}}Nr=["$uiRouter","$timeout",function(p,h){var f=p.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,n,r){var i,o=Kr(t),a=r[1]||r[0],s=null,u={},l=function(){return Gr(f,t,u)},c=Br(n.uiSref);function d(){var e=l();s&&s(),a&&(s=a.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&n.$set(o.attr,e.href)}u.uiState=c.state,u.uiStateOpts=n.uiSrefOpts?e.$eval(n.uiSrefOpts):{},c.paramExpr&&(e.$watch(c.paramExpr,function(e){u.uiStateParams=Y({},e),d()},!0),u.uiStateParams=Y({},e.$eval(c.paramExpr))),d(),e.$on("$destroy",p.stateRegistry.onStatesChanged(d)),e.$on("$destroy",p.transitionService.onSuccess({},d)),o.clickable&&(i=Qr(t,f,h,o,l),Zr(t,e,i,u.uiStateOpts))}}}],Yr=["$uiRouter","$timeout",function(h,f){var g=h.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,e,r,t){var i,o=Kr(e),a=t[1]||t[0],s=null,u={},l=function(){return Gr(g,e,u)},c=["uiState","uiStateParams","uiStateOpts"],d=c.reduce(function(e,t){return e[t]=z,e},{});function p(){var e=l();s&&s(),a&&(s=a.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&r.$set(o.attr,e.href)}c.forEach(function(t){u[t]=r[t]?n.$eval(r[t]):null,r.$observe(t,function(e){d[t](),d[t]=n.$watch(e,function(e){u[t]=e,p()},!0)})}),p(),n.$on("$destroy",h.stateRegistry.onStatesChanged(p)),n.$on("$destroy",h.transitionService.onSuccess({},p)),o.clickable&&(i=Qr(e,g,f,o,l),Zr(e,n,i,u.uiStateOpts))}}}],Ur=["$state","$stateParams","$interpolate","$uiRouter",function(f,e,g,m){return{restrict:"A",controller:["$scope","$element","$attrs",function(s,u,e){var l,r,t,n,i,c=[];l=g(e.uiSrefActiveEq||"",!1)(s);try{r=s.$eval(e.uiSrefActive)}catch(e){}function o(e){e.promise.then(h,z)}function a(){d(r)}function d(e){T(e)&&(c=[],N(e,function(e,t){var n=function(e,t){var n=Br(e);p(n.state,s.$eval(n.paramExpr),t)};O(e)?n(e,t):A(e)&&N(e,function(e){n(e,t)})}))}function p(e,t,n){var r={state:f.get(e,Wr(u))||{name:e},params:t,activeClass:n};return c.push(r),function(){Q(c)(r)}}function h(){var t=function(e){return e.split(/\s/).filter(q)},e=function(e){return e.map(function(e){return e.activeClass}).map(t).reduce(fe,[])},n=e(c).concat(t(l)).reduce(ve,[]),r=e(c.filter(function(e){return f.includes(e.state.name,e.params)})),i=!!c.filter(function(e){return f.is(e.state.name,e.params)}).length?t(l):[],o=r.concat(i).reduce(ve,[]),a=n.filter(function(e){return!G(o,e)});s.$evalAsync(function(){o.forEach(function(e){return u.addClass(e)}),a.forEach(function(e){return u.removeClass(e)})})}d(r=r||g(e.uiSrefActive||"",!1)(s)),this.$$addStateInfo=function(e,t){if(!(T(r)&&0<c.length)){var n=p(e,t,r);return h(),n}},s.$on("$destroy",(t=m.stateRegistry.onStatesChanged(a),n=m.transitionService.onStart({},o),i=s.$on("$stateChangeSuccess",h),function(){t(),n(),i()})),m.globals.transition&&o(m.globals.transition),h()}]}}],S.module("ui.router.state").directive("uiSref",Nr).directive("uiSrefActive",Ur).directive("uiSrefActiveEq",Ur).directive("uiState",Yr),Xr.$inject=["$state"],Jr.$inject=["$state"],S.module("ui.router.state").filter("isState",Xr).filter("includedByState",Jr),qr=["$view","$animate","$uiViewScroll","$interpolate","$q",function(i,o,y,w,b){var $={$cfg:{viewDecl:{$context:i._pluginapi._rootViewContext()}},$uiView:{}},_={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,t,v){return function(a,s,e){var u,l,c,d,t,p=e.onload||"",h=e.autoscroll,f={enter:function(e,t,n){2<S.version.minor?o.enter(e,null,t).then(n):o.enter(e,null,t,n)},leave:function(e,t){2<S.version.minor?o.leave(e).then(t):o.leave(e,t)}},n=s.inheritedData("$uiView")||$,g=w(e.uiView||e.name||"")(a)||"$default",m={$type:"ng1",id:_.count++,name:g,fqn:n.$uiView.fqn?n.$uiView.fqn+"."+g:g,config:null,configUpdated:function(e){if(e&&!(e instanceof Sr))return;if(function(e,t){return e===t}(d,e))return;lt.traceUIViewConfigUpdated(m,e&&e.viewDecl&&e.viewDecl.$context),r(d=e)},get creationContext(){var e=C("$cfg.viewDecl.$context")(n),t=C("$uiView.creationContext")(n);return e||t}};function r(e){var t=a.$new(),n=b.defer(),r=b.defer(),i={$cfg:e,$uiView:m},o={$animEnter:n.promise,$animLeave:r.promise,$$animLeave:r};t.$emit("$viewContentLoading",g),l=v(t,function(e){e.data("$uiViewAnim",o),e.data("$uiView",i),f.enter(e,s,function(){n.resolve(),c&&c.$emit("$viewContentAnimationEnded"),(k(h)&&!h||a.$eval(h))&&y(e)}),function(){if(u&&(lt.traceUIViewEvent("Removing (previous) el",u.data("$uiView")),u.remove(),u=null),c&&(lt.traceUIViewEvent("Destroying scope",m),c.$destroy(),c=null),l){var e=l.data("$uiViewAnim");lt.traceUIViewEvent("Animate out",e),f.leave(l,function(){e.$$animLeave.resolve(),u=null}),u=l,l=null}}()}),(c=t).$emit("$viewContentLoaded",e||d),c.$eval(p)}lt.traceUIViewEvent("Linking",m),s.data("$uiView",{$uiView:m}),r(),t=i.registerUIView(m),a.$on("$destroy",function(){lt.traceUIViewEvent("Destroying/Unregistering",m),t()})}}};return _}],ei.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var ti="function"==typeof S.module("ui.router").component,ni=0;function ri(r,e,l,t,n){!D(l.$onInit)||n.viewDecl.component&&ti||l.$onInit();var c=De(n.path).state.self,i={bind:l};if(D(l.uiOnParamsChanged)){var d=new At(n.path).getResolvable("$transition$").data;t.$on("$destroy",e.onSuccess({},function(e){if(e!==d&&-1===e.exiting().indexOf(c)){var n=e.params("to"),r=e.params("from"),t=function(e){return e.paramSchema},i=e.treeChanges("to").map(t).reduce(fe,[]),o=e.treeChanges("from").map(t).reduce(fe,[]),a=i.filter(function(e){var t=o.indexOf(e);return-1===t||!o[t].type.equals(n[e.id],r[e.id])});if(a.length){var s=a.map(function(e){return e.id}),u=se(n,function(e,t){return-1!==s.indexOf(t)});l.uiOnParamsChanged(u,e)}}},i))}if(D(l.uiCanExit)){var o=ni++,a="_uiCanExitIds",s=function(e){return!!e&&(e[a]&&!0===e[a][o]||s(e.redirectedFrom()))},u={exiting:c.name};t.$on("$destroy",e.onBefore(u,function(e){var t,n=e[a]=e[a]||{};return s(e)||(t=r.when(l.uiCanExit(e))).then(function(e){return n[o]=!1!==e}),t},i))}}S.module("ui.router.state").directive("uiView",qr),S.module("ui.router.state").directive("uiView",ei),S.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(e,t){return n?e:function(e){return t(function(){e[0].scrollIntoView()},0,!1)}}]});g.default="ui.router",g.core=yr,g.watchDigests=Hr,g.getLocals=zr,g.getNg1ViewConfigFactory=wr,g.ng1ViewsBuilder=$r,g.Ng1ViewConfig=Sr,g.StateProvider=xr,g.UrlRouterProvider=Ar,g.root=L,g.fromJson=j,g.toJson=H,g.forEach=N,g.extend=Y,g.equals=U,g.identity=q,g.noop=z,g.createProxyFunctions=B,g.inherit=W,g.inArray=G,g._inArray=K,g.removeFrom=Q,g._removeFrom=Z,g.pushTo=X,g._pushTo=J,g.deregAll=ee,g.defaults=te,g.mergeR=ne,g.ancestors=re,g.pick=ie,g.omit=oe,g.pluck=ae,g.filter=se,g.find=ue,g.mapObj=le,g.map=ce,g.values=de,g.allTrueR=pe,g.anyTrueR=he,g.unnestR=fe,g.flattenR=ge,g.pushR=me,g.uniqR=ve,g.unnest=ye,g.flatten=we,g.assertPredicate=be,g.assertMap=$e,g.assertFn=_e,g.pairs=Se,g.arrayTuples=Ce,g.applyPairs=ke,g.tail=De,g.copy=xe,g._extend=Oe,g.silenceUncaughtInPromise=Ee,g.silentRejection=Pe,g.makeStub=I,g.services=V,g.Glob=Me,g.curry=l,g.compose=n,g.pipe=u,g.prop=v,g.propEq=y,g.parse=C,g.not=d,g.and=r,g.or=i,g.all=a,g.any=s,g.is=c,g.eq=o,g.val=p,g.invoke=h,g.pattern=f,g.isUndefined=b,g.isDefined=k,g.isNull=$,g.isNullOrUndefined=_,g.isFunction=D,g.isNumber=x,g.isString=O,g.isObject=T,g.isArray=A,g.isDate=E,g.isRegExp=P,g.isInjectable=M,g.isPromise=R,g.Queue=Re,g.maxLength=Le,g.padString=Fe,g.kebobString=je,g.functionToString=He,g.fnToString=Ne,g.stringify=qe,g.beforeAfterSubstr=ze,g.hostRegex=Be,g.stripLastPathElement=We,g.splitHash=Ge,g.splitQuery=Ke,g.splitEqual=Qe,g.trimHashVal=Ze,g.splitOnDelim=Xe,g.joinNeighborsR=Je,g.Trace=ut,g.trace=lt,g.Param=vt,g.ParamTypes=yt,g.StateParams=wt,g.ParamType=ct,g.PathNode=bt,g.PathUtils=_t,g.resolvePolicies=St,g.defaultResolvePolicy=Ct,g.Resolvable=kt,g.NATIVE_INJECTOR_TOKEN=Tt,g.ResolveContext=At,g.resolvablesBuilder=Ft,g.StateBuilder=Nt,g.StateObject=Yt,g.StateMatcher=Ut,g.StateQueueManager=qt,g.StateRegistry=zt,g.StateService=qn,g.TargetState=$t,g.HookBuilder=Zt,g.matchState=Gt,g.RegisteredHook=Kt,g.makeEvent=Qt,g.Rejection=Ve,g.Transition=Jt,g.TransitionHook=Wt,g.TransitionEventType=jn,g.defaultTransOpts=Yn,g.TransitionService=Un,g.UrlRules=gn,g.UrlConfig=mn,g.UrlMatcher=rn,g.ParamFactory=an,g.UrlMatcherFactory=sn,g.UrlRouter=dn,g.UrlRuleFactory=un,g.BaseUrlRule=ln,g.UrlService=vn,g.ViewService=pn,g.UIRouterGlobals=hn,g.UIRouter=$n,g.$q=zn,g.$injector=Kn,g.BaseLocationServices=ir,g.HashLocationService=ar,g.MemoryLocationService=ur,g.PushStateLocationService=cr,g.MemoryLocationConfig=dr,g.BrowserLocationConfig=pr,g.keyValsToObjectR=Qn,g.getParams=Zn,g.parseUrl=Xn,g.buildUrl=Jn,g.locationPluginFactory=er,g.servicesPlugin=hr,g.hashLocationPlugin=fr,g.pushStateLocationPlugin=gr,g.memoryLocationPlugin=mr,g.UIRouterPluginBase=vr,Object.defineProperty(g,"__esModule",{value:!0})}),function(b,l){"use strict";var $=["ng","oc.lazyLoad"],_={},S=[],C=[],k=[],D=[],x=b.noop,O={},T=[];b.module("oc.lazyLoad",["ng"]).provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(e,t,n,r,i,o){function c(e,t,n){if(t){var r,i,o,a=[];for(r=t.length-1;0<=r;r--)if(i=t[r],b.isString(i)||(i=h(i)),i&&-1===T.indexOf(i)&&(!f[i]||-1!==k.indexOf(i))){var s=-1===$.indexOf(i);if(o=E(i),s&&($.push(i),c(e,o.requires,n)),0<o._runBlocks.length)for(O[i]=[];0<o._runBlocks.length;)O[i].push(o._runBlocks.shift());b.isDefined(O[i])&&(s||n.rerun)&&(a=a.concat(O[i])),d(e,o._invokeQueue,i,n.reconfig),d(e,o._configBlocks,i,n.reconfig),x(s?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",i),t.pop(),T.push(i)}var u=e.getInstanceInjector();b.forEach(a,function(e){u.invoke(e)})}}function p(e,n){function i(e){return b.isArray(e)?u(e.toString()):b.isObject(e)?u(w(e)):b.isDefined(e)&&null!==e?u(e.toString()):e}var r=e[2][0],o=e[1],a=!1;b.isUndefined(_[n])&&(_[n]={}),b.isUndefined(_[n][o])&&(_[n][o]={});var s=function(e,t){_[n][o].hasOwnProperty(e)||(_[n][o][e]=[]),function(e,t){var n,r=!0;return t.length&&(n=i(e),b.forEach(t,function(e){r=r&&i(e)!==n})),r}(t,_[n][o][e])&&(a=!0,_[n][o][e].push(t),x("ocLazyLoad.componentLoaded",[n,o,e]))};if(b.isString(r))s(r,e[2][1]);else{if(!b.isObject(r))return!1;b.forEach(r,function(e,t){b.isString(e)?s(e,r[1]):s(t,e)})}return a}function d(e,t,n,r){var i,o,a,s;if(t)for(i=0,o=t.length;i<o;i++)if(a=t[i],b.isArray(a)){if(null!==e){if(!e.hasOwnProperty(a[0]))throw new Error("unsupported provider "+a[0]);s=e[a[0]]}var u=p(a,n);if("invoke"!==a[1])u&&b.isDefined(s)&&s[a[1]].apply(s,a[2]);else{var l=function(e){var t=S.indexOf(n+"-"+e);(-1===t||r)&&(-1===t&&S.push(n+"-"+e),b.isDefined(s)&&s[a[1]].apply(s,a[2]))};if(b.isFunction(a[2][0]))l(a[2][0]);else if(b.isArray(a[2][0]))for(var c=0,d=a[2][0].length;c<d;c++)b.isFunction(a[2][0][c])&&l(a[2][0][c])}}}function h(e){var t=null;return b.isString(e)?t=e:b.isObject(e)&&e.hasOwnProperty("name")&&b.isString(e.name)&&(t=e.name),t}function a(e){if(!b.isString(e))return!1;try{return E(e)}catch(e){if(/No module/.test(e)||-1<e.message.indexOf("$injector:nomod"))return!1}}var f={},s={$controllerProvider:e,$compileProvider:n,$filterProvider:r,$provide:t,$injector:i,$animateProvider:o},g=!1,m=!1,v=[],y={};v.push=function(e){-1===this.indexOf(e)&&Array.prototype.push.apply(this,arguments)},this.config=function(e){b.isDefined(e.modules)&&(b.isArray(e.modules)?b.forEach(e.modules,function(e){f[e.name]=e}):f[e.modules.name]=e.modules),b.isDefined(e.debug)&&(g=e.debug),b.isDefined(e.events)&&(m=e.events)},this._init=function(r){if(0===C.length){var t=[r],i=["ng:app","ng-app","x-ng-app","data-ng-app"],o=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,n=function(e){return e&&t.push(e)};b.forEach(i,function(e){i[e]=!0,n(document.getElementById(e)),e=e.replace(":","\\:"),void 0!==r[0]&&r[0].querySelectorAll&&(b.forEach(r[0].querySelectorAll("."+e),n),b.forEach(r[0].querySelectorAll("."+e+"\\:"),n),b.forEach(r[0].querySelectorAll("["+e+"]"),n))}),b.forEach(t,function(e){if(0===C.length){var t=" "+r.className+" ",n=o.exec(t);n?C.push((n[2]||"").replace(/\s+/g,",")):b.forEach(e.attributes,function(e){0===C.length&&i[e.name]&&C.push(e.value)})}})}0!==C.length||(l.jasmine||l.mocha)&&b.isDefined(b.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");b.forEach(C,function(e){!function e(t){if(-1===$.indexOf(t)){$.push(t);var n=b.module(t);d(null,n._invokeQueue,t),d(null,n._configBlocks,t),b.forEach(n.requires,e)}}(e)}),C=[],D.pop()};var w=function(t){try{return JSON.stringify(t)}catch(e){var n=[];return JSON.stringify(t,function(e,t){if(b.isObject(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t})}},u=function(e){var t,n,r=0;if(0==e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r};this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(n,e,r,t,u){function l(e){var t=u.defer();return n.error(e.message),t.reject(e),t.promise}var i,o=t("ocLazyLoad");return g||((n={}).error=b.noop,n.warn=b.noop,n.info=b.noop),s.getInstanceInjector=function(){return i||(i=e.data("$injector")||b.injector())},{_broadcast:x=function(e,t){m&&r.$broadcast(e,t),g&&n.info(e,t)},_$log:n,_getFilesCache:function(){return o},toggleWatch:function(e){e?D.push(!0):D.pop()},getModuleConfig:function(e){if(!b.isString(e))throw new Error("You need to give the name of the module to get");return f[e]?b.copy(f[e]):null},setModuleConfig:function(e){if(!b.isObject(e))throw new Error("You need to give the module config object to set");return f[e.name]=e},getModules:function(){return $},isLoaded:function(e){var t,n;if(b.isString(e)&&(e=[e]),b.isArray(e)){var r,i;for(r=0,i=e.length;r<i;r++)if(t=e[r],n=void 0,(n=-1<$.indexOf(t))||(n=!!a(t)),!n)return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:h,_getModule:function(t){try{return E(t)}catch(e){throw(/No module/.test(e)||-1<e.message.indexOf("$injector:nomod"))&&(e.message='The module "'+w(t)+'" that you are trying to load does not exist. '+e.message),e}},moduleExists:a,_loadDependencies:function(r,i){var e,t,o,a=[],s=this;if(null===(r=s._getModuleName(r)))return u.when();try{e=s._getModule(r)}catch(e){return l(e)}return t=s.getRequires(e),b.forEach(t,function(t){if(b.isString(t)){var e=s.getModuleConfig(t);if(null===e)return void v.push(t);(t=e).name=void 0}if(s.moduleExists(t.name))return 0!==(o=t.files.filter(function(e){return s.getModuleConfig(t.name).files.indexOf(e)<0})).length&&s._$log.warn('Module "',r,'" attempted to redefine configuration for dependency. "',t.name,'"\n Additional Files Loaded:',o),b.isDefined(s.filesLoader)?void a.push(s.filesLoader(t,i).then(function(){return s._loadDependencies(t)})):l(new Error("Error: New dependencies need to be loaded from external files ("+t.files+"), but no loader has been defined."));if(b.isArray(t)){var n=[];b.forEach(t,function(e){var t=s.getModuleConfig(e);null===t?n.push(e):t.files&&(n=n.concat(t.files))}),0<n.length&&(t={files:n})}else b.isObject(t)&&t.hasOwnProperty("name")&&t.name&&(s.setModuleConfig(t),v.push(t.name));if(b.isDefined(t.files)&&0!==t.files.length){if(!b.isDefined(s.filesLoader))return l(new Error('Error: the module "'+t.name+'" is defined in external files ('+t.files+"), but no loader has been defined."));a.push(s.filesLoader(t,i).then(function(){return s._loadDependencies(t)}))}}),u.all(a)},inject:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=this,i=u.defer();if(b.isDefined(e)&&null!==e){if(b.isArray(e)){var o=[];return b.forEach(e,function(e){o.push(r.inject(e,n,t))}),u.all(o)}r._addToLoadList(r._getModuleName(e),!0,t)}if(0<C.length){var a=C.slice();!function e(t){v.push(t),y[t]=i.promise,r._loadDependencies(t,n).then(function(){try{T=[],c(s,v,n)}catch(e){return r._$log.error(e.message),void i.reject(e)}0<C.length?e(C.shift()):i.resolve(a)},function(e){i.reject(e)})}(C.shift())}else{if(n&&n.name&&y[n.name])return y[n.name];i.resolve()}return i.promise},getRequires:function(e){var t=[];return b.forEach(e.requires,function(e){-1===$.indexOf(e)&&t.push(e)}),t},_invokeQueue:d,_registerInvokeList:p,_register:c,_addToLoadList:A,_unregister:function(e){b.isDefined(e)&&b.isArray(e)&&b.forEach(e,function(e){_[e]=void 0})}}}],this._init(b.element(l.document))}]);var r=b.bootstrap;b.bootstrap=function(e,t,n){return $=["ng","oc.lazyLoad"],_={},S=[],C=[],k=[],D=[],x=b.noop,O={},T=[],b.forEach(t.slice(),function(e){A(e,!0,!0)}),r(e,t,n)};var A=function(e,t,n){(0<D.length||t)&&b.isString(e)&&-1===C.indexOf(e)&&(C.push(e),n&&k.push(e))},E=b.module;b.module=function(e,t,n){return A(e,!1,!0),E(e,t,n)},"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(l){"use strict";l.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(o,a,s,u,e){return{restrict:"A",terminal:!0,priority:1e3,compile:function(e,t){var i=e[0].innerHTML;return e.html(""),function(t,n,e){var r=u(e.ocLazyLoad);t.$watch(function(){return r(t)||e.ocLazyLoad},function(e){l.isDefined(e)&&o.load(e).then(function(){s.enter(i,n),a(n.contents())(t)})},!0)}}}}])}(angular),function(S){"use strict";S.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(v,y,w,b){var $=!1,_=w.document.getElementsByTagName("head")[0]||w.document.getElementsByTagName("body")[0];return v.buildElement=function(e,t,n){var r,i,o=y.defer(),a=v._getFilesCache(),s=function(e){var t=(new Date).getTime();return 0<=e.indexOf("?")?"&"===e.substring(0,e.length-1)?e+"_dc="+t:e+"&_dc="+t:e+"?_dc="+t};switch(S.isUndefined(a.get(t))&&a.put(t,o.promise),e){case"css":(r=w.document.createElement("link")).type="text/css",r.rel="stylesheet",r.href=!1===n.cache?s(t):t;break;case"js":(r=w.document.createElement("script")).src=!1===n.cache?s(t):t;break;default:a.remove(t),o.reject(new Error('Requested type "'+e+'" is not known. Could not inject "'+t+'"'))}r.onload=r.onreadystatechange=function(e){r.readyState&&!/^c|loade/.test(r.readyState)||i||(r.onload=r.onreadystatechange=null,i=1,v._broadcast("ocLazyLoad.fileLoaded",t),o.resolve(r))},r.onerror=function(){a.remove(t),o.reject(new Error("Unable to load "+t))},r.async=n.serie?0:1;var u=_.lastChild;if(n.insertBefore){var l=S.element(S.isDefined(window.jQuery)?n.insertBefore:document.querySelector(n.insertBefore));l&&0<l.length&&(u=l[0])}if(u.parentNode.insertBefore(r,u),"css"==e){var c=w.navigator.userAgent.toLowerCase();if(-1<c.indexOf("phantomjs/1.9"))$=!0;else if(/iP(hone|od|ad)/.test(w.navigator.platform)){var d=w.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=parseFloat([parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3]||0,10)].join("."));$=p<6}else if(-1<c.indexOf("android")){var h=parseFloat(c.slice(c.indexOf("android")+8));$=h<4.4}else if(-1<c.indexOf("safari")){var f=c.match(/version\/([\.\d]+)/i);$=f&&f[1]&&parseFloat(f[1])<6}if($)var g=1e3,m=b(function(){try{r.sheet.cssRules,b.cancel(m),r.onload()}catch(e){--g<=0&&r.onerror()}},20)}return o.promise},v}])}])}(angular),function(m){"use strict";m.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$q",function(f,g){return f.filesLoader=function(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=[],o=[],a=[],s=[],u=null,l=f._getFilesCache();f.toggleWatch(!0),m.extend(r,e);var t=function(e){var t,n=null;if(m.isObject(e)&&(n=e.type,e=e.path),u=l.get(e),m.isUndefined(u)||!1===r.cache){if(null!==(t=/^(css|less|html|htm|js)?(?=!)/.exec(e))&&(n=t[1],e=e.substr(t[1].length+1,e.length)),!n)if(null!==(t=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(e)))n=t[1];else{if(f.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!f.jsLoader.hasOwnProperty("requirejs"))return void f._$log.error("File type could not be determined. "+e);n="js"}"css"!==n&&"less"!==n||-1!==i.indexOf(e)?"html"!==n&&"htm"!==n||-1!==o.indexOf(e)?"js"===n||-1===a.indexOf(e)?a.push(e):f._$log.error("File type is not valid. "+e):o.push(e):i.push(e)}else u&&s.push(u)};if(r.serie?t(r.files.shift()):m.forEach(r.files,function(e){t(e)}),0<i.length){var n=g.defer();f.cssLoader(i,function(e){m.isDefined(e)&&f.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(f._$log.error(e),n.reject(e)):n.resolve()},r),s.push(n.promise)}if(0<o.length){var c=g.defer();f.templatesLoader(o,function(e){m.isDefined(e)&&f.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(f._$log.error(e),c.reject(e)):c.resolve()},r),s.push(c.promise)}if(0<a.length){var d=g.defer();f.jsLoader(a,function(e){m.isDefined(e)&&(f.jsLoader.hasOwnProperty("ocLazyLoadLoader")||f.jsLoader.hasOwnProperty("requirejs"))?(f._$log.error(e),d.reject(e)):d.resolve()},r),s.push(d.promise)}if(0!==s.length)return r.serie&&0<r.files.length?g.all(s).then(function(){return f.filesLoader(e,r)}):g.all(s).finally(function(e){return f.toggleWatch(!1),e});var p=g.defer(),h="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";return f._$log.error(h),p.reject(h),p.promise},f.load=function(e){var t,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=this,i=null,o=[],a=g.defer(),s=m.copy(e),u=m.copy(n);if(m.isArray(s))return m.forEach(s,function(e){o.push(r.load(e,u))}),g.all(o).then(function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise;if(m.isString(s)?(i=r.getModuleConfig(s))||(i={files:[s]}):m.isObject(s)&&(i=m.isDefined(s.path)&&m.isDefined(s.type)?{files:[s]}:r.setModuleConfig(s)),null===i)return t='Module "'+(r._getModuleName(s)||"unknown")+'" is not configured, cannot load.',f._$log.error(t),a.reject(new Error(t)),a.promise;m.isDefined(i.template)&&(m.isUndefined(i.files)&&(i.files=[]),m.isString(i.template)?i.files.push(i.template):m.isArray(i.template)&&i.files.concat(i.template));var l=m.extend({},u,i);return m.isUndefined(i.files)&&m.isDefined(i.name)&&f.moduleExists(i.name)?f.inject(i.name,l,!0):(f.filesLoader(i,l).then(function(){f.inject(null,l).then(function(e){a.resolve(e)},function(e){a.reject(e)})},function(e){a.reject(e)}),a.promise)},f}])}])}(angular),function(a){"use strict";a.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$q",function(i,o){return i.cssLoader=function(e,t,n){var r=[];a.forEach(e,function(e){r.push(i.buildElement("css",e,n))}),o.all(r).then(function(){t()},function(e){t(e)})},i.cssLoader.ocLazyLoadLoader=!0,i}])}])}(angular),function(a){"use strict";a.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$q",function(i,o){return i.jsLoader=function(e,t,n){var r=[];a.forEach(e,function(e){r.push(i.buildElement("js",e,n))}),o.all(r).then(function(){t()},function(e){t(e)})},i.jsLoader.ocLazyLoadLoader=!0,i}])}])}(angular),function(c){"use strict";c.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(n,s,u,l){return n.templatesLoader=function(e,t,i){var o=[],a=n._getFilesCache();return c.forEach(e,function(n){var r=u.defer();o.push(r.promise),l.get(n,i).then(function(e){var t=e.data;c.isString(t)&&0<t.length&&c.forEach(c.element(t),function(e){"SCRIPT"===e.nodeName&&"text/ng-template"===e.type&&s.put(e.id,e.innerHTML)}),c.isUndefined(a.get(n))&&a.put(n,!0),r.resolve()}).catch(function(e){r.reject(new Error('Unable to load template file "'+n+'": '+e.data))})}),u.all(o).then(function(){t()},function(e){t(e)})},n.templatesLoader.ocLazyLoadLoader=!0,n}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0==i)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),i<=o)return-1;for(n=Math.max(0<=o?o:i-Math.abs(o),0);n<i;){if(n in r&&r[n]===e)return n;n++}return-1}),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(h){var e=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,o,n,r,i,a){function s(){n.cancel(l),a.complete(),c=d=0}function u(e){var t,n=o.get("$http"),r=h.defaults;!e.cache&&!r.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(t=angular.isObject(e.cache)?e.cache:angular.isObject(r.cache)?r.cache:n);var i=void 0!==t&&void 0!==t.get(e.url);return void 0!==e.cached&&i!==e.cached?e.cached:e.cached=i}var l,c=0,d=0,p=a.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||u(e)||(r.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===c&&(l=n(function(){a.start()},p)),c++,a.set(d/c)),e},response:function(e){return e&&e.config?e.config.ignoreLoadingBar||u(e.config)||(d++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),c<=d?s():a.set(d/c)):i.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e},responseError:function(e){return e&&e.config?e.config.ignoreLoadingBar||u(e.config)||(d++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),c<=d?s():a.set(d/c)):i.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e)}}}];h.interceptors.push(e)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(i,o,a,s){function u(e){if(m){var t=100*e+"%";f.css("width",t),v=e,y&&(a.cancel(c),c=a(function(){n()},250))}}function n(){if(!(1<=r())){var e,t=r();e=0<=t&&t<.25?(3*Math.random()+3)/100:.25<=t&&t<.65?3*Math.random()/100:.65<=t&&t<.9?2*Math.random()/100:.9<=t&&t<.99?.005:0,u(r()+e)}}function r(){return v}function t(){v=0,m=!1}var l,c,d,p=this.parentSelector,h=angular.element(this.loadingBarTemplate),f=h.find("div").eq(0),g=angular.element(this.spinnerTemplate),m=!1,v=0,y=this.autoIncrement,w=this.includeSpinner,b=this.includeBar,$=this.startSize;return{start:function(){if(l||(l=i.get("$animate")),a.cancel(d),!m){var e=o[0],t=e.querySelector?e.querySelector(p):o.find(p)[0];t||(t=e.getElementsByTagName("body")[0]);var n=angular.element(t),r=t.lastChild&&angular.element(t.lastChild);s.$broadcast("cfpLoadingBar:started"),m=!0,b&&l.enter(h,n,r),w&&l.enter(g,n,h),u($)}},set:u,status:r,inc:n,complete:function(){l||(l=i.get("$animate")),s.$broadcast("cfpLoadingBar:completed"),u(1),a.cancel(d),d=a(function(){var e=l.leave(h,t);e&&e.then&&e.then(t),l.leave(g)},500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,s,u){function e(e){for(var t in e)if(void 0!==n.style[t])return e[t]}var l=function(e,t,n){n=n||{};var r=a.defer(),i=l[n.animation?"animationEndEventName":"transitionEndEventName"],o=function(){u.$apply(function(){e.unbind(i,o),r.resolve(e)})};return i&&e.bind(i,o),s(function(){angular.isString(t)?e.addClass(t):angular.isFunction(t)?t(e):angular.isObject(t)&&e.css(t),i||r.resolve(e)}),r.promise.cancel=function(){i&&e.unbind(i,o),r.reject("Transition cancelled")},r.promise},n=document.createElement("trans");return l.transitionEndEventName=e({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),l.animationEndEventName=e({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),l}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(u){return{link:function(e,r,t){function n(e){function t(){a===n&&(a=void 0)}var n=u(r,e);return a&&a.cancel(),(a=n).then(t,t),n}function i(){r.removeClass("collapsing"),r.addClass("collapse in"),r.css({height:"auto"})}function o(){r.removeClass("collapsing"),r.addClass("collapse")}var a,s=!0;e.$watch(t.collapse,function(e){e?s?(s=!1,o(),r.css({height:0})):(r.css({height:r[0].scrollHeight+"px"}),r[0].offsetWidth,r.removeClass("collapse in").addClass("collapsing"),n({height:0}).then(o)):s?(s=!1,i()):(r.removeClass("collapse").addClass("collapsing"),n({height:r[0].scrollHeight+"px"}).then(i))})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,n,r){this.groups=[],this.closeOthers=function(t){(angular.isDefined(n.closeOthers)?e.$eval(n.closeOthers):r.closeOthers)&&angular.forEach(this.groups,function(e){e!==t&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,e,n,r){r.addGroup(t),t.$watch("isOpen",function(e){e&&r.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(i){return{require:"alert",link:function(e,t,n,r){i(function(){r.close()},parseInt(n.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,n,r,e){var i=e[0],o=e[1];o.$render=function(){n.toggleClass(i.activeClass,angular.equals(o.$modelValue,t.$eval(r.btnRadio)))},n.bind(i.toggleEvent,function(){var e=n.hasClass(i.activeClass);(!e||angular.isDefined(r.uncheckable))&&t.$apply(function(){o.$setViewValue(e?null:t.$eval(r.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(r,e,t,n){function i(){return o(t.btnCheckboxTrue,!0)}function o(e,t){var n=r.$eval(e);return angular.isDefined(n)?n:t}var a=n[0],s=n[1];s.$render=function(){e.toggleClass(a.activeClass,angular.equals(s.$modelValue,i()))},e.bind(a.toggleEvent,function(){r.$apply(function(){s.$setViewValue(e.hasClass(a.activeClass)?o(t.btnCheckboxFalse,!1):i()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(a,t,n,s){function u(){r();var e=+a.interval;!isNaN(e)&&0<e&&(o=n(i,e))}function r(){o&&(n.cancel(o),o=null)}function i(){var e=+a.interval;l&&!isNaN(e)&&0<e?a.next():a.pause()}var o,l,c=this,d=c.slides=a.slides=[],p=-1;c.currentSlide=null;var h=!1;c.select=a.select=function(n,r){function e(){var e,t;h||(c.currentSlide&&angular.isString(r)&&!a.noTransition&&n.$element?(n.$element.addClass(r),n.$element[0].offsetWidth,angular.forEach(d,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:r,active:!0,entering:!0}),angular.extend(c.currentSlide||{},{direction:r,leaving:!0}),a.$currentTransition=s(n.$element,{}),e=n,t=c.currentSlide,a.$currentTransition.then(function(){i(e,t)},function(){i(e,t)})):i(n,c.currentSlide),c.currentSlide=n,p=o,u())}function i(e,t){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(t||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var o=d.indexOf(n);void 0===r&&(r=p<o?"next":"prev"),n&&n!==c.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),t(e)):e())},a.$on("$destroy",function(){h=!0}),c.indexOfSlide=function(e){return d.indexOf(e)},a.next=function(){var e=(p+1)%d.length;return a.$currentTransition?void 0:c.select(d[e],"next")},a.prev=function(){var e=p-1<0?d.length-1:p-1;return a.$currentTransition?void 0:c.select(d[e],"prev")},a.isActive=function(e){return c.currentSlide===e},a.$watch("interval",u),a.$on("$destroy",r),a.play=function(){l||(l=!0,u())},a.pause=function(){a.noPause||(l=!1,r())},c.addSlide=function(e,t){e.$element=t,d.push(e),1===d.length||e.active?(c.select(d[d.length-1]),1==d.length&&a.play()):e.active=!1},c.removeSlide=function(e){var t=d.indexOf(e);d.splice(t,1),0<d.length&&e.active?c.select(t>=d.length?d[t-1]:d[t]):t<p&&p--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(t,e,n,r){r.addSlide(t,e),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(e){e&&r.select(t)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(d,p){this.parsers={};var h={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:d.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=d.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:d.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=d.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:d.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:d.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(e,t){if(!angular.isString(e)||!t)return e;t=d.DATETIME_FORMATS[t]||t,this.parsers[t]||(this.parsers[t]=function(o){var a=[],s=o.split("");return angular.forEach(h,function(e,t){var n=o.indexOf(t);if(-1<n){o=o.split(""),s[n]="("+e.regex+")",o[n]="$";for(var r=n+1,i=n+t.length;r<i;r++)s[r]="",o[r]="$";o=o.join(""),a.push({index:n,apply:e.apply})}}),{regex:new RegExp("^"+s.join("")+"$"),map:p(a,"index")}}(t));var n=this.parsers[t],r=n.regex,i=n.map,o=e.match(r);if(o&&o.length){for(var a,s={year:1900,month:0,date:1,hours:0},u=1,l=o.length;u<l;u++){var c=i[u-1];c.apply&&c.apply.call(s,o[u])}return function(e,t,n){return 1===t&&28<n?29===n&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||n<31}(s.year,s.month,s.date)&&(a=new Date(s.year,s.month,s.date,s.hours)),a}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(o,n){function a(e){return"static"===(function(e,t){return e.currentStyle?e.currentStyle[t]:n.getComputedStyle?n.getComputedStyle(e)[t]:e.style[t]}(e,"position")||"static")}return{position:function(e){var t=this.offset(e),n={top:0,left:0},r=function(e){for(var t=o[0],n=e.offsetParent||t;n&&n!==t&&a(n);)n=n.offsetParent;return n||t}(e[0]);r!=o[0]&&((n=this.offset(angular.element(r))).top+=r.clientTop-r.scrollTop,n.left+=r.clientLeft-r.scrollLeft);var i=e[0].getBoundingClientRect();return{width:i.width||e.prop("offsetWidth"),height:i.height||e.prop("offsetHeight"),top:t.top-n.top,left:t.left-n.left}},offset:function(e){var t=e[0].getBoundingClientRect();return{width:t.width||e.prop("offsetWidth"),height:t.height||e.prop("offsetHeight"),top:t.top+(n.pageYOffset||o[0].documentElement.scrollTop),left:t.left+(n.pageXOffset||o[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,o,a,s,u=n.split("-"),l=u[0],c=u[1]||"center";i=r?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(l){case"right":s={top:p[c](),left:d[l]()};break;case"left":s={top:p[c](),left:i.left-o};break;case"bottom":s={top:p[l](),left:d[c]()};break;default:s={top:i.top-a,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(n,r,e,i,t,o,a,s){var u=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(e,t){u[e]=angular.isDefined(r[e])?t<8?i(r[e])(n.$parent):n.$parent.$eval(r[e]):s[e]}),angular.forEach(["minDate","maxDate"],function(t){r[t]?n.$parent.$watch(e(r[t]),function(e){u[t]=e?new Date(e):null,u.refreshView()}):u[t]=s[t]?new Date(s[t]):null}),n.datepickerMode=n.datepickerMode||s.datepickerMode,n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(r.initDate)?n.$parent.$eval(r.initDate):new Date,n.isActive=function(e){return 0===u.compare(e.date,u.activeDate)&&(n.activeDateId=e.uid,!0)},this.init=function(e){(l=e).$render=function(){u.render()}},this.render=function(){if(l.$modelValue){var e=new Date(l.$modelValue),t=!isNaN(e);t?this.activeDate=e:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),l.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=l.$modelValue?new Date(l.$modelValue):null;l.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=l.$modelValue?new Date(l.$modelValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(e){return this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&0<this.compare(e,this.maxDate)||r.dateDisabled&&n.dateDisabled({date:e,mode:n.datepickerMode})},this.split=function(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n},n.select=function(e){if(n.datepickerMode===u.minMode){var t=l.$modelValue?new Date(l.$modelValue):new Date(0,0,0,0,0,0,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),l.$setViewValue(t),l.$render()}else u.activeDate=e,n.datepickerMode=u.modes[u.modes.indexOf(n.datepickerMode)-1]},n.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),n=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,n,1),u.refreshView()},n.toggleMode=function(e){e=e||1,n.datepickerMode===u.maxMode&&1===e||n.datepickerMode===u.minMode&&-1===e||(n.datepickerMode=u.modes[u.modes.indexOf(n.datepickerMode)+e])},n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){t(function(){u.element[0].focus()},0,!1)};n.$on("datepicker.focus",c),n.keydown=function(e){var t=n.keys[e.which];if(t&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),e.stopPropagation(),"enter"===t||"space"===t){if(u.isDisabled(u.activeDate))return;n.select(u.activeDate),c()}else!e.ctrlKey||"up"!==t&&"down"!==t?(u.handleKeyDown(t,e),u.refreshView()):(n.toggleMode("up"===t?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}).directive("daypicker",["dateFilter",function(h){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(d,e,t,p){function r(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?n[t]:29}d.showWeeks=p.showWeeks,p.step={months:1},p.element=e;var n=[31,28,31,30,31,30,31,31,30,31,30,31];p._refreshView=function(){var e=p.activeDate.getFullYear(),t=p.activeDate.getMonth(),n=new Date(e,t,1),r=p.startingDay-n.getDay(),i=0<r?7-r:-r,o=new Date(n);0<i&&o.setDate(1-i);for(var a=function(e,t){var n=new Array(t),r=new Date(e),i=0;for(r.setHours(12);i<t;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}(o,42),s=0;s<42;s++)a[s]=angular.extend(p.createDateObject(a[s],p.formatDay),{secondary:a[s].getMonth()!==t,uid:d.uniqueId+"-"+s});d.labels=new Array(7);for(var u=0;u<7;u++)d.labels[u]={abbr:h(a[u].date,p.formatDayHeader),full:h(a[u].date,"EEEE")};if(d.title=h(p.activeDate,p.formatDayTitle),d.rows=p.split(a,7),d.showWeeks){d.weekNumbers=[];for(var l=function(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}(d.rows[0][0].date),c=d.rows.length;d.weekNumbers.push(l++)<c;);}},p.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},p.handleKeyDown=function(e){var t=p.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=p.activeDate.getMonth()+("pageup"===e?-1:1);p.activeDate.setMonth(n,1),t=Math.min(r(p.activeDate.getFullYear(),p.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=r(p.activeDate.getFullYear(),p.activeDate.getMonth()));p.activeDate.setDate(t)},p.refreshView()}}}]).directive("monthpicker",["dateFilter",function(o){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(r,e,t,i){i.step={years:1},i.element=e,i._refreshView=function(){for(var e=new Array(12),t=i.activeDate.getFullYear(),n=0;n<12;n++)e[n]=angular.extend(i.createDateObject(new Date(t,n,1),i.formatMonth),{uid:r.uniqueId+"-"+n});r.title=o(i.activeDate,i.formatMonthTitle),r.rows=i.split(e,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(r,e,t,i){function o(e){return parseInt((e-1)/a,10)*a+1}var a=i.yearRange;i.step={years:a},i.element=e,i._refreshView=function(){for(var e=new Array(a),t=0,n=o(i.activeDate.getFullYear());t<a;t++)e[t]=angular.extend(i.createDateObject(new Date(n+t,0,1),i.formatYear),{uid:r.uniqueId+"-"+t});r.title=[e[0].label,e[a-1].label].join(" - "),r.rows=i.split(e,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e){var t=i.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i.step.years:"home"===e?t=o(i.activeDate.getFullYear()):"end"===e&&(t=o(i.activeDate.getFullYear())+a-1),i.activeDate.setFullYear(t)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(f,g,m,v,y,w,b){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(r,t,i,n){function o(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function a(e){if(!e)return n.$setValidity("date",!0),null;if(angular.isDate(e)&&!isNaN(e))return n.$setValidity("date",!0),e;if(angular.isString(e)){var t=w.parse(e,s)||new Date(e);return isNaN(t)?void n.$setValidity("date",!1):(n.$setValidity("date",!0),t)}n.$setValidity("date",!1)}var s,u=angular.isDefined(i.closeOnDateSelection)?r.$parent.$eval(i.closeOnDateSelection):b.closeOnDateSelection,l=angular.isDefined(i.datepickerAppendToBody)?r.$parent.$eval(i.datepickerAppendToBody):b.appendToBody;r.showButtonBar=angular.isDefined(i.showButtonBar)?r.$parent.$eval(i.showButtonBar):b.showButtonBar,r.getText=function(e){return r[e+"Text"]||b[e+"Text"]},i.$observe("datepickerPopup",function(e){s=e||b.datepickerPopup,n.$render()});var e=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");e.attr({"ng-model":"date","ng-change":"dateSelection()"});var c=angular.element(e.children()[0]);i.datepickerOptions&&angular.forEach(r.$parent.$eval(i.datepickerOptions),function(e,t){c.attr(o(t),e)}),r.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(t){if(i[t]){var e=g(i[t]);if(r.$parent.$watch(e,function(e){r.watchData[t]=e}),c.attr(o(t),"watchData."+t),"datepickerMode"===t){var n=e.assign;r.$watch("watchData."+t,function(e,t){e!==t&&n(r.$parent,e)})}}}),i.dateDisabled&&c.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),n.$parsers.unshift(a),r.dateSelection=function(e){angular.isDefined(e)&&(r.date=e),n.$setViewValue(r.date),n.$render(),u&&(r.isOpen=!1,t[0].focus())},t.bind("input change keyup",function(){r.$apply(function(){r.date=n.$modelValue})}),n.$render=function(){var e=n.$viewValue?y(n.$viewValue,s):"";t.val(e),r.date=a(n.$modelValue)};var d=function(e){r.isOpen&&e.target!==t[0]&&r.$apply(function(){r.isOpen=!1})},p=function(e){r.keydown(e)};t.bind("keydown",p),r.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),r.close()):40!==e.which||r.isOpen||(r.isOpen=!0)},r.$watch("isOpen",function(e){e?(r.$broadcast("datepicker.focus"),r.position=l?v.offset(t):v.position(t),r.position.top=r.position.top+t.prop("offsetHeight"),m.bind("click",d)):m.unbind("click",d)}),r.select=function(e){if("today"===e){var t=new Date;angular.isDate(n.$modelValue)?(e=new Date(n.$modelValue)).setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):e=new Date(t.setHours(0,0,0,0))}r.dateSelection(e)},r.close=function(){r.isOpen=!1,t[0].focus()};var h=f(e)(r);e.remove(),l?m.find("body").append(h):t.after(h),r.$on("$destroy",function(){h.remove(),t.unbind("keydown",p),m.unbind("click",d)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(t){var n=null;this.open=function(e){n||(t.bind("click",r),t.bind("keydown",i)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",r),t.unbind("keydown",i))};var r=function(e){if(n){var t=n.getToggleElement();e&&t&&t[0].contains(e.target)||n.$apply(function(){n.isOpen=!1})}},i=function(e){27===e.which&&(n.focusToggleElement(),r())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(n,t,r,e,i,o){var a,s=this,u=n.$new(),l=e.openClass,c=angular.noop,d=t.onToggle?r(t.onToggle):angular.noop;this.init=function(e){s.$element=e,t.isOpen&&(a=r(t.isOpen),c=a.assign,n.$watch(a,function(e){u.isOpen=!!e}))},this.toggle=function(e){return u.isOpen=arguments.length?!!e:!u.isOpen},this.isOpen=function(){return u.isOpen},u.getToggleElement=function(){return s.toggleElement},u.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},u.$watch("isOpen",function(e,t){o[e?"addClass":"removeClass"](s.$element,l),e?(u.focusToggleElement(),i.open(u)):i.close(u),c(n,e),angular.isDefined(e)&&e!==t&&d(n,{open:!!e})}),n.$on("$locationChangeSuccess",function(){u.isOpen=!1}),n.$on("$destroy",function(){u.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,r){r.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,n,r,i){if(i){i.toggleElement=n;var e=function(e){e.preventDefault(),n.hasClass("disabled")||r.disabled||t.$apply(function(){i.toggle()})};n.bind("click",e),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(e){n.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){n.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var r=[];return{add:function(e,t){r.push({key:e,value:t})},get:function(e){for(var t=0;t<r.length;t++)if(e==r[t].key)return r[t]},keys:function(){for(var e=[],t=0;t<r.length;t++)e.push(r[t].key);return e},top:function(){return r[r.length-1]},remove:function(e){for(var t=-1,n=0;n<r.length;n++)if(e==r[n].key){t=n;break}return r.splice(t,1)[0]},removeTop:function(){return r.splice(r.length-1,1)[0]},length:function(){return r.length}}}}}).directive("modalBackdrop",["$timeout",function(r){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,t,n){e.backdropClass=n.backdropClass||"",e.animate=!1,r(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(r,i){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(e,t,n){t.addClass(n.windowClass||""),e.size=n.size,i(function(){e.animate=!0,t[0].querySelectorAll("[autofocus]").length||t[0].focus()}),e.close=function(e){var t=r.getTop();t&&t.value.backdrop&&"static"!=t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),r.dismiss(t.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(s,u,l,c,d,e){function p(){for(var e=-1,t=m.keys(),n=0;n<t.length;n++)m.get(t[n]).value.backdrop&&(e=n);return e}function r(e){var t=l.find("body").eq(0),n=m.get(e).value;m.remove(e),i(n.modalDomEl,n.modalScope,300,function(){n.modalScope.$destroy(),t.toggleClass(g,0<m.length()),function(){if(h&&-1==p()){var e=f;i(h,f,150,function(){e.$destroy(),e=null}),f=h=void 0}}()})}function i(e,t,n,r){function i(){i.done||(i.done=!0,e.remove(),r&&r())}t.animate=!1;var o=s.transitionEndEventName;if(o){var a=u(i,n);e.bind(o,function(){u.cancel(a),i(),t.$apply()})}else u(i)}var h,f,g="modal-open",m=e.createNew(),n={};return d.$watch(p,function(e){f&&(f.index=e)}),l.bind("keydown",function(e){var t;27===e.which&&((t=m.top())&&t.value.keyboard&&(e.preventDefault(),d.$apply(function(){n.dismiss(t.key,"escape key press")})))}),n.open=function(e,t){m.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var n=l.find("body").eq(0),r=p();if(0<=r&&!h){(f=d.$new(!0)).index=r;var i=angular.element("<div modal-backdrop></div>");i.attr("backdrop-class",t.backdropClass),h=c(i)(f),n.append(h)}var o=angular.element("<div modal-window></div>");o.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:m.length()-1,animate:"animate"}).html(t.content);var a=c(o)(t.scope);m.top().value.modalDomEl=a,n.append(a),n.addClass(g)},n.close=function(e,t){var n=m.get(e);n&&(n.value.deferred.resolve(t),r(e))},n.dismiss=function(e,t){var n=m.get(e);n&&(n.value.deferred.reject(t),r(e))},n.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},n.getTop=function(){return m.top()},n}]).provider("$modal",function(){var p={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(n,u,r,i,l,c,d){var e={};return e.open=function(o){var a=r.defer(),e=r.defer(),s={result:a.promise,opened:e.promise,close:function(e){d.close(s,e)},dismiss:function(e){d.dismiss(s,e)}};if((o=angular.extend({},p.options,o)).resolve=o.resolve||{},!o.template&&!o.templateUrl)throw new Error("One of template or templateUrl options is required.");var t=r.all([function(e){return e.template?r.when(e.template):i.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:l}).then(function(e){return e.data})}(o)].concat(function(e){var t=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&t.push(r.when(n.invoke(e)))}),t}(o.resolve)));return t.then(function(n){var e=(o.scope||u).$new();e.$close=s.close,e.$dismiss=s.dismiss;var t,r={},i=1;o.controller&&(r.$scope=e,r.$modalInstance=s,angular.forEach(o.resolve,function(e,t){r[t]=n[i++]}),t=c(o.controller,r),o.controllerAs&&(e[o.controllerAs]=t)),d.open(s,{scope:e,deferred:a,content:n[0],backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,size:o.size})},function(e){a.reject(e)}),t.then(function(){e.resolve(!0)},function(){e.reject(!1)}),s},e}]};return p}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(n,r,i){var o=this,a={$setViewValue:angular.noop},t=r.numPages?i(r.numPages).assign:angular.noop;this.init=function(e,t){a=e,this.config=t,a.$render=function(){o.render()},r.itemsPerPage?n.$parent.$watch(i(r.itemsPerPage),function(e){o.itemsPerPage=parseInt(e,10),n.totalPages=o.calculateTotalPages()}):this.itemsPerPage=t.itemsPerPage},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){n.page=parseInt(a.$viewValue,10)||1},n.selectPage=function(e){n.page!==e&&0<e&&e<=n.totalPages&&(a.$setViewValue(e),a.$render())},n.getText=function(e){return n[e+"Text"]||o.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},n.$watch("totalItems",function(){n.totalPages=o.calculateTotalPages()}),n.$watch("totalPages",function(e){t(n.$parent,e),n.page>e?n.selectPage(e):a.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(s,u){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(e,t,n,r){function c(e,t,n){return{number:e,text:t,active:n}}var i=r[0],o=r[1];if(o){var d=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):u.maxSize,p=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):u.rotate;e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):u.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):u.directionLinks,i.init(o,u),n.maxSize&&e.$parent.$watch(s(n.maxSize),function(e){d=parseInt(e,10),i.render()});var a=i.render;i.render=function(){a(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],r=1,i=t,o=angular.isDefined(d)&&d<t;o&&(p?t<(i=(r=Math.max(e-Math.floor(d/2),1))+d-1)&&(r=(i=t)-d+1):(r=(Math.ceil(e/d)-1)*d+1,i=Math.min(r+d-1,t)));for(var a=r;a<=i;a++){var s=c(a,a,a===e);n.push(s)}if(o&&!p){if(1<r){var u=c(r-1,"...",!1);n.unshift(u)}if(i<t){var l=c(i+1,"...",!1);n.push(l)}}return n}(e.page,e.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];o&&(e.align=angular.isDefined(n.align)?e.$parent.$eval(n.align):a.align,i.init(o,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){var s={placement:"top",animation:!0,popupDelay:0},u={mouseenter:"mouseleave",click:"click",focus:"blur"},l={};this.options=function(e){angular.extend(l,e)},this.setTriggers=function(e){angular.extend(u,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(e,o,x,O,T,a){return function(S,C,n){function k(e){var t=e||D.trigger||n;return{show:t,hide:u[t]||t}}var D=angular.extend({},s,l),e=function(e){return e.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})}(S),t=a.startSymbol(),r=a.endSymbol(),i="<div "+e+'-popup title="'+t+"title"+r+'" content="'+t+"content"+r+'" placement="'+t+"placement"+r+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var _=o(i);return function(e,t,n){function r(){m.isOpen?o():i()}function i(){(!g||e.$eval(n[C+"Enable"]))&&(function(){var e=n[C+"Placement"];m.placement=angular.isDefined(e)?e:D.placement}(),function(){var e=n[C+"PopupDelay"],t=parseInt(e,10);m.popupDelay=isNaN(t)?D.popupDelay:t}(),m.popupDelay?p||(p=x(a,m.popupDelay,!1)).then(function(e){e()}):a()())}function o(){e.$apply(function(){s()})}function a(){return p=null,d&&(x.cancel(d),d=null),m.content?(l&&u(),c=m.$new(),(l=_(c,function(e){h?O.find("body").append(e):t.after(e)})).css({top:0,left:0,display:"block"}),m.$digest(),v(),m.isOpen=!0,m.$digest(),v):angular.noop}function s(){m.isOpen=!1,x.cancel(p),p=null,m.animation?d||(d=x(u,500)):u()}function u(){d=null,l&&(l.remove(),l=null),c&&(c.$destroy(),c=null)}var l,c,d,p,h=!!angular.isDefined(D.appendToBody)&&D.appendToBody,f=k(void 0),g=angular.isDefined(n[C+"Enable"]),m=e.$new(!0),v=function(){var e=T.positionElements(t,l,m.placement,h);e.top+="px",e.left+="px",l.css(e)};m.isOpen=!1,n.$observe(S,function(e){!(m.content=e)&&m.isOpen&&s()}),n.$observe(C+"Title",function(e){m.title=e});var y,w=function(){t.unbind(f.show,i),t.unbind(f.hide,o)};y=n[C+"Trigger"],w(),(f=k(y)).show===f.hide?t.bind(f.show,r):(t.bind(f.show,i),t.bind(f.hide,o));var b=e.$eval(n[C+"Animation"]);m.animation=angular.isDefined(b)?!!b:D.animation;var $=e.$eval(n[C+"AppendToBody"]);(h=angular.isDefined($)?$:h)&&e.$on("$locationChangeSuccess",function(){m.isOpen&&s()}),e.$on("$destroy",function(){x.cancel(d),x.cancel(p),w(),u(),m=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(n,e,t){var r=this,i=angular.isDefined(e.animate)?n.$parent.$eval(e.animate):t.animate;this.bars=[],n.max=angular.isDefined(e.max)?n.$parent.$eval(e.max):t.max,this.addBar=function(t,e){i||e.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(e){t.percent=+(100*e/n.max).toFixed(2)}),t.$on("$destroy",function(){e=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(n,r,i){var o={$setViewValue:angular.noop};this.init=function(e){(o=e).$render=this.render,this.stateOn=angular.isDefined(r.stateOn)?n.$parent.$eval(r.stateOn):i.stateOn,this.stateOff=angular.isDefined(r.stateOff)?n.$parent.$eval(r.stateOff):i.stateOff;var t=angular.isDefined(r.ratingStates)?n.$parent.$eval(r.ratingStates):new Array(angular.isDefined(r.max)?n.$parent.$eval(r.max):i.max);n.range=this.buildTemplateObjects(t)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},n.rate=function(e){!n.readonly&&0<=e&&e<=n.range.length&&(o.$setViewValue(e),o.$render())},n.enter=function(e){n.readonly||(n.value=e),n.onHover({value:e})},n.reset=function(){n.value=o.$viewValue,n.onLeave()},n.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),n.rate(n.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){n.value=o.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var r,i=this,o=i.tabs=e.tabs=[];i.select=function(t){angular.forEach(o,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},i.addTab=function(e){o.push(e),1===o.length?e.active=!0:e.active&&i.select(e)},i.removeTab=function(e){var t=o.indexOf(e);if(e.active&&1<o.length&&!r){var n=t==o.length-1?t-1:t+1;i.select(o[n])}o.splice(t,1)},e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("tab",["$parse",function(o){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,t,i){return function(t,e,n,r){t.$watch("active",function(e){e&&r.select(t)}),t.disabled=!1,n.disabled&&t.$parent.$watch(o(n.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(e,t,n){var r=e.$eval(n.tabContentTransclude);r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){!function(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):r.headingElement=e})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(i,o,e,t,n,a){function r(){var e=parseInt(i.hours,10);return(i.showMeridian?0<e&&e<13:0<=e&&e<24)?(i.showMeridian&&(12===e&&(e=0),i.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(i.minutes,10);return 0<=e&&e<60?e:void 0}function u(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function l(e){c(),f.$setViewValue(new Date(h)),d(e)}function c(){f.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function d(e){var t=h.getHours(),n=h.getMinutes();i.showMeridian&&(t=0===t||12===t?12:t%12),i.hours="h"===e?t:u(t),i.minutes="m"===e?n:u(n),i.meridian=h.getHours()<12?g[0]:g[1]}function p(e){var t=new Date(h.getTime()+6e4*e);h.setHours(t.getHours(),t.getMinutes()),l()}var h=new Date,f={$setViewValue:angular.noop},g=angular.isDefined(o.meridians)?i.$parent.$eval(o.meridians):a.meridians||n.DATETIME_FORMATS.AMPMS;this.init=function(e,t){(f=e).$render=this.render;var n=t.eq(0),r=t.eq(1);(angular.isDefined(o.mousewheel)?i.$parent.$eval(o.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(n,r),i.readonlyInput=angular.isDefined(o.readonlyInput)?i.$parent.$eval(o.readonlyInput):a.readonlyInput,this.setupInputEvents(n,r)};var m=a.hourStep;o.hourStep&&i.$parent.$watch(e(o.hourStep),function(e){m=parseInt(e,10)});var v=a.minuteStep;o.minuteStep&&i.$parent.$watch(e(o.minuteStep),function(e){v=parseInt(e,10)}),i.showMeridian=a.showMeridian,o.showMeridian&&i.$parent.$watch(e(o.showMeridian),function(e){if(i.showMeridian=!!e,f.$error.time){var t=r(),n=s();angular.isDefined(t)&&angular.isDefined(n)&&(h.setHours(t),l())}else d()}),this.setupMousewheelEvents=function(e,t){var n=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||0<t};e.bind("mousewheel wheel",function(e){i.$apply(n(e)?i.incrementHours():i.decrementHours()),e.preventDefault()}),t.bind("mousewheel wheel",function(e){i.$apply(n(e)?i.incrementMinutes():i.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(e,t){if(i.readonlyInput)return i.updateHours=angular.noop,void(i.updateMinutes=angular.noop);var n=function(e,t){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(e)&&(i.invalidHours=e),angular.isDefined(t)&&(i.invalidMinutes=t)};i.updateHours=function(){var e=r();angular.isDefined(e)?(h.setHours(e),l("h")):n(!0)},e.bind("blur",function(){!i.invalidHours&&i.hours<10&&i.$apply(function(){i.hours=u(i.hours)})}),i.updateMinutes=function(){var e=s();angular.isDefined(e)?(h.setMinutes(e),l("m")):n(void 0,!0)},t.bind("blur",function(){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=u(i.minutes)})})},this.render=function(){var e=f.$modelValue?new Date(f.$modelValue):null;isNaN(e)?(f.$setValidity("time",!1),t.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(h=e),c(),d())},i.incrementHours=function(){p(60*m)},i.decrementHours=function(){p(60*-m)},i.incrementMinutes=function(){p(v)},i.decrementMinutes=function(){p(-v)},i.toggleMeridian=function(){p(720*(h.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(e){var t=e.match(r);if(!t)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+e+'".');return{itemName:t[3],source:n(t[4]),viewMapper:n(t[2]||t[1]),modelMapper:n(t[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(k,D,x,O,T,A,E){var P=[9,13,27,38,40];return{require:"ngModel",link:function(o,a,e,s){var u,t=o.$eval(e.typeaheadMinLength)||1,n=o.$eval(e.typeaheadWaitMs)||0,r=!1!==o.$eval(e.typeaheadEditable),l=D(e.typeaheadLoading).assign||angular.noop,i=D(e.typeaheadOnSelect),c=e.typeaheadInputFormatter?D(e.typeaheadInputFormatter):void 0,d=!!e.typeaheadAppendToBody&&o.$eval(e.typeaheadAppendToBody),p=!1!==o.$eval(e.typeaheadFocusFirst),h=D(e.ngModel).assign,f=E.parse(e.typeahead),g=o.$new();o.$on("$destroy",function(){g.$destroy()});var m="typeahead-"+g.$id+"-"+Math.floor(1e4*Math.random());a.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":m});var v=angular.element("<div typeahead-popup></div>");v.attr({id:m,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(e.typeaheadTemplateUrl)&&v.attr("template-url",e.typeaheadTemplateUrl);var y=function(){g.matches=[],g.activeIdx=-1,a.attr("aria-expanded",!1)},w=function(e){return m+"-option-"+e};g.$watch("activeIdx",function(e){e<0?a.removeAttr("aria-activedescendant"):a.attr("aria-activedescendant",w(e))});var b=function(r){var i={$viewValue:r};l(o,!0),x.when(f.source(o,i)).then(function(e){var t=r===s.$viewValue;if(t&&u)if(0<e.length){g.activeIdx=p?0:-1;for(var n=g.matches.length=0;n<e.length;n++)i[f.itemName]=e[n],g.matches.push({id:w(n),label:f.viewMapper(g,i),model:e[n]});g.query=r,g.position=d?A.offset(a):A.position(a),g.position.top=g.position.top+a.prop("offsetHeight"),a.attr("aria-expanded",!0)}else y();t&&l(o,!1)},function(){y(),l(o,!1)})};y(),g.query=void 0;var $,_=function(){$&&O.cancel($)};s.$parsers.unshift(function(e){return u=!0,e&&e.length>=t?0<n?(_(),function(e){$=O(function(){b(e)},n)}(e)):b(e):(l(o,!1),_(),y()),r?e:e?void s.$setValidity("editable",!1):(s.$setValidity("editable",!0),e)}),s.$formatters.push(function(e){var t,n={};return c?(n.$model=e,c(o,n)):(n[f.itemName]=e,t=f.viewMapper(o,n),n[f.itemName]=void 0,t!==f.viewMapper(o,n)?t:e)}),g.select=function(e){var t,n,r={};r[f.itemName]=n=g.matches[e].model,t=f.modelMapper(o,r),h(o,t),s.$setValidity("editable",!0),i(o,{$item:n,$model:t,$label:f.viewMapper(o,r)}),y(),O(function(){a[0].focus()},0,!1)},a.bind("keydown",function(e){0!==g.matches.length&&-1!==P.indexOf(e.which)&&(-1!=g.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(g.activeIdx=(g.activeIdx+1)%g.matches.length,g.$digest()):38===e.which?(g.activeIdx=(0<g.activeIdx?g.activeIdx:g.matches.length)-1,g.$digest()):13===e.which||9===e.which?g.$apply(function(){g.select(g.activeIdx)}):27===e.which&&(e.stopPropagation(),y(),g.$digest()))}),a.bind("blur",function(){u=!1});var S=function(e){a[0]!==e.target&&(y(),g.$digest())};T.bind("click",S),o.$on("$destroy",function(){T.unbind("click",S),d&&C.remove()});var C=k(v)(g);d?T.find("body").append(C):a.after(C)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return 0<t.matches.length},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(i,o,a,s){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(t,n,e){var r=s(e.templateUrl)(t.$parent)||"template/typeahead/typeahead-match.html";i.get(r,{cache:o}).success(function(e){n.replaceWith(a(e.trim())(t))})}}}]).filter("typeaheadHighlight",function(){return function(e,t){return t?(""+e).replace(new RegExp(function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(t),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,i;function p(){return e.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)h(t,n)&&(e[n]=t[n]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return xt(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=f(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=d(NaN);return null!=e?c(f(t),e):f(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var v=p.momentProperties=[];function y(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),0<v.length)for(n=0;n<v.length;n++)o(i=t[r=v[n]])||(e[r]=i);return e}var t=!1;function w(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,p.updateOffset(this),t=!1)}function b(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function $(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=$(t)),n}function S(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&_(e[r])!==_(t[r]))&&a++;return a+o}function C(e){!1===p.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(i,o){var a=!0;return c(function(){if(null!=p.deprecationHandler&&p.deprecationHandler(null,i),a){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var r in e+="\n["+n+"] ",arguments[0])e+=r+": "+arguments[0][r]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}C(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),a=!1}return o.apply(this,arguments)},o)}var k,D={};function x(e,t){null!=p.deprecationHandler&&p.deprecationHandler(e,t),D[e]||(C(t),D[e]=!0)}function O(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e,t){var n,r=c({},e);for(n in t)h(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},c(r[n],e[n]),c(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)h(e,n)&&!h(t,n)&&s(e[n])&&(r[n]=c({},r[n]));return r}function A(e){null!=e&&this.set(e)}p.suppressDeprecationWarnings=!1,p.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)h(e,t)&&n.push(t);return n};var E={};function P(e,t){var n=e.toLowerCase();E[n]=E[n+"s"]=E[t]=e}function M(e){return"string"==typeof e?E[e]||E[e.toLowerCase()]:void 0}function R(e){var t,n,r={};for(n in e)h(e,n)&&(t=M(n))&&(r[t]=e[n]);return r}var I={};function V(e,t){I[e]=t}function L(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},N={};function Y(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(N[e]=i),t&&(N[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(N[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function U(e,t){return e.isValid()?(t=q(t,e.localeData()),H[t]=H[t]||function(r){var e,i,t,o=r.match(F);for(e=0,i=o.length;e<i;e++)N[o[e]]?o[e]=N[o[e]]:o[e]=(t=o[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,n="";for(t=0;t<i;t++)n+=O(o[t])?o[t].call(e,r):o[t];return n}}(t),H[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;0<=n&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var z=/\d/,B=/\d\d/,W=/\d{3}/,G=/\d{4}/,K=/[+-]?\d{6}/,Q=/\d\d?/,Z=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,J=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,re=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function ue(e,n,r){se[e]=O(n)?n:function(e,t){return e&&r?r:n}}function le(e,t){return h(se,e)?se[e](t._strict,t._locale):new RegExp(function(e){return ce(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}(e))}function ce(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function pe(e,n){var t,r=n;for("string"==typeof e&&(e=[e]),u(n)&&(r=function(e,t){t[n]=_(e)}),t=0;t<e.length;t++)de[e[t]]=r}function he(e,i){pe(e,function(e,t,n,r){n._w=n._w||{},i(e,n._w,n,r)})}var fe=0,ge=1,me=2,ve=3,ye=4,we=5,be=6,$e=7,_e=8;function Se(e){return Ce(e)?366:365}function Ce(e){return e%4==0&&e%100!=0||e%400==0}Y("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),P("year","y"),V("year",1),ue("Y",re),ue("YY",Q,B),ue("YYYY",ee,G),ue("YYYYY",te,K),ue("YYYYYY",te,K),pe(["YYYYY","YYYYYY"],fe),pe("YYYY",function(e,t){t[fe]=2===e.length?p.parseTwoDigitYear(e):_(e)}),pe("YY",function(e,t){t[fe]=p.parseTwoDigitYear(e)}),pe("Y",function(e,t){t[fe]=parseInt(e,10)}),p.parseTwoDigitYear=function(e){return _(e)+(68<_(e)?1900:2e3)};var ke,De=xe("FullYear",!0);function xe(t,n){return function(e){return null!=e?(Te(this,t,e),p.updateOffset(this,n),this):Oe(this,t)}}function Oe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Te(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Ce(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ae(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ae(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?Ce(e)?29:28:31-n%7%2}ke=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Y("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),V("month",8),ue("M",Q),ue("MM",Q,B),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),pe(["M","MM"],function(e,t){t[ge]=_(e)-1}),pe(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ge]=i:f(n).invalidMonth=e});var Ee=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Me="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ae(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ie(e){return null!=e?(Re(this,e),p.updateOffset(this,!0),this):Oe(this,"Month")}var Ve=ae;var Le=ae;function Fe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ce(r[t]),i[t]=ce(i[t]);for(t=0;t<24;t++)o[t]=ce(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function je(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function He(e,t,n){var r=7+t-n;return r-(7+je(e,0,r).getUTCDay()-t)%7-1}function Ne(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+He(e,r,i);return a=s<=0?Se(o=e-1)+s:s>Se(e)?(o=e+1,s-Se(e)):(o=e,s),{year:o,dayOfYear:a}}function Ye(e,t,n){var r,i,o=He(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Ue(i=e.year()-1,t,n):a>Ue(e.year(),t,n)?(r=a-Ue(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Ue(e,t,n){var r=He(e,t,n),i=He(e+1,t,n);return(Se(e)-r+i)/7}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),V("week",5),V("isoWeek",5),ue("w",Q),ue("ww",Q,B),ue("W",Q),ue("WW",Q,B),he(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_(e)});function qe(e,t){return e.slice(t,7).concat(e.slice(0,t))}Y("d",0,"do","day"),Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),ue("d",Q),ue("e",Q),ue("E",Q),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),he(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),he(["d","e","E"],function(e,t,n,r){t[r]=_(e)});var ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var We="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Ge=ae;var Ke=ae;var Qe=ae;function Ze(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(e),s.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)s[t]=ce(s[t]),u[t]=ce(u[t]),l[t]=ce(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Je(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Xe),Y("k",["kk",2],0,function(){return this.hours()||24}),Y("hmm",0,0,function(){return""+Xe.apply(this)+L(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Xe.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),Je("a",!0),Je("A",!1),P("hour","h"),V("hour",13),ue("a",et),ue("A",et),ue("H",Q),ue("h",Q),ue("k",Q),ue("HH",Q,B),ue("hh",Q,B),ue("kk",Q,B),ue("hmm",Z),ue("hmmss",X),ue("Hmm",Z),ue("Hmmss",X),pe(["H","HH"],ve),pe(["k","kk"],function(e,t,n){var r=_(e);t[ve]=24===r?0:r}),pe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),pe(["h","hh"],function(e,t,n){t[ve]=_(e),f(n).bigHour=!0}),pe("hmm",function(e,t,n){var r=e.length-2;t[ve]=_(e.substr(0,r)),t[ye]=_(e.substr(r)),f(n).bigHour=!0}),pe("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ve]=_(e.substr(0,r)),t[ye]=_(e.substr(r,2)),t[we]=_(e.substr(i)),f(n).bigHour=!0}),pe("Hmm",function(e,t,n){var r=e.length-2;t[ve]=_(e.substr(0,r)),t[ye]=_(e.substr(r))}),pe("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ve]=_(e.substr(0,r)),t[ye]=_(e.substr(r,2)),t[we]=_(e.substr(i))});var tt,nt=xe("Hours",!0),rt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:Me,week:{dow:0,doy:6},weekdays:ze,weekdaysMin:We,weekdaysShort:Be,meridiemParse:/[ap]\.?m?\.?/i},it={},ot={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function st(e){var t=null;if(!it[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=tt._abbr,require("./locale/"+e),ut(t)}catch(e){}return it[e]}function ut(e,t){var n;return e&&((n=o(t)?ct(e):lt(e,t))?tt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),tt._abbr}function lt(e,t){if(null===t)return delete it[e],null;var n,r=rt;if(t.abbr=e,null!=it[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])r=it[t.parentLocale]._config;else{if(null==(n=st(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;r=n._config}return it[e]=new A(T(r,t)),ot[e]&&ot[e].forEach(function(e){lt(e.name,e.config)}),ut(e),it[e]}function ct(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return tt;if(!a(e)){if(t=st(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=at(e[o]).split("-")).length,n=(n=at(e[o+1]))?n.split("-"):null;0<t;){if(r=st(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}o++}return tt}(e)}function dt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[ge]<0||11<n[ge]?ge:n[me]<1||n[me]>Ae(n[fe],n[ge])?me:n[ve]<0||24<n[ve]||24===n[ve]&&(0!==n[ye]||0!==n[we]||0!==n[be])?ve:n[ye]<0||59<n[ye]?ye:n[we]<0||59<n[we]?we:n[be]<0||999<n[be]?be:-1,f(e)._overflowDayOfYear&&(t<fe||me<t)&&(t=me),f(e)._overflowWeeks&&-1===t&&(t=$e),f(e)._overflowWeekday&&-1===t&&(t=_e),f(e).overflow=t),e}function pt(e,t,n){return null!=e?e:null!=t?t:n}function ht(e){var t,n,r,i,o,a=[];if(!e._d){for(r=function(e){var t=new Date(p.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[me]&&null==e._a[ge]&&function(e){var t,n,r,i,o,a,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=pt(t.GG,e._a[fe],Ye(Ot(),1,4).year),r=pt(t.W,1),((i=pt(t.E,1))<1||7<i)&&(u=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var l=Ye(Ot(),o,a);n=pt(t.gg,e._a[fe],l.year),r=pt(t.w,l.week),null!=t.d?((i=t.d)<0||6<i)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||6<t.e)&&(u=!0)):i=o}r<1||r>Ue(n,o,a)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(s=Ne(n,r,i,o,a),e._a[fe]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=pt(e._a[fe],r[fe]),(e._dayOfYear>Se(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=je(o,0,e._dayOfYear),e._a[ge]=n.getUTCMonth(),e._a[me]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ve]&&0===e._a[ye]&&0===e._a[we]&&0===e._a[be]&&(e._nextDay=!0,e._a[ve]=0),e._d=(e._useUTC?je:function(e,t,n,r,i,o,a){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ve]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/Z|[+-]\d\d(?::?\d\d)?/,vt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],yt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wt=/^\/?Date\((\-?\d+)/i;function bt(e){var t,n,r,i,o,a,s=e._i,u=ft.exec(s)||gt.exec(s);if(u){for(f(e).iso=!0,t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(u[1])){i=vt[t][0],r=!1!==vt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(u[3])){o=(u[2]||" ")+yt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!mt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),kt(e)}else e._isValid=!1}var $t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function _t(e,t,n,r,i,o){var a=[function(e){var t=parseInt(e,10);{if(t<=49)return 2e3+t;if(t<=999)return 1900+t}return t}(e),Me.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ct(e){var t=$t.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(t){var n=_t(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Be.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(t[8],t[9],t[10]),e._d=je.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function kt(e){if(e._f!==p.ISO_8601)if(e._f!==p.RFC_2822){e._a=[],f(e).empty=!0;var t,n,r,i,o,a,s,u,l=""+e._i,c=l.length,d=0;for(r=q(e._f,e._locale).match(F)||[],t=0;t<r.length;t++)i=r[t],(n=(l.match(le(i,e))||[])[0])&&(0<(o=l.substr(0,l.indexOf(n))).length&&f(e).unusedInput.push(o),l=l.slice(l.indexOf(n)+n.length),d+=n.length),N[i]?(n?f(e).empty=!1:f(e).unusedTokens.push(i),a=i,u=e,null!=(s=n)&&h(de,a)&&de[a](s,u._a,u,a)):e._strict&&!n&&f(e).unusedTokens.push(i);f(e).charsLeftOver=c-d,0<l.length&&f(e).unusedInput.push(l),e._a[ve]<=12&&!0===f(e).bigHour&&0<e._a[ve]&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[ve]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0)),t)}(e._locale,e._a[ve],e._meridiem),ht(e),dt(e)}else Ct(e);else bt(e)}function Dt(e){var t=e._i,n=e._f;return e._locale=e._locale||ct(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new w(dt(t)):(l(t)?e._d=t:a(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return f(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],kt(t),g(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||o<r)&&(r=o,n=t));c(e,n||t)}(e):n?kt(e):function(e){var t=e._i;o(t)?e._d=new Date(p.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=wt.exec(e._i);null===t?(bt(e),!1===e._isValid&&(delete e._isValid,Ct(e),!1===e._isValid&&(delete e._isValid,p.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=r(t.slice(0),function(e){return parseInt(e,10)}),ht(e)):s(t)?function(e){if(!e._d){var t=R(e._i);e._a=r([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ht(e)}}(e):u(t)?e._d=new Date(t):p.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function xt(e,t,n,r,i){var o={};return!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||a(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,function(e){var t=new w(dt(Dt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(o)}function Ot(e,t,n,r){return xt(e,t,n,r,!1)}p.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),p.ISO_8601=function(){},p.RFC_2822=function(){};var Tt=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),At=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:m()});function Et(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Ot();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Pt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=R(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ke.call(Pt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Pt.length;++r)if(e[Pt[r]]){if(n)return!1;parseFloat(e[Pt[r]])!==_(e[Pt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=ct(),this._bubble()}function Rt(e){return e instanceof Mt}function It(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Vt(e,n){Y(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+L(~~(e/60),2)+n+L(~~e%60,2)})}Vt("Z",":"),Vt("ZZ",""),ue("Z",oe),ue("ZZ",oe),pe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ft(oe,e)});var Lt=/([\+\-]|\d\d)/gi;function Ft(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Lt)||["-",0,0],i=60*r[1]+_(r[2]);return 0===i?0:"+"===r[0]?i:-i}function jt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(b(e)||l(e)?e.valueOf():Ot(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),p.updateOffset(n,!1),n):Ot(e).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Nt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}p.updateOffset=function(){};var Yt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ut=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qt(e,t){var n,r,i,o=e,a=null;return Rt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:u(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Yt.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:_(a[me])*n,h:_(a[ve])*n,m:_(a[ye])*n,s:_(a[we])*n,ms:_(It(1e3*a[be]))*n}):(a=Ut.exec(e))?(n="-"===a[1]?-1:1,o={y:zt(a[2],n),M:zt(a[3],n),w:zt(a[4],n),d:zt(a[5],n),h:zt(a[6],n),m:zt(a[7],n),s:zt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=jt(t,e),e.isBefore(t)?n=Bt(e,t):((n=Bt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Ot(o.from),Ot(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new Mt(o),Rt(e)&&h(e,"_locale")&&(r._locale=e._locale),r}function zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Bt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Wt(r,i){return function(e,t){var n;return null===t||isNaN(+t)||(x(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Gt(this,qt(e="string"==typeof e?+e:e,t),r),this}}function Gt(e,t,n,r){var i=t._milliseconds,o=It(t._days),a=It(t._months);e.isValid()&&(r=null==r||r,a&&Re(e,Oe(e,"Month")+a*n),o&&Te(e,"Date",Oe(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&p.updateOffset(e,o||a))}qt.fn=Mt.prototype,qt.invalid=function(){return qt(NaN)};var Kt=Wt(1,"add"),Qt=Wt(-1,"subtract");function Zt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(1+n,"months")-r)))||0}function Xt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ct(e))&&(this._locale=t),this)}p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",p.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Jt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function en(){return this._locale}var tn=126227808e5;function nn(e,t){return(e%t+t)%t}function rn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-tn:new Date(e,t,n).valueOf()}function on(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-tn:Date.UTC(e,t,n)}function an(e,t){Y(0,[e,e.length],0,t)}function sn(e,t,n,r,i){var o;return null==e?Ye(this,r,i).year:((o=Ue(e,r,i))<t&&(t=o),function(e,t,n,r,i){var o=Ne(e,t,n,r,i),a=je(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,r,i))}Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),ue("G",re),ue("g",re),ue("GG",Q,B),ue("gg",Q,B),ue("GGGG",ee,G),ue("gggg",ee,G),ue("GGGGG",te,K),ue("ggggg",te,K),he(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_(e)}),he(["gg","GG"],function(e,t,n,r){t[r]=p.parseTwoDigitYear(e)}),Y("Q",0,"Qo","quarter"),P("quarter","Q"),V("quarter",7),ue("Q",z),pe("Q",function(e,t){t[ge]=3*(_(e)-1)}),Y("D",["DD",2],"Do","date"),P("date","D"),V("date",9),ue("D",Q),ue("DD",Q,B),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),pe(["D","DD"],me),pe("Do",function(e,t){t[me]=_(e.match(Q)[0])});var un=xe("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),V("dayOfYear",4),ue("DDD",J),ue("DDDD",W),pe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),Y("m",["mm",2],0,"minute"),P("minute","m"),V("minute",14),ue("m",Q),ue("mm",Q,B),pe(["m","mm"],ye);var ln=xe("Minutes",!1);Y("s",["ss",2],0,"second"),P("second","s"),V("second",15),ue("s",Q),ue("ss",Q,B),pe(["s","ss"],we);var cn,dn=xe("Seconds",!1);for(Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),V("millisecond",16),ue("S",J,z),ue("SS",J,B),ue("SSS",J,W),cn="SSSS";cn.length<=9;cn+="S")ue(cn,ne);function pn(e,t){t[be]=_(1e3*("0."+e))}for(cn="S";cn.length<=9;cn+="S")pe(cn,pn);var hn=xe("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var fn=w.prototype;function gn(e){return e}fn.add=Kt,fn.calendar=function(e,t){var n=e||Ot(),r=jt(n,this).startOf("day"),i=p.calendarFormat(this,r)||"sameElse",o=t&&(O(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Ot(n)))},fn.clone=function(){return new w(this)},fn.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=jt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=M(t)){case"year":o=Zt(this,r)/12;break;case"month":o=Zt(this,r);break;case"quarter":o=Zt(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:$(o)},fn.endOf=function(e){var t;if(void 0===(e=M(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?on:rn;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-nn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-nn(t,1e3)-1}return this._d.setTime(t),p.updateOffset(this,!0),this},fn.format=function(e){e||(e=this.isUtc()?p.defaultFormatUtc:p.defaultFormat);var t=U(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Ot(e).isValid())?qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Ot(),e)},fn.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Ot(e).isValid())?qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Ot(),e)},fn.get=function(e){return O(this[e=M(e)])?this[e]():this},fn.invalidAt=function(){return f(this).overflow},fn.isAfter=function(e,t){var n=b(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=M(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=b(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=M(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,r){var i=b(e)?e:Ot(e),o=b(t)?t:Ot(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},fn.isSame=function(e,t){var n,r=b(e)?e:Ot(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=M(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return g(this)},fn.lang=Jt,fn.locale=Xt,fn.localeData=en,fn.max=At,fn.min=Tt,fn.parsingFlags=function(){return c({},f(this))},fn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:I[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=R(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(O(this[e=M(e)]))return this[e](t);return this},fn.startOf=function(e){var t;if(void 0===(e=M(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?on:rn;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=nn(t,6e4);break;case"second":t=this._d.valueOf(),t-=nn(t,1e3)}return this._d.setTime(t),p.updateOffset(this,!0),this},fn.subtract=Qt,fn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},fn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?U(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=De,fn.isLeapYear=function(){return Ce(this.year())},fn.weekYear=function(e){return sn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return sn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=Ie,fn.daysInMonth=function(){return Ae(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=Ye(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return Ue(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return Ue(this.year(),1,4)},fn.date=un,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=nt,fn.minute=fn.minutes=ln,fn.second=fn.seconds=dn,fn.millisecond=fn.milliseconds=hn,fn.utcOffset=function(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Ht(this);if("string"==typeof e){if(null===(e=Ft(oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ht(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?Gt(this,qt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,p.updateOffset(this,!0),this._changeInProgress=null)),this},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ft(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=Nt,fn.isUTC=Nt,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=n("dates accessor is deprecated. Use date instead.",un),fn.months=n("months accessor is deprecated. Use month instead",Ie),fn.years=n("years accessor is deprecated. Use year instead",De),fn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Dt(e))._a){var t=e._isUTC?d(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&0<S(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var mn=A.prototype;function vn(e,t,n,r){var i=ct(),o=d().set(r,t);return i[n](o,e)}function yn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return vn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=vn(e,r,n,"month");return i}function wn(e,t,n,r){t=("boolean"==typeof e?u(t)&&(n=t,t=void 0):(t=e,e=!1,u(n=t)&&(n=t,t=void 0)),t||"");var i,o=ct(),a=e?o._week.dow:0;if(null!=n)return vn(t,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=vn(t,(i+a)%7,r,"day");return s}mn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return O(r)?r.call(t,n):r},mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},mn.invalidDate=function(){return this._invalidDate},mn.ordinal=function(e){return this._ordinal.replace("%d",e)},mn.preparse=gn,mn.postformat=gn,mn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return O(i)?i(e,t,n,r):i.replace(/%d/i,e)},mn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return O(n)?n(t):n.replace(/%s/i,t)},mn.set=function(e){var t,n;for(n in e)O(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ee).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},mn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ee.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ke.call(this._shortMonthsParse,a))?i:null:-1!==(i=ke.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=ke.call(this._shortMonthsParse,a))?i:-1!==(i=ke.call(this._longMonthsParse,a))?i:null:-1!==(i=ke.call(this._longMonthsParse,a))?i:-1!==(i=ke.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},mn.monthsRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},mn.monthsShortRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Ve),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},mn.week=function(e){return Ye(e,this._week.dow,this._week.doy).week},mn.firstDayOfYear=function(){return this._week.doy},mn.firstDayOfWeek=function(){return this._week.dow},mn.weekdays=function(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?qe(n,this._week.dow):e?n[e.day()]:n},mn.weekdaysMin=function(e){return!0===e?qe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},mn.weekdaysShort=function(e){return!0===e?qe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},mn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ke.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=ke.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=ke.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=ke.call(this._weekdaysParse,a))?i:-1!==(i=ke.call(this._shortWeekdaysParse,a))?i:-1!==(i=ke.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=ke.call(this._shortWeekdaysParse,a))?i:-1!==(i=ke.call(this._weekdaysParse,a))?i:-1!==(i=ke.call(this._minWeekdaysParse,a))?i:null:-1!==(i=ke.call(this._minWeekdaysParse,a))?i:-1!==(i=ke.call(this._weekdaysParse,a))?i:-1!==(i=ke.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ke),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},mn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ut("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),p.lang=n("moment.lang is deprecated. Use moment.locale instead.",ut),p.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ct);var bn=Math.abs;function $n(e,t,n,r){var i=qt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function _n(e){return e<0?Math.floor(e):Math.ceil(e)}function Sn(e){return 4800*e/146097}function Cn(e){return 146097*e/4800}function kn(e){return function(){return this.as(e)}}var Dn=kn("ms"),xn=kn("s"),On=kn("m"),Tn=kn("h"),An=kn("d"),En=kn("w"),Pn=kn("M"),Mn=kn("Q"),Rn=kn("y");function In(e){return function(){return this.isValid()?this._data[e]:NaN}}var Vn=In("milliseconds"),Ln=In("seconds"),Fn=In("minutes"),jn=In("hours"),Hn=In("days"),Nn=In("months"),Yn=In("years");var Un=Math.round,qn={ss:44,s:45,m:45,h:22,d:26,M:11};var zn=Math.abs;function Bn(e){return(0<e)-(e<0)||+e}function Wn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=zn(this._milliseconds)/1e3,r=zn(this._days),i=zn(this._months);t=$((e=$(n/60))/60),n%=60,e%=60;var o=$(i/12),a=i%=12,s=r,u=t,l=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var p=d<0?"-":"",h=Bn(this._months)!==Bn(d)?"-":"",f=Bn(this._days)!==Bn(d)?"-":"",g=Bn(this._milliseconds)!==Bn(d)?"-":"";return p+"P"+(o?h+o+"Y":"")+(a?h+a+"M":"")+(s?f+s+"D":"")+(u||l||c?"T":"")+(u?g+u+"H":"")+(l?g+l+"M":"")+(c?g+c+"S":"")}var Gn=Mt.prototype;return Gn.isValid=function(){return this._isValid},Gn.abs=function(){var e=this._data;return this._milliseconds=bn(this._milliseconds),this._days=bn(this._days),this._months=bn(this._months),e.milliseconds=bn(e.milliseconds),e.seconds=bn(e.seconds),e.minutes=bn(e.minutes),e.hours=bn(e.hours),e.months=bn(e.months),e.years=bn(e.years),this},Gn.add=function(e,t){return $n(this,e,t,1)},Gn.subtract=function(e,t){return $n(this,e,t,-1)},Gn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=M(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Sn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Cn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Gn.asMilliseconds=Dn,Gn.asSeconds=xn,Gn.asMinutes=On,Gn.asHours=Tn,Gn.asDays=An,Gn.asWeeks=En,Gn.asMonths=Pn,Gn.asQuarters=Mn,Gn.asYears=Rn,Gn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},Gn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*_n(Cn(s)+a),s=a=0),u.milliseconds=o%1e3,e=$(o/1e3),u.seconds=e%60,t=$(e/60),u.minutes=t%60,n=$(t/60),u.hours=n%24,s+=i=$(Sn(a+=$(n/24))),a-=_n(Cn(i)),r=$(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},Gn.clone=function(){return qt(this)},Gn.get=function(e){return e=M(e),this.isValid()?this[e+"s"]():NaN},Gn.milliseconds=Vn,Gn.seconds=Ln,Gn.minutes=Fn,Gn.hours=jn,Gn.days=Hn,Gn.weeks=function(){return $(this.days()/7)},Gn.months=Nn,Gn.years=Yn,Gn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=qt(e).abs(),i=Un(r.as("s")),o=Un(r.as("m")),a=Un(r.as("h")),s=Un(r.as("d")),u=Un(r.as("M")),l=Un(r.as("y")),c=i<=qn.ss&&["s",i]||i<qn.s&&["ss",i]||o<=1&&["m"]||o<qn.m&&["mm",o]||a<=1&&["h"]||a<qn.h&&["hh",a]||s<=1&&["d"]||s<qn.d&&["dd",s]||u<=1&&["M"]||u<qn.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=0<+e,c[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Gn.toISOString=Wn,Gn.toString=Wn,Gn.toJSON=Wn,Gn.locale=Xt,Gn.localeData=en,Gn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wn),Gn.lang=Jt,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),ue("x",re),ue("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),pe("x",function(e,t,n){n._d=new Date(_(e))}),p.version="2.24.0",e=Ot,p.fn=fn,p.min=function(){return Et("isBefore",[].slice.call(arguments,0))},p.max=function(){return Et("isAfter",[].slice.call(arguments,0))},p.now=function(){return Date.now?Date.now():+new Date},p.utc=d,p.unix=function(e){return Ot(1e3*e)},p.months=function(e,t){return yn(e,t,"months")},p.isDate=l,p.locale=ut,p.invalid=m,p.duration=qt,p.isMoment=b,p.weekdays=function(e,t,n){return wn(e,t,n,"weekdays")},p.parseZone=function(){return Ot.apply(null,arguments).parseZone()},p.localeData=ct,p.isDuration=Rt,p.monthsShort=function(e,t){return yn(e,t,"monthsShort")},p.weekdaysMin=function(e,t,n){return wn(e,t,n,"weekdaysMin")},p.defineLocale=lt,p.updateLocale=function(e,t){if(null!=t){var n,r,i=rt;null!=(r=st(e))&&(i=r._config),(n=new A(t=T(i,t))).parentLocale=it[e],it[e]=n,ut(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},p.locales=function(){return k(it)},p.weekdaysShort=function(e,t,n){return wn(e,t,n,"weekdaysShort")},p.normalizeUnits=M,p.relativeTimeRounding=function(e){return void 0===e?Un:"function"==typeof e&&(Un=e,!0)},p.relativeTimeThreshold=function(e,t){return void 0!==qn[e]&&(void 0===t?qn[e]:(qn[e]=t,"s"===e&&(qn.ss=t-1),!0))},p.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},p.prototype=fn,p.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},p}),function(e,t){"use strict";"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular,"undefined"==typeof moment?require("moment"):moment),module.exports="ui.bootstrap.datetimepicker"):"function"==typeof define&&define.amd?define(["angular","moment"],t):t(e.angular,e.moment)}(this,function(d,p){"use strict";function e(){return function(e,t,n){var r,i;switch(e){case"Date":r=o(function(e){return a(e).toDate()});break;case"moment":r=o(a);break;case"milliseconds":r=o(function(e){return p.utc(e,t,p.locale(),n).valueOf()});break;default:r=o((i=e,function(e){return a(e).format(i)}))}return r;function o(t){return function(e){return d.isUndefined(e)||""===e||null===e?null:t(e)}}function a(e){return p(e,t,p.locale(),n)}}}function t(c){return{require:"ngModel",restrict:"A",scope:{dateFormats:"="},link:function(e,t,n,r){if(d.isDefined(e.dateFormats)&&!d.isString(e.dateFormats)&&!d.isArray(e.dateFormats))throw new Error("date-formats must be a single string or an array of strings i.e. date-formats=\"['YYYY-MM-DD']\" ");if(d.isDefined(n.modelType)&&(!d.isString(n.modelType)||0===n.modelType.length))throw new Error('model-type must be "Date", "moment", "milliseconds", or a moment format string');var i=n.dateTimeInput||p.defaultFormat,o=void 0===n.dateParseStrict||"true"===n.dateParseStrict,a=n.modelType||"Date",s=[n.dateTimeInput,a].concat(e.dateFormats).concat([p.ISO_8601]).filter(l),u=[a].concat(s).filter(l);function l(e,t,n){return-1===["Date","moment","milliseconds",void 0].indexOf(e)&&n.indexOf(e)===t}r.$parsers.unshift(c(a,s,o)),r.$formatters.push(function(e){if(d.isUndefined(e)||""===e||null===e)return null;{if(d.isDate(e))return p(e).format(i);if(d.isNumber(e))return p.utc(e).format(i)}return p(e,u,p.locale(),o).format(i)}),r.$validators.dateTimeInput=function(e,t){if(d.isUndefined(t)||""===t||null===t)return!0;return p(t,s,p.locale(),o).isValid()},t.bind("blur",function(){function e(){return!0}function t(e,t){return t(e)}r.$viewValue=r.$formatters.filter(e).reverse().reduce(t,r.$modelValue),r.$render()})}}}d.module("ui.dateTimeInput",[]).service("dateTimeParserFactory",e).directive("dateTimeInput",t),e.$inject=[],t.$inject=["dateTimeParserFactory"]}),function(e,t){"use strict";"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular,"undefined"==typeof moment?require("moment"):moment),module.exports="ui.bootstrap.datetimepicker"):"function"==typeof define&&define.amd?define(["angular","moment"],t):t(e.angular,e.moment)}(this,function(a,b){"use strict";function e(i,o){var e={bindToController:!1,controller:t,controllerAs:"dateTimePickerController",replace:!0,require:"ngModel",restrict:"E",scope:{beforeRender:"&",onSetTime:"&"},templateUrl:"templates/datetimepicker.html"};function t(l,e,n){var m=e.controller("ngModel"),v=t();l.screenReader=v.screenReader,l.changeView=function(e,t,n){n&&(n.stopPropagation(),n.preventDefault());if(e&&t.utcDateValue>-1/0&&t.selectable&&c[e]){var r=c[e](t.utcDateValue),i=[];if(r.weeks)for(var o=0;o<r.weeks.length;o+=1)for(var a=r.weeks[o],s=0;s<a.dates.length;s+=1){var u=a.dates[s];i.push(u)}l.beforeRender({$view:r.currentView,$dates:r.dates||i,$leftDate:r.leftDate,$upDate:r.previousViewDate,$rightDate:r.rightDate}),l.data=r}},m.$render=function(){l.changeView(v.startView,new w({utcDateValue:function(e){var t=new Date;if(e){var n=r(e);if(!n.isValid())throw new Error("Invalid date: "+e);t=n.toDate()}return t.getTime()-6e4*t.getTimezoneOffset()}(m.$viewValue)}))},v.configureOn&&l.$on(v.configureOn,function(){v=t(),l.screenReader=v.screenReader,m.$render()}),v.renderOn&&l.$on(v.renderOn,m.$render);var c={year:function(e){for(var t=b.utc(e).startOf("year"),n=10*parseInt(t.year()/10,10),r=b.utc(d(e)).subtract(1,"year").startOf("year"),i="YYYY",o=y(m.$modelValue,i),a=b().format(i),s={currentView:"year",nextView:"year"===v.minView?"setTime":"month",previousViewDate:new w({utcDateValue:null,display:n+"-"+(9+n)}),leftDate:new w({utcDateValue:b.utc(r).subtract(9,"year").valueOf()}),rightDate:new w({utcDateValue:b.utc(r).add(11,"year").valueOf()}),dates:[]},u=0;u<12;u+=1){var l=b.utc(r).add(u,"years"),c={active:l.format(i)===o,current:l.format(i)===a,display:l.format(i),future:l.year()>9+n,past:l.year()<n,utcDateValue:l.valueOf()};s.dates.push(new w(c))}return s},month:function(e){for(var t=b.utc(e).startOf("year"),n=d(e),r="YYYY-MMM",i=y(m.$modelValue,r),o=b().format(r),a={previousView:"year",currentView:"month",nextView:"month"===v.minView?"setTime":"day",previousViewDate:new w({utcDateValue:n.valueOf(),display:t.format("YYYY")}),leftDate:new w({utcDateValue:b.utc(t).subtract(1,"year").valueOf()}),rightDate:new w({utcDateValue:b.utc(t).add(1,"year").valueOf()}),dates:[]},s=0;s<12;s+=1){var u=b.utc(t).add(s,"months"),l={active:u.format(r)===i,current:u.format(r)===o,display:u.format("MMM"),utcDateValue:u.valueOf()};a.dates.push(new w(l))}return a},day:function(e){for(var t=b.utc(e),n=b.utc(t).startOf("month"),r=b.utc(t).startOf("year"),i=b.utc(t).endOf("month"),o=b.utc(n).subtract(Math.abs(n.weekday()),"days"),a="YYYY-MMM-DD",s=y(m.$modelValue,a),u=b().format(a),l={previousView:"month",currentView:"day",nextView:"day"===v.minView?"setTime":"hour",previousViewDate:new w({utcDateValue:r.valueOf(),display:n.format("YYYY-MMM")}),leftDate:new w({utcDateValue:b.utc(n).subtract(1,"months").valueOf()}),rightDate:new w({utcDateValue:b.utc(n).add(1,"months").valueOf()}),dayNames:[],weeks:[]},c=0;c<7;c+=1)l.dayNames.push(b.utc().weekday(c).format("dd"));for(var d=0;d<6;d+=1){for(var p={dates:[]},h=0;h<7;h+=1){var f=b.utc(o).add(7*d+h,"days"),g={active:f.format(a)===s,current:f.format(a)===u,display:f.format("D"),future:f.isAfter(i),past:f.isBefore(n),utcDateValue:f.valueOf()};p.dates.push(new w(g))}l.weeks.push(p)}return l},hour:function(e){for(var t=b.utc(e).startOf("day"),n=b.utc(t).startOf("month"),r="YYYY-MM-DD H",i=y(m.$modelValue,r),o=b().format(r),a={previousView:"day",currentView:"hour",nextView:"hour"===v.minView?"setTime":"minute",previousViewDate:new w({utcDateValue:n.valueOf(),display:t.format("ll")}),leftDate:new w({utcDateValue:b.utc(t).subtract(1,"days").valueOf()}),rightDate:new w({utcDateValue:b.utc(t).add(1,"days").valueOf()}),dates:[]},s=0;s<24;s+=1){var u=b.utc(t).add(s,"hours"),l={active:u.format(r)===i,current:u.format(r)===o,display:u.format("LT"),utcDateValue:u.valueOf()};a.dates.push(new w(l))}return a},minute:function(e){for(var t=b.utc(e).startOf("hour"),n=b.utc(t).startOf("day"),r="YYYY-MM-DD H:mm",i=y(m.$modelValue,r),o=b().format(r),a={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new w({utcDateValue:n.valueOf(),display:t.format("lll")}),leftDate:new w({utcDateValue:b.utc(t).subtract(1,"hours").valueOf()}),rightDate:new w({utcDateValue:b.utc(t).add(1,"hours").valueOf()}),dates:[]},s=60/v.minuteStep,u=0;u<s;u+=1){var l=b.utc(t).add(u*v.minuteStep,"minute"),c={active:l.format(r)===i,current:l.format(r)===o,display:l.format("LT"),utcDateValue:l.valueOf()};a.dates.push(new w(c))}return a},setTime:function(e){var t=new Date(e),n=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds());switch(v.modelType){case"Date":break;case"moment":n=b([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]);break;case"milliseconds":n=e;break;default:n=b([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]).format(v.modelType)}var r=m.$modelValue;m.$setViewValue(n),v.dropdownSelector&&jQuery(v.dropdownSelector).dropdown("toggle");return l.onSetTime({newDate:n,oldDate:r}),c[v.startView](e)}};function d(e){var t=10*parseInt(b.utc(e).year()/10,10);return b.utc(e).year(t).startOf("year")}function y(e,t){return e?r(e).format(t):""}function r(e){return b(e,a.isString(e)?v.parseFormat:void 0)}function t(){var e={};n.datetimepickerConfig&&(e=l.$parent.$eval(n.datetimepickerConfig));var t=a.extend({},i,e);return o.validate(t),t}}function w(){var e=new Date(arguments[0].utcDateValue),t=6e4*e.getTimezoneOffset();this.utcDateValue=e.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+t};var n=["active","current","display","future","past","selectable","utcDateValue"],r=arguments[0];Object.keys(r).filter(function(e){return 0<=n.indexOf(e)}).forEach(function(e){this[e]=r[e]},this)}return t.$inject=["$scope","$element","$attrs"],e}function t(i){return{validate:function(e){var t=["configureOn","dropdownSelector","minuteStep","minView","modelType","parseFormat","renderOn","startView","screenReader"],n=Object.keys(e).filter(function(e){return t.indexOf(e)<0});if(n.length)throw new Error("Invalid options: "+n.join(", "));var r=["minute","hour","day","month","year"];if(r.indexOf(e.startView)<0)throw new Error("invalid startView value: "+e.startView);if(r.indexOf(e.minView)<0)throw new Error("invalid minView value: "+e.minView);if(r.indexOf(e.minView)>r.indexOf(e.startView))throw new Error("startView must be greater than minView");if(!a.isNumber(e.minuteStep))throw new Error("minuteStep must be numeric");if(e.minuteStep<=0||60<=e.minuteStep)throw new Error("minuteStep must be greater than zero and less than 60");if(null!==e.configureOn&&!a.isString(e.configureOn))throw new Error("configureOn must be a string");if(null!==e.configureOn&&e.configureOn.length<1)throw new Error("configureOn must not be an empty string");if(null!==e.renderOn&&!a.isString(e.renderOn))throw new Error("renderOn must be a string");if(null!==e.renderOn&&e.renderOn.length<1)throw new Error("renderOn must not be an empty string");if(null!==e.modelType&&!a.isString(e.modelType))throw new Error("modelType must be a string");if(null!==e.modelType&&e.modelType.length<1)throw new Error("modelType must not be an empty string");"Date"!==e.modelType&&"moment"!==e.modelType&&"milliseconds"!==e.modelType&&(e.parseFormat=e.modelType);if(null!==e.dropdownSelector&&!a.isString(e.dropdownSelector))throw new Error("dropdownSelector must be a string");null===e.dropdownSelector||"undefined"!=typeof jQuery&&"function"==typeof jQuery().dropdown||(i.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete e.dropdownSelector)}}}a.module("ui.bootstrap.datetimepicker",[]).service("dateTimePickerConfig",function(){var e={bg:{previous:"",next:""},ca:{previous:"anterior",next:"segent"},da:{previous:"forrige",next:"nste"},de:{previous:"vorige",next:"weiter"},"en-au":{previous:"previous",next:"next"},"en-gb":{previous:"previous",next:"next"},en:{previous:"previous",next:"next"},"es-us":{previous:"atrs",next:"siguiente"},es:{previous:"atrs",next:"siguiente"},fi:{previous:"edellinen",next:"seuraava"},fr:{previous:"prcdent",next:"suivant"},hu:{previous:"elz",next:"kvetkez"},it:{previous:"precedente",next:"successivo"},ja:{previous:"",next:""},ml:{previous:"",next:""},nl:{previous:"vorige",next:"volgende"},pl:{previous:"poprzednia",next:"nastpna"},"pt-br":{previous:"anteriores",next:"prximos"},pt:{previous:"anterior",next:"prximo"},ro:{previous:"anterior",next:"urmtor"},ru:{previous:"",next:""},sk:{previous:"predol",next:"alia"},sv:{previous:"fregende",next:"nsta"},tr:{previous:"nceki",next:"sonraki"},uk:{previous:"",next:""},"zh-cn":{previous:"",next:""},"zh-tw":{previous:"",next:""}}[b.locale().toLowerCase()];return a.extend({},{configureOn:null,dropdownSelector:null,minuteStep:5,minView:"minute",modelType:"Date",parseFormat:"YYYY-MM-DDTHH:mm:ss.SSSZZ",renderOn:null,startView:"day"},{screenReader:e})}).service("dateTimePickerValidator",t).directive("datetimepicker",e),e.$inject=["dateTimePickerConfig","dateTimePickerValidator"],t.$inject=["$log"]}),angular.module("rzTable",[]),angular.module("rzTable").directive("rzTable",["resizeStorage","$injector","$parse",function(s,i,o){function e(e){}function r(n,r,i){return function(e,t){!0!==i.busy&&void 0!==t&&t!==e&&(a(n),u(n,r,i))}}function a(e){_=!0,v.map(function(e){e.remove()}),v=[]}function u(e,t,n){if(!n.busy){h=$(e).find("th"),l=n.mode,d=!angular.isDefined(n.saveTableSizes)||n.saveTableSizes,p=n.profile;var r=function(t,e){try{var n=e.rzMode?t.mode:"BasicResizer",r=i.get(n);return r}catch(e){return console.error("The resizer "+t.mode+" was not found"),null}}(n,t);r&&(b=new r(e,h,w),d&&(S=s.loadTableSizes(e,n.mode,n.profile)),g=b.handles(h),f=b.ctrlColumns,b.setup(),function(o){o&&($(y).width("auto"),f.each(function(e,t){var n=angular.element(t).scope(),r=n.rzCol||$(t).attr("id"),i=o[r];$(t).css({width:i})}),b.onTableReady())}(S),g.each(function(e,t){!function(e,t,n){var r=$("<div>",{class:e.options.handleClass||"rz-handle"});$(n).prepend(r),v.push(r);var i=b.handleMiddleware(r,n);!function(i,e,o,a){$(o).mousedown(function(e){_&&(b.onFirstDrag(a,o),b.onTableReady(),_=!1),i.options.onResizeStarted&&i.options.onResizeStarted(a);var t={};b.intervene&&(((t=b.intervene.selector(a)).column=t).orgWidth=$(t).width()),e.preventDefault(),$(o).addClass(i.options.handleClassActive||"rz-handle-active");var n=e.clientX,r=$(a).width();m=function(o,a,s,u,l){return function(e){var t=e.clientX,n=t-s,r=b.calculate(u,n);if(!(r<c(a)||b.restrict(r,n))){if(b.intervene){var i=b.intervene.calculator(l.orgWidth,n);if(i<c(l.column))return;if(b.intervene.restrict(i,n))return;$(l.column).width(i)}o.options.onResizeInProgress&&o.options.onResizeInProgress(a,r,n),$(a).width(r)}}}(i,a,n,r,t),$(window).mousemove(m),$(window).one("mouseup",function(e,t,n){return function(){$(n).removeClass(e.options.handleClassActive||"rz-handle-active"),m&&$(window).unbind("mousemove",m),e.options.onResizeEnded&&e.options.onResizeEnded(t),b.onEndDrag(),d&&(S||(S={}),$(h).each(function(e,t){var n=angular.element(t).scope(),r=n.rzCol||$(t).attr("id");r&&(S[r]=b.saveAttr(t))}),s.saveTableSizes(y,l,p,S))}}(i,a,o))})}(e,0,r,i)}(n,0,t)}))}}function c(e){return parseInt($(e).css("min-width"))||0}var l,d,p,h=null,f=null,g=null,m=null,v=[],y=null,w=null,b=null,_=!0,S=null;return e.$inject=["$scope","$attrs","$element"],{restrict:"A",link:function(e,t,n){y=t,w=e.container?$(e.container):$(y).parent(),e.options=n.rzOptions&&e.options||{},$(y).addClass(e.options.tableClass||"rz-table"),u(y,n,e),function(e,t,n){if(t.rzModel){var r=o(t.rzModel);r.assign(n.$parent,{update:function(){a(),u(e,t,n)},reset:function(){(function(e){$(e).outerWidth("100%"),$(e).find("th").width("auto")})(e),this.clearStorageActive(),this.update()},clearStorage:function(){s.clearAll()},clearStorageActive:function(){s.clearCurrent(e,l,p)}})}}(y,n,e),function(e,t,n){n.$watch(function(){return $(e).find("th").length},r(e,t,n))}(y,n,e),function(e,t,n){n.$watch("profile",r(e,t,n)),n.$watch("mode",r(e,t,n)),n.$watch("busy",r(e,t,n))}(y,n,e)},controller:e,scope:{mode:"=rzMode",profile:"=?rzProfile",busy:"=?rzBusy",saveTableSizes:"=?rzSave",options:"=?rzOptions",model:"=rzModel",container:"@rzContainer"}}}]),angular.module("rzTable").directive("rzCol",[function(){return{restrict:"A",priority:650,link:function(e,t,n){e.rzCol=e.$eval(n.rzCol)},require:"^^rzTable",scope:!0}}]),angular.module("rzTable").service("resizeStorage",["$window",function(a){function s(e,t,n){return e.attr("id")?r+"."+e.attr("id")+"."+t+(n?"."+n:""):void console.error("Table has no id",e)}var r="ngColumnResize";this.loadTableSizes=function(e,t,n){var r=s(e,t,n),i=a.localStorage.getItem(r);return JSON.parse(i)},this.saveTableSizes=function(e,t,n,r){var i=s(e,t,n);if(i){var o=JSON.stringify(r);a.localStorage.setItem(i,o)}},this.clearAll=function(){for(var e=[],t=0;t<a.localStorage.length;++t){var n=localStorage.key(t);n&&n.startsWith(r)&&e.push(n)}e.map(function(e){a.localStorage.removeItem(e)})},this.clearCurrent=function(e,t,n){var r=s(e,t,n);r&&a.localStorage.removeItem(r)}}]),angular.module("rzTable").factory("ResizerModel",[function(){function e(e,t,n){this.table=e,this.columns=t,this.container=n,this.handleColumns=this.handles(),this.ctrlColumns=this.ctrlColumns()}return e.prototype.setup=function(){$(this.container).css({overflowX:"hidden"})},e.prototype.onTableReady=function(){$(this.table).outerWidth("100%")},e.prototype.getMinWidth=function(e){return parseInt($(e).css("min-width"))||0},e.prototype.handles=function(){return this.columns},e.prototype.ctrlColumns=function(){return this.handleColumns},e.prototype.onFirstDrag=function(){$(this.ctrlColumns).each(function(e,t){$(t).width($(t).width())})},e.prototype.handleMiddleware=function(e,t){return t},e.prototype.restrict=function(e){return!1},e.prototype.calculate=function(e,t){return e+t},e.prototype.onEndDrag=function(){},e.prototype.saveAttr=function(e){return $(e).outerWidth()},e}]),angular.module("rzTable").factory("BasicResizer",["ResizerModel",function(r){function e(e,t,n){r.call(this,e,t,n),this.ctrlColumns=this.columns,this.intervene={selector:i,calculator:o,restrict:a}}function i(e){return $(e).next()}function o(e,t){return e-t}function a(e){return e<25}return(e.prototype=Object.create(r.prototype)).setup=function(){$(this.container).css({overflowX:"hidden"}),$(this.table).css({width:"100%"})},e.prototype.handles=function(){return $(this.columns).not(":last")},e.prototype.onFirstDrag=function(){this.onEndDrag()},e.prototype.onEndDrag=function(){var r=$(this.table).outerWidth(),i=[];$(this.columns).each(function(e,t){var n=$(t).outerWidth()/r*100+"%";i.push(function(){$(t).css({width:n})})}),i.map(function(e){e()})},e.prototype.saveAttr=function(e){return $(e)[0].style.width},e}]),angular.module("rzTable").factory("FixedResizer",["ResizerModel",function(r){function e(e,t,n){r.call(this,e,t,n),this.fixedColumn=$(e).find("th").first(),this.bound=!1}return(e.prototype=Object.create(r.prototype)).setup=function(){$(this.container).css({overflowX:"hidden"}),$(this.table).css({width:"100%"}),$(this.columns).first().css({width:"auto"})},e.prototype.handles=function(){return $(this.columns).not(":last")},e.prototype.ctrlColumns=function(){return $(this.columns).not(":first")},e.prototype.onFirstDrag=function(){$(this.ctrlColumns).each(function(e,t){$(t).width($(t).width())})},e.prototype.handleMiddleware=function(e,t){return $(t).next()},e.prototype.restrict=function(e,t){return this.bound&&this.bound<t?this.bound=!1:!!(this.bound&&this.bound>t)||(this.fixedColumn.width()<=this.getMinWidth(this.fixedColumn)?(this.bound=t,$(this.fixedColumn).width(this.minWidth),!0):void 0)},e.prototype.onEndDrag=function(){this.bound=!1},e.prototype.calculate=function(e,t){return e-t},e}]),angular.module("rzTable").factory("OverflowResizer",["ResizerModel",function(r){function e(e,t,n){r.call(this,e,t,n)}return(e.prototype=Object.create(r.prototype)).setup=function(){$(this.container).css({overflow:"auto"})},e.prototype.onTableReady=function(){$(this.table).width(1)},e}]),function(e,t){"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular")):e.angularClipboard=t(e.angular)}(this,function(i){return i.module("angular-clipboard",[]).factory("clipboard",["$document","$window",function(o,a){return{copyText:function(e,t){var n=a.pageXOffset||o[0].documentElement.scrollLeft,r=a.pageYOffset||o[0].documentElement.scrollTop,i=function(e,t){var n=o[0].createElement("textarea");return n.style.position="absolute",n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.left="-10000px",n.style.top=(a.pageYOffset||o[0].documentElement.scrollTop)+"px",n.textContent=e,n}(e);o[0].body.appendChild(i),function(e){try{o[0].body.style.webkitUserSelect="initial";var t=o[0].getSelection();t.removeAllRanges();var n=document.createRange();n.selectNodeContents(e),t.addRange(n),e.select(),e.setSelectionRange(0,999999);try{if(!o[0].execCommand("copy"))throw"failure copy"}finally{t.removeAllRanges()}}finally{o[0].body.style.webkitUserSelect=""}}(i),a.scrollTo(n,r),o[0].body.removeChild(i)},supported:"queryCommandSupported"in o[0]&&o[0].queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(r){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function(t,n){t.supported=r.supported,n.on("click",function(e){try{r.copyText(t.text,n[0]),i.isFunction(t.onCopied)&&t.$evalAsync(t.onCopied())}catch(e){i.isFunction(t.onError)&&t.$evalAsync(t.onError({err:e}))}})}}}])}),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=s(String(e||"").toLowerCase()))||!e.length)return[];var t,n,r,i,o=[],a=e.split(/ +/);for(t=0,n=a.length;t<n;t++){if(r=u(a[t]),this.settings.diacritics)for(i in l)l.hasOwnProperty(i)&&(r=r.replace(new RegExp(i,"g"),l[i]));o.push({string:a[t],regex:new RegExp(r,"i")})}return o},e.prototype.iterator=function(e,t){(a(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var i,o,a,s;e=this.prepareSearch(e,t),o=e.tokens,i=e.options.fields,a=o.length,s=e.options.nesting;var u,l=function(e,t){var n,r;return e?-1===(r=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===r&&(n+=.5),n):0},c=(u=i.length)?1===u?function(e,t){return l(f(t,i[0],s),e)}:function(e,t){for(var n=0,r=0;n<u;n++)r+=l(f(t,i[n],s),e);return r/u}:function(){return 0};return a?1===a?function(e){return c(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,r=0;n<a;n++){if((t=c(o[n],e))<=0)return 0;r+=t}return r/a}:function(e){for(var t=0,n=0;t<a;t++)n+=c(o[t],e);return n/a}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var t,r,i,o,a,s,u,l,c,d,p;if(p=!(e=(i=this).prepareSearch(e,n)).query&&n.sort_empty||n.sort,c=function(e,t){return"$score"===e?t.score:f(i.items[t.id],e,n.nesting)},a=[],p)for(t=0,r=p.length;t<r;t++)(e.query||"$score"!==p[t].field)&&a.push(p[t]);if(e.query){for(d=!0,t=0,r=a.length;t<r;t++)if("$score"===a[t].field){d=!1;break}d&&a.unshift({field:"$score",direction:"desc"})}else for(t=0,r=a.length;t<r;t++)if("$score"===a[t].field){a.splice(t,1);break}for(l=[],t=0,r=a.length;t<r;t++)l.push("desc"===a[t].direction?-1:1);return(s=a.length)?1===s?(o=a[0].field,u=l[0],function(e,t){return u*h(c(o,e),c(o,t))}):function(e,t){var n,r,i;for(n=0;n<s;n++)if(i=a[n].field,r=l[n]*h(c(i,e),c(i,t)))return r;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=o({},t)).fields,r=t.sort,i=t.sort_empty;return n&&!a(n)&&(t.fields=[n]),r&&!a(r)&&(t.sort=[r]),i&&!a(i)&&(t.sort_empty=[i]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,n){var r,i,t,o;return i=this.prepareSearch(e,n),n=i.options,e=i.query,o=n.score||this.getScoreFunction(i),e.length?this.iterator(this.items,function(e,t){r=o(e),(!1===n.filter||0<r)&&i.items.push({score:r,id:t})}):this.iterator(this.items,function(e,t){i.items.push({score:1,id:t})}),(t=this.getSortFunction(i,n))&&i.items.sort(t),i.total=i.items.length,"number"==typeof n.limit&&(i.items=i.items.slice(0,n.limit)),i};var h=function(e,t){return"number"==typeof e&&"number"==typeof t?t<e?1:e<t?-1:0:(e=n(String(e||"")),(t=n(String(t||"")))<e?1:e<t?-1:0)},o=function(e,t){var n,r,i,o;for(n=1,r=arguments.length;n<r;n++)if(o=arguments[n])for(i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e},f=function(e,t,n){if(e&&t){if(!n)return e[t];for(var r=t.split(".");r.length&&(e=e[r.shift()]););return e}},s=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},u=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},l={a:"[a]",b:"[bB]",c:"[cCc]",d:"[dDd]",e:"[e]",f:"[f]",g:"[g]",h:"[h]",i:"[iiI]",j:"[j]",k:"[k]",l:"[l]",n:"[nNn]",o:"[o]",p:"[p]",q:"[qq]",r:"[r]",s:"[sSs]",t:"[t]",u:"[u]",v:"[v]",w:"[w]",x:"[x]",y:"[y]",z:"[z]"},n=function(){var e,t,n,r,i="",o={};for(n in l)if(l.hasOwnProperty(n))for(i+=r=l[n].substring(2,l[n].length-1),e=0,t=r.length;e<t;e++)o[r.charAt(e)]=n;var a=new RegExp("["+i+"]","g");return function(e){return e.replace(a,function(e){return o[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={mixin:function(r){r.plugins={},r.prototype.initializePlugins=function(e){var t,n,r,i=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},o.isArray(e))for(t=0,n=e.length;t<n;t++)"string"==typeof e[t]?i.push(e[t]):(this.plugins.settings[e[t].name]=e[t].options,i.push(e[t].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(this.plugins.settings[r]=e[r],i.push(r));for(;i.length;)this.require(i.shift())},r.prototype.loadPlugin=function(e){var t=this.plugins,n=r.plugins[e];if(!r.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');t.requested[e]=!0,t.loaded[e]=n.fn.apply(this,[this.plugins.settings[e]||{}]),t.names.push(e)},r.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},r.define=function(e,t){r.plugins[e]={name:e,fn:t}}}},o={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(C,u,e){"use strict";var k=function(e,t){if("string"!=typeof t||t.length){var u="string"==typeof t?new RegExp(t,"i"):t,l=function(e){var t=0;if(3===e.nodeType){var n=e.data.search(u);if(0<=n&&0<e.data.length){var r=e.data.match(u),i=document.createElement("span");i.className="highlight";var o=e.splitText(n),a=(o.splitText(r[0].length),o.cloneNode(!0));i.appendChild(a),o.parentNode.replaceChild(i,o),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var s=0;s<e.childNodes.length;++s)s+=l(e.childNodes[s]);return t};return e.each(function(){l(this)})}};C.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};var r=function(){};r.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=r.prototype[t[n]]};var v=/Mac/.test(navigator.userAgent),y=v?91:17,w=v?18:17,b=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,l=function(e){return void 0!==e},D=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},s=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t={before:function(e,t,n){var r=e[t];e[t]=function(){return n.apply(e,arguments),r.apply(e,arguments)}},after:function(t,e,n){var r=t[e];t[e]=function(){var e=r.apply(t,arguments);return n.apply(t,arguments),e}}},n=function(t,n,e){var r,i=t.trigger,o={};for(r in t.trigger=function(){var e=arguments[0];if(-1===n.indexOf(e))return i.apply(t,arguments);o[e]=arguments},e.apply(t,[]),t.trigger=i,o)o.hasOwnProperty(r)&&i.apply(t,o[r])},p=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-r,t.length=r}return t},$=function(c){var d=null,e=function(e,t){var n,r,i,o,a,s,u,l;t=t||{},(e=e||window.event||{}).metaKey||e.altKey||(t.force||!1!==c.data("grow"))&&(n=c.val(),e.type&&"keydown"===e.type.toLowerCase()&&(i=48<=(r=e.keyCode)&&r<=57||65<=r&&r<=90||96<=r&&r<=111||186<=r&&r<=222||32===r,46===r||8===r?(l=p(c[0])).length?n=n.substring(0,l.start)+n.substring(l.start+l.length):8===r&&l.start?n=n.substring(0,l.start-1)+n.substring(l.start+1):46===r&&void 0!==l.start&&(n=n.substring(0,l.start)+n.substring(l.start+1)):i&&(s=e.shiftKey,u=String.fromCharCode(e.keyCode),n+=u=s?u.toUpperCase():u.toLowerCase())),o=c.attr("placeholder"),!n&&o&&(n=o),(a=function(e,t){return e?(_.$testInput||(_.$testInput=C("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),_.$testInput.text(e),function(e,t,n){var r,i,o={};if(n)for(r=0,i=n.length;r<i;r++)o[n[r]]=e.css(n[r]);else o=e.css();t.css(o)}(t,_.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),_.$testInput.width()):0}(n,c)+4)!==d&&(d=a,c.width(a),c.triggerHandler("resize")))};c.on("keydown keyup update blur",e),e()},_=function(e,t){var n,r,i,o,a=this;(o=e[0]).selectize=a;var s=window.getComputedStyle&&window.getComputedStyle(o,null);if(i=(i=s?s.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||e.parents("[dir]:first").attr("dir")||"",C.extend(a,{order:0,settings:t,$input:e,tabIndex:e.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(i),eventNS:".selectize"+ ++_.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===t.loadThrottle?a.onSearchChange:function(n,r){var i;return function(){var e=this,t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(e,t)},r)}}(a.onSearchChange,t.loadThrottle)}),a.sifter=new u(this.options,{diacritics:t.diacritics}),a.settings.options){for(n=0,r=a.settings.options.length;n<r;n++)a.registerOption(a.settings.options[n]);delete a.settings.options}if(a.settings.optgroups){for(n=0,r=a.settings.optgroups.length;n<r;n++)a.registerOptionGroup(a.settings.optgroups[n]);delete a.settings.optgroups}a.settings.mode=a.settings.mode||(1===a.settings.maxItems?"single":"multi"),"boolean"!=typeof a.settings.hideSelected&&(a.settings.hideSelected="multi"===a.settings.mode),a.initializePlugins(a.settings.plugins),a.setupCallbacks(),a.setupTemplates(),a.setup()};return r.mixin(_),void 0!==e?e.mixin(_):function(e,t){t||(t={});console.error("Selectize: "+e),t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),C.extend(_.prototype,{setup:function(){var e,t,n,r,i,o,a,s,u,l,c=this,d=c.settings,p=c.eventNS,h=C(window),f=C(document),g=c.$input;if(a=c.settings.mode,s=g.attr("class")||"",e=C("<div>").addClass(d.wrapperClass).addClass(s).addClass(a),t=C("<div>").addClass(d.inputClass).addClass("items").appendTo(e),n=C('<input type="text" autocomplete="off" />').appendTo(t).attr("tabindex",g.is(":disabled")?"-1":c.tabIndex),o=C(d.dropdownParent||e),r=C("<div>").addClass(d.dropdownClass).addClass(a).hide().appendTo(o),i=C("<div>").addClass(d.dropdownContentClass).appendTo(r),(l=g.attr("id"))&&(n.attr("id",l+"-selectized"),C("label[for='"+l+"']").attr("for",l+"-selectized")),c.settings.copyClassesToDropdown&&r.addClass(s),e.css({width:g[0].style.width}),c.plugins.names.length&&(u="plugin-"+c.plugins.names.join(" plugin-"),e.addClass(u),r.addClass(u)),(null===d.maxItems||1<d.maxItems)&&1===c.tagType&&g.attr("multiple","multiple"),c.settings.placeholder&&n.attr("placeholder",d.placeholder),!c.settings.splitOn&&c.settings.delimiter){var m=c.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");c.settings.splitOn=new RegExp("\\s*"+m+"+\\s*")}g.attr("autocorrect")&&n.attr("autocorrect",g.attr("autocorrect")),g.attr("autocapitalize")&&n.attr("autocapitalize",g.attr("autocapitalize")),n[0].type=g[0].type,c.$wrapper=e,c.$control=t,c.$control_input=n,c.$dropdown=r,c.$dropdown_content=i,r.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(e){e.stopImmediatePropagation()}),r.on("mouseenter","[data-selectable]",function(){return c.onOptionHover.apply(c,arguments)}),r.on("mousedown click","[data-selectable]",function(){return c.onOptionSelect.apply(c,arguments)}),function(n,e,t,r){n.on(e,t,function(e){for(var t=e.target;t&&t.parentNode!==n[0];)t=t.parentNode;return e.currentTarget=t,r.apply(this,[e])})}(t,"mousedown","*:not(input)",function(){return c.onItemSelect.apply(c,arguments)}),$(n),t.on({mousedown:function(){return c.onMouseDown.apply(c,arguments)},click:function(){return c.onClick.apply(c,arguments)}}),n.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return c.onKeyDown.apply(c,arguments)},keyup:function(){return c.onKeyUp.apply(c,arguments)},keypress:function(){return c.onKeyPress.apply(c,arguments)},resize:function(){c.positionDropdown.apply(c,[])},blur:function(){return c.onBlur.apply(c,arguments)},focus:function(){return c.ignoreBlur=!1,c.onFocus.apply(c,arguments)},paste:function(){return c.onPaste.apply(c,arguments)}}),f.on("keydown"+p,function(e){c.isCmdDown=e[v?"metaKey":"ctrlKey"],c.isCtrlDown=e[v?"altKey":"ctrlKey"],c.isShiftDown=e.shiftKey}),f.on("keyup"+p,function(e){e.keyCode===w&&(c.isCtrlDown=!1),16===e.keyCode&&(c.isShiftDown=!1),e.keyCode===y&&(c.isCmdDown=!1)}),f.on("mousedown"+p,function(e){if(c.isFocused){if(e.target===c.$dropdown[0]||e.target.parentNode===c.$dropdown[0])return!1;c.$control.has(e.target).length||e.target===c.$control[0]||c.blur(e.target)}}),h.on(["scroll"+p,"resize"+p].join(" "),function(){c.isOpen&&c.positionDropdown.apply(c,arguments)}),h.on("mousemove"+p,function(){c.ignoreHover=!1}),this.revertSettings={$children:g.children().detach(),tabindex:g.attr("tabindex")},g.attr("tabindex",-1).hide().after(c.$wrapper),C.isArray(d.items)&&(c.setValue(d.items),delete d.items),b&&g.on("invalid"+p,function(e){e.preventDefault(),c.isInvalid=!0,c.refreshState()}),c.updateOriginalInput(),c.refreshItems(),c.refreshState(),c.updatePlaceholder(),c.isSetup=!0,g.is(":disabled")&&c.disable(),c.on("change",this.onChange),g.data("selectize",c),g.addClass("selectized"),c.trigger("initialize"),!0===d.preload&&c.onSearchChange("")},setupTemplates:function(){var n=this.settings.labelField,r=this.settings.optgroupLabelField,e={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[r])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=C.extend({},e,this.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){this.isFocused&&this.isOpen||(this.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,n=e.isDefaultPrevented();C(e.target);if(t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():n||t.setActiveItem(null),!1}else n||window.setTimeout(function(){t.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var i=this;i.isFull()||i.isInputHidden||i.isLocked?e.preventDefault():i.settings.splitOn&&setTimeout(function(){var e=i.$control_input.val();if(e.match(i.settings.splitOn))for(var t=C.trim(e).split(i.settings.splitOn),n=0,r=t.length;n<r;n++)i.createItem(t[n])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(t.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var r=t.getAdjacentOption(t.$activeOption,-1);r.length&&t.setActiveOption(r,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}!t.isFull()&&!t.isInputHidden||(v?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){if(this.isLocked)return e&&e.preventDefault();var t=this.$control_input.val()||"";this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(t){var n=this,r=n.settings.load;r&&(n.loadedSearches.hasOwnProperty(t)||(n.loadedSearches[t]=!0,n.load(function(e){r.apply(n,[t,e])})))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var r=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.isBlurring=!1,n.ignoreFocus=!1,n.trigger("blur")};n.isBlurring=!0,n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,r):r()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,n,r=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(n=C(e.currentTarget)).hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):void 0!==(t=n.attr("data-value"))&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(t),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&r.setActiveOption(r.getOption(t)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){n(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(e,t){var n,r,i,o,a,s,u,l,c=this;if("single"!==c.settings.mode){if(!(e=C(e)).length)return C(c.$activeItems).removeClass("active"),c.$activeItems=[],void(c.isFocused&&c.showInput());if("mousedown"===(n=t&&t.type.toLowerCase())&&c.isShiftDown&&c.$activeItems.length){for(l=c.$control.children(".active:last"),o=Array.prototype.indexOf.apply(c.$control[0].childNodes,[l[0]]),(a=Array.prototype.indexOf.apply(c.$control[0].childNodes,[e[0]]))<o&&(u=o,o=a,a=u),r=o;r<=a;r++)s=c.$control[0].childNodes[r],-1===c.$activeItems.indexOf(s)&&(C(s).addClass("active"),c.$activeItems.push(s));t.preventDefault()}else"mousedown"===n&&c.isCtrlDown||"keydown"===n&&this.isShiftDown?e.hasClass("active")?(i=c.$activeItems.indexOf(e[0]),c.$activeItems.splice(i,1),e.removeClass("active")):c.$activeItems.push(e.addClass("active")[0]):(C(c.$activeItems).removeClass("active"),c.$activeItems=[e.addClass("active")[0]]);c.hideInput(),this.isFocused||c.focus()}},setActiveOption:function(e,t,n){var r,i,o,a,s,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,(e=C(e)).length&&(u.$activeOption=e.addClass("active"),!t&&l(t)||(r=u.$dropdown_content.height(),i=u.$activeOption.outerHeight(!0),t=u.$dropdown_content.scrollTop()||0,s=(a=o=u.$activeOption.offset().top-u.$dropdown_content.offset().top+t)-r+i,r+t<o+i?u.$dropdown_content.stop().animate({scrollTop:s},n?u.settings.scrollDuration:0):o<t&&u.$dropdown_content.stop().animate({scrollTop:a},n?u.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}},search:function(e){var t,n,r,i=this.settings,o=this.getSearchOptions();if(i.score&&"function"!=typeof(r=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,n=this.sifter.search(e,C.extend(o,{score:r})),this.currentResults=n):n=C.extend(!0,{},this.currentResults),i.hideSelected)for(t=n.items.length-1;0<=t;t--)-1!==this.items.indexOf(D(n.items[t].id))&&n.items.splice(t,1);return n},refreshOptions:function(e){var t,n,r,i,o,a,s,u,l,c,d,p,h,f,g,m;void 0===e&&(e=!0);var v,y,w=this,b=C.trim(w.$control_input.val()),$=w.search(b),_=w.$dropdown_content,S=w.$activeOption&&D(w.$activeOption.attr("data-value"));for(i=$.items.length,"number"==typeof w.settings.maxOptions&&(i=Math.min(i,w.settings.maxOptions)),o={},a=[],t=0;t<i;t++)for(s=w.options[$.items[t].id],u=w.render("option",s),l=s[w.settings.optgroupField]||"",n=0,r=(c=C.isArray(l)?l:[l])&&c.length;n<r;n++)l=c[n],w.optgroups.hasOwnProperty(l)||(l=""),o.hasOwnProperty(l)||(o[l]=document.createDocumentFragment(),a.push(l)),o[l].appendChild(u);for(this.settings.lockOptgroupOrder&&a.sort(function(e,t){return(w.optgroups[e].$order||0)-(w.optgroups[t].$order||0)}),d=document.createDocumentFragment(),t=0,i=a.length;t<i;t++)l=a[t],w.optgroups.hasOwnProperty(l)&&o[l].childNodes.length?((p=document.createDocumentFragment()).appendChild(w.render("optgroup_header",w.optgroups[l])),p.appendChild(o[l]),d.appendChild(w.render("optgroup",C.extend({},w.optgroups[l],{html:(v=p,y=void 0,y=document.createElement("div"),y.appendChild(v.cloneNode(!0)),y.innerHTML),dom:p})))):d.appendChild(o[l]);if(_.html(d),w.settings.highlight&&(_.removeHighlight(),$.query.length&&$.tokens.length))for(t=0,i=$.tokens.length;t<i;t++)k(_,$.tokens[t].regex);if(!w.settings.hideSelected)for(t=0,i=w.items.length;t<i;t++)w.getOption(w.items[t]).addClass("selected");(h=w.canCreate(b))&&(_.prepend(w.render("option_create",{input:b})),m=C(_[0].childNodes[0])),w.hasOptions=0<$.items.length||h,w.hasOptions?(0<$.items.length?((g=S&&w.getOption(S))&&g.length?f=g:"single"===w.settings.mode&&w.items.length&&(f=w.getOption(w.items[0])),f&&f.length||(f=m&&!w.settings.addPrecedence?w.getAdjacentOption(m,1):_.find("[data-selectable]:first"))):f=m,w.setActiveOption(f),e&&!w.isOpen&&w.open()):(w.setActiveOption(null),e&&w.isOpen&&w.close())},addOption:function(e){var t,n,r;if(C.isArray(e))for(t=0,n=e.length;t<n;t++)this.addOption(e[t]);else(r=this.registerOption(e))&&(this.userOptions[r]=!0,this.lastQuery=null,this.trigger("option_add",r,e))},registerOption:function(e){var t=D(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=D(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var n,r,i,o,a,s,u,l=this;if(e=D(e),i=D(t[l.settings.valueField]),null!==e&&l.options.hasOwnProperty(e)){if("string"!=typeof i)throw new Error("Value must be set in option data");u=l.options[e].$order,i!==e&&(delete l.options[e],-1!==(o=l.items.indexOf(e))&&l.items.splice(o,1,i)),t.$order=t.$order||u,l.options[i]=t,a=l.renderCache.item,s=l.renderCache.option,a&&(delete a[e],delete a[i]),s&&(delete s[e],delete s[i]),-1!==l.items.indexOf(i)&&(n=l.getItem(e),r=C(l.render("item",t)),n.hasClass("active")&&r.addClass("active"),n.replaceWith(r)),l.lastQuery=null,l.isOpen&&l.refreshOptions(!1)}},removeOption:function(e,t){e=D(e);var n=this.renderCache.item,r=this.renderCache.option;n&&delete n[e],r&&delete r[e],delete this.userOptions[e],delete this.options[e],this.lastQuery=null,this.trigger("option_remove",e),this.removeItem(e,t)},clearOptions:function(){var n=this;n.loadedSearches={},n.userOptions={},n.renderCache={};var r=n.options;C.each(n.options,function(e,t){-1==n.items.indexOf(e)&&delete r[e]}),n.options=n.sifter.items=r,n.lastQuery=null,n.trigger("option_clear")},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,t){var n=this.$dropdown.find("[data-selectable]"),r=n.index(e)+t;return 0<=r&&r<n.length?n.eq(r):C()},getElementWithValue:function(e,t){if(null!=(e=D(e)))for(var n=0,r=t.length;n<r;n++)if(t[n].getAttribute("data-value")===e)return C(t[n]);return C()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(e,t){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,r=0;r<n.length;r++)this.buffer.appendChild(n[r]);for(var i=C.isArray(e)?e:[e],o=(r=0,i.length);r<o;r++)this.isPending=r<o-1,this.addItem(i[r],t);var a=this.$control[0];a.insertBefore(this.buffer,a.firstChild),this.buffer=null},addItem:function(s,u){n(this,u?[]:["change"],function(){var e,t,n,r,i,o=this,a=o.settings.mode;s=D(s),-1===o.items.indexOf(s)?o.options.hasOwnProperty(s)&&("single"===a&&o.clear(u),"multi"===a&&o.isFull()||(e=C(o.render("item",o.options[s])),i=o.isFull(),o.items.splice(o.caretPos,0,s),o.insertAtCaret(e),(!o.isPending||!i&&o.isFull())&&o.refreshState(),o.isSetup&&(n=o.$dropdown_content.find("[data-selectable]"),o.isPending||(t=o.getOption(s),r=o.getAdjacentOption(t,1).attr("data-value"),o.refreshOptions(o.isFocused&&"single"!==a),r&&o.setActiveOption(o.getOption(r))),!n.length||o.isFull()?o.close():o.isPending||o.positionDropdown(),o.updatePlaceholder(),o.trigger("item_add",s,e),o.isPending||o.updateOriginalInput({silent:u})))):"single"===a&&o.close()})},removeItem:function(e,t){var n,r,i,o=this;n=e instanceof C?e:o.getItem(e),e=D(n.attr("data-value")),-1!==(r=o.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(i=o.$activeItems.indexOf(n[0]),o.$activeItems.splice(i,1)),o.items.splice(r,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(e)&&o.removeOption(e,t),r<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:t}),o.positionDropdown(),o.trigger("item_remove",e,n))},createItem:function(e,n){var r=this,i=r.caretPos;e=e||C.trim(r.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!r.canCreate(e))return o(),!1;r.lock();var t="function"==typeof r.settings.create?this.settings.create:function(e){var t={};return t[r.settings.labelField]=e,t[r.settings.valueField]=e,t},a=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}(function(e){if(r.unlock(),!e||"object"!=typeof e)return o();var t=D(e[r.settings.valueField]);if("string"!=typeof t)return o();r.setTextboxValue(""),r.addOption(e),r.setCaret(i),r.addItem(t),r.refreshOptions(n&&"single"!==r.settings.mode),o(e)}),s=t.apply(this,[e,a]);return void 0!==s&&a(s),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var e=this,t=e.isFull(),n=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",n).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!C.isEmptyObject(e.options)).toggleClass("has-items",0<e.items.length),e.$control_input.data("grow",!t&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,r,i,o=this;if(e=e||{},1===o.tagType){for(r=[],t=0,n=o.items.length;t<n;t++)i=o.options[o.items[t]][o.settings.labelField]||"",r.push('<option value="'+s(o.items[t])+'" selected="selected">'+s(i)+"</option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"></option>'),o.$input.html(r.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(e.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.isBlurring||e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e[0].getBoundingClientRect().width,top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),n=e[0],r=this.buffer||this.$control[0];0===t?r.insertBefore(n,r.firstChild):r.insertBefore(n,r.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(e){var t,n,r,i,o,a,s,u,l,c=this;if(r=e&&8===e.keyCode?-1:1,i=p(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(s=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),o=[],c.$activeItems.length){for(l=c.$control.children(".active:"+(0<r?"last":"first")),a=c.$control.children(":not(input)").index(l),0<r&&a++,t=0,n=c.$activeItems.length;t<n;t++)o.push(C(c.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(r<0&&0===i.start&&0===i.length?o.push(c.items[c.caretPos-1]):0<r&&i.start===c.$control_input.val().length&&o.push(c.items[c.caretPos]));if(!o.length||"function"==typeof c.settings.onDelete&&!1===c.settings.onDelete.apply(c,[o]))return!1;for(void 0!==a&&c.setCaret(a);o.length;)c.removeItem(o.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),s&&(u=c.getOption(s)).length&&c.setActiveOption(u),!0},advanceSelection:function(e,t){var n,r,i,o,a,s=this;0!==e&&(s.rtl&&(e*=-1),n=0<e?"last":"first",r=p(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(o=s.$control_input.val().length,(e<0?0===r.start&&0===r.length:r.start===o)&&!o&&s.advanceCaret(e,t)):(a=s.$control.children(".active:"+n)).length&&(i=s.$control.children(":not(input)").index(a),s.setActiveItem(null),s.setCaret(0<e?i+1:i)))},advanceCaret:function(e,t){var n,r;0!==e&&(n=0<e?"next":"prev",this.isShiftDown?(r=this.$control_input[n]()).length&&(this.hideInput(),this.setActiveItem(r),t&&t.preventDefault()):this.setCaret(this.caretPos+e))},setCaret:function(e){var t,n,r,i;if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(t=0,n=(r=this.$control.children(":not(input)")).length;t<n;t++)i=C(r[t]).detach(),t<e?this.$control_input.before(i):this.$control.append(i);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this,t=e.eventNS,n=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),0==--_.count&&_.$testInput&&(_.$testInput.remove(),_.$testInput=void 0),C(window).off(t),C(document).off(t),C(document.body).off(t),delete e.$input[0].selectize},render:function(e,t){var n,r,i="",o=!1,a=this;return"option"!==e&&"item"!==e||(o=!!(n=D(t[a.settings.valueField]))),o&&(l(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(i=C(a.settings.render[e].apply(this,[t,s])),"option"===e||"option_create"===e?t[a.settings.disabledField]||i.attr("data-selectable",""):"optgroup"===e&&(r=t[a.settings.optgroupValueField]||"",i.attr("data-group",r),t[a.settings.disabledField]&&i.attr("data-disabled","")),"option"!==e&&"item"!==e||i.attr("data-value",n||""),o&&(a.renderCache[e][n]=i[0]),i[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return e.length&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),_.count=0,_.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},C.fn.selectize=function(i){var o=C.fn.selectize.defaults,d=C.extend({},o,i),p=d.dataAttr,h=d.labelField,f=d.valueField,g=d.disabledField,m=d.optgroupField,v=d.optgroupLabelField,y=d.optgroupValueField;return this.each(function(){if(!this.selectize){var e=C(this),t=this.tagName.toLowerCase(),n=e.attr("placeholder")||e.attr("data-placeholder");n||d.allowEmptyOption||(n=e.children('option[value=""]').text());var r={placeholder:n,options:[],optgroups:[],items:[]};"select"===t?function(e,a){var t,n,r,i,o=a.options,s={},u=function(e){var t=p&&e.attr(p);return"string"==typeof t&&t.length?JSON.parse(t):null},l=function(e,t){e=C(e);var n=D(e.val());if(n||d.allowEmptyOption)if(s.hasOwnProperty(n)){if(t){var r=s[n][m];r?C.isArray(r)?r.push(t):s[n][m]=[r,t]:s[n][m]=t}}else{var i=u(e)||{};i[h]=i[h]||e.text(),i[f]=i[f]||n,i[g]=i[g]||e.prop("disabled"),i[m]=i[m]||t,s[n]=i,o.push(i),e.is(":selected")&&a.items.push(n)}},c=function(e){var t,n,r,i,o;for((r=(e=C(e)).attr("label"))&&((i=u(e)||{})[v]=r,i[y]=r,i[g]=e.prop("disabled"),a.optgroups.push(i)),t=0,n=(o=C("option",e)).length;t<n;t++)l(o[t],r)};for(a.maxItems=e.attr("multiple")?null:1,t=0,n=(i=e.children()).length;t<n;t++)"optgroup"===(r=i[t].tagName.toLowerCase())?c(i[t]):"option"===r&&l(i[t])}(e,r):function(e,t){var n,r,i,o,a=e.attr(p);if(a)for(t.options=JSON.parse(a),n=0,r=t.options.length;n<r;n++)t.items.push(t.options[n][f]);else{var s=C.trim(e.val()||"");if(!d.allowEmptyOption&&!s.length)return;for(n=0,r=(i=s.split(d.delimiter)).length;n<r;n++)(o={})[h]=i[n],o[f]=i[n],t.options.push(o);t.items=i}}(e,r),new _(e,C.extend(!0,{},o,r,i))}})},C.fn.selectize.defaults=_.defaults,C.fn.selectize.support={validity:b},_.define("drag_drop",function(e){if(!C.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t,n,r,i=this;i.lock=(t=i.lock,function(){var e=i.$control.data("sortable");return e&&e.disable(),t.apply(i,arguments)}),i.unlock=(n=i.unlock,function(){var e=i.$control.data("sortable");return e&&e.enable(),n.apply(i,arguments)}),i.setup=(r=i.setup,function(){r.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=i.$activeItems?i.$activeItems.slice():null,t=[];n.children("[data-value]").each(function(){t.push(C(this).attr("data-value"))}),i.setValue(t),i.setActiveItem(e)}})})}}),_.define("dropdown_header",function(e){var t,n=this;e=C.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$dropdown_header=C(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)})}),_.define("optgroup_columns",function(s){var o,u=this;s=C.extend({equalizeWidth:!0,equalizeHeight:!0},s),this.getAdjacentOption=function(e,t){var n=e.closest("[data-group]").find("[data-selectable]"),r=n.index(e)+t;return 0<=r&&r<n.length?n.eq(r):C()},this.onKeyDown=(o=u.onKeyDown,function(e){var t,n,r,i;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?o.apply(this,arguments):(u.ignoreHover=!0,t=(i=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((n=(r=(i=37===e.keyCode?i.prev("[data-group]"):i.next("[data-group]")).find("[data-selectable]")).eq(Math.min(r.length-1,t))).length&&this.setActiveOption(n)))});var l=function(){var e,t=l.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=l.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},e=function(){var e,t,n,r,i,o,a;if((t=(a=C("[data-group]",u.$dropdown_content)).length)&&u.$dropdown_content.width()){if(s.equalizeHeight){for(e=n=0;e<t;e++)n=Math.max(n,a.eq(e).height());a.css({height:n})}s.equalizeWidth&&(o=u.$dropdown_content.innerWidth()-l(),r=Math.round(o/t),a.css({width:r}),1<t&&(i=o-r*(t-1),a.eq(t-1).css({width:i})))}};(s.equalizeHeight||s.equalizeWidth)&&(t.after(this,"positionDropdown",e),t.after(this,"refreshOptions",e))}),_.define("remove_button",function(e){e=C.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n,r,i,o,a;"single"!==this.settings.mode?(o=n=this,a='<a href="javascript:void(0)" class="'+(r=e).className+'" tabindex="-1" title="'+s(r.title)+'">'+r.label+"</a>",n.setup=(i=o.setup,function(){if(r.append){var t=o.settings.render.item;o.settings.render.item=function(e){return function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)}(t.apply(n,arguments),a)}}i.apply(n,arguments),n.$control.on("click","."+r.className,function(e){if(e.preventDefault(),!o.isLocked){var t=C(e.currentTarget).parent();o.setActiveItem(t),o.deleteSelection()&&o.setCaret(o.items.length)}})})):function(n,r){r.className="remove-single";var i,o=n,a='<a href="javascript:void(0)" class="'+r.className+'" tabindex="-1" title="'+s(r.title)+'">'+r.label+"</a>";n.setup=(i=o.setup,function(){if(r.append){var e=C(o.$input.context).attr("id"),t=(C("#"+e),o.settings.render.item);o.settings.render.item=function(e){return function(e,t){return C("<span>").append(e).append(t)}(t.apply(n,arguments),a)}}i.apply(n,arguments),n.$control.on("click","."+r.className,function(e){e.preventDefault(),o.isLocked||o.clear()})})}(this,e)}),_.define("restore_on_backspace",function(r){var i,e=this;r.text=r.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(i=e.onKeyDown,function(e){var t,n;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(t=this.caretPos-1)&&t<this.items.length?(n=this.options[this.items[t]],this.deleteSelection(e)&&(this.setTextboxValue(r.text.apply(this,[n])),this.refreshOptions(!0)),void e.preventDefault()):i.apply(this,arguments)})}),_}),angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(p){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=?",options:"=?",ngDisabled:"=",ngRequired:"&"},link:function(n,e,t,r){Selectize.defaults.maxItems=null;var i,o=angular.extend({},Selectize.defaults,p,n.config);function a(e){e?i.disable():i.enable()}r.$isEmpty=function(e){return null==e||!e.length};function s(e){return e?(e=angular.isArray(e)||angular.isObject(e)?e:[e],$.map(e,function(e){return"string"==typeof e?function(e){var t={};return t[o.labelField]=e,t[o.valueField]=e,t}(e):e})):[]}function u(){!function(){var e=(n.ngRequired()||t.required||o.required)&&r.$isEmpty(n.ngModel);r.$setValidity("required",!e)}(),i.$control.toggleClass("ng-valid",r.$valid),i.$control.toggleClass("ng-invalid",r.$invalid),i.$control.toggleClass("ng-dirty",r.$dirty),i.$control.toggleClass("ng-pristine",r.$pristine),angular.equals(i.items,n.ngModel)||(i.addOption(s(n.ngModel)),i.setValue(n.ngModel))}var l=o.onChange,c=o.onOptionAdd;o.onChange=function(){n.disableOnChange||(angular.equals(i.items,n.ngModel)||n.$evalAsync(function(){var e=angular.copy(i.items);1==o.maxItems&&(e=e[0]),r.$setViewValue(e)}),l&&l.apply(this,arguments))},o.onOptionAdd=function(e,t){-1===n.options.indexOf(t)&&(n.options.push(t),c&&c.apply(this,arguments))},n.options?n.options.splice(0,n.options.length,s(n.options)):n.options=s(angular.copy(n.ngModel));var d=o.onInitialize;o.onInitialize=function(){(i=e[0].selectize).addOption(n.options),i.setValue(n.ngModel),d&&d(i),n.$watch("options",function(){n.disableOnChange=!0,i.clearOptions(),i.addOption(n.options),i.setValue(n.ngModel),n.disableOnChange=!1},!0),n.$watchCollection("ngModel",u),n.$watch("ngDisabled",a)},e.selectize(o),e.on("$destroy",function(){i&&(i.destroy(),e=null)})}}}]),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?t(require("jquery")):(t(e.jquery),e.bootstrapSwitch={})}(this,function(e){"use strict";var t,n=(t=e)&&t.__esModule?t:{default:t},r=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i=function(){function r(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=n.default||window.jQuery||window.$,u=function(){function t(r){var i=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.$element=s(r),this.options=s.extend({},s.fn.bootstrapSwitch.defaults,this._getElementOptions(),e),this.prevOptions={},this.$wrapper=s("<div>",{class:function(){var e=[];return e.push(i.options.state?"on":"off"),i.options.size&&e.push(i.options.size),i.options.disabled&&e.push("disabled"),i.options.readonly&&e.push("readonly"),i.options.indeterminate&&e.push("indeterminate"),i.options.inverse&&e.push("inverse"),i.$element.attr("id")&&e.push("id-"+i.$element.attr("id")),e.map(i._getClass.bind(i)).concat([i.options.baseClass],i._getClasses(i.options.wrapperClass)).join(" ")}}),this.$container=s("<div>",{class:this._getClass("container")}),this.$on=s("<span>",{html:this.options.onText,class:this._getClass("handle-on")+" "+this._getClass(this.options.onColor)}),this.$off=s("<span>",{html:this.options.offText,class:this._getClass("handle-off")+" "+this._getClass(this.options.offColor)}),this.$label=s("<span>",{html:this.options.labelText,class:this._getClass("label")}),this.$element.on("init.bootstrapSwitch",this.options.onInit.bind(this,r)),this.$element.on("switchChange.bootstrapSwitch",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];!1===i.options.onSwitchChange.apply(r,t)&&(i.$element.is(":radio")?s('[name="'+i.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",!0):i.$element.trigger("previousState.bootstrapSwitch",!0))}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return i(t,[{key:"setPrevOptions",value:function(){this.prevOptions=r({},this.options)}},{key:"state",value:function(e,t){return void 0===e?this.options.state:(this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")||(this.$element.is(":radio")?s('[name="'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",!!e).trigger("change.bootstrapSwitch",t)),this.$element)}},{key:"toggleState",value:function(e){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)}},{key:"size",value:function(e){return void 0===e?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this._getClass(this.options.size)),e&&this.$wrapper.addClass(this._getClass(e)),this._width(),this._containerPosition(),this.options.size=e,this.$element)}},{key:"animate",value:function(e){return void 0===e?this.options.animate:this.options.animate===!!e?this.$element:this.toggleAnimate()}},{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this._getClass("animate")),this.$element}},{key:"disabled",value:function(e){return void 0===e?this.options.disabled:this.options.disabled===!!e?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this._getClass("disabled")),this.$element}},{key:"readonly",value:function(e){return void 0===e?this.options.readonly:this.options.readonly===!!e?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this._getClass("readonly")),this.$element}},{key:"indeterminate",value:function(e){return void 0===e?this.options.indeterminate:this.options.indeterminate===!!e?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this._getClass("indeterminate")),this._containerPosition(),this.$element}},{key:"inverse",value:function(e){return void 0===e?this.options.inverse:this.options.inverse===!!e?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(this._getClass("inverse"));var e=this.$on.clone(!0),t=this.$off.clone(!0);return this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(e){return void 0===e?this.options.onColor:(this.options.onColor&&this.$on.removeClass(this._getClass(this.options.onColor)),this.$on.addClass(this._getClass(e)),this.options.onColor=e,this.$element)}},{key:"offColor",value:function(e){return void 0===e?this.options.offColor:(this.options.offColor&&this.$off.removeClass(this._getClass(this.options.offColor)),this.$off.addClass(this._getClass(e)),this.options.offColor=e,this.$element)}},{key:"onText",value:function(e){return void 0===e?this.options.onText:(this.$on.html(e),this._width(),this._containerPosition(),this.options.onText=e,this.$element)}},{key:"offText",value:function(e){return void 0===e?this.options.offText:(this.$off.html(e),this._width(),this._containerPosition(),this.options.offText=e,this.$element)}},{key:"labelText",value:function(e){return void 0===e?this.options.labelText:(this.$label.html(e),this._width(),this.options.labelText=e,this.$element)}},{key:"handleWidth",value:function(e){return void 0===e?this.options.handleWidth:(this.options.handleWidth=e,this._width(),this._containerPosition(),this.$element)}},{key:"labelWidth",value:function(e){return void 0===e?this.options.labelWidth:(this.options.labelWidth=e,this._width(),this._containerPosition(),this.$element)}},{key:"baseClass",value:function(){return this.options.baseClass}},{key:"wrapperClass",value:function(e){return void 0===e?this.options.wrapperClass:(e||(e=s.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)}},{key:"radioAllOff",value:function(e){if(void 0===e)return this.options.radioAllOff;var t=!!e;return this.options.radioAllOff===t||(this.options.radioAllOff=t),this.$element}},{key:"onInit",value:function(e){return void 0===e?this.options.onInit:(e||(e=s.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=e,this.$element)}},{key:"onSwitchChange",value:function(e){return void 0===e?this.options.onSwitchChange:(e||(e=s.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=e,this.$element)}},{key:"destroy",value:function(){var e=this.$element.closest("form");return e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}},{key:"_getElementOptions",value:function(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}},{key:"_width",value:function(){var n=this,e=this.$on.add(this.$off).add(this.$label).css("width",""),r="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return e.width(r),this.$label.width(function(e,t){return"auto"===n.options.labelWidth?t<r?r:t:n.options.labelWidth}),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)}},{key:"_containerPosition",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.state;arguments[1];this.$container.css("margin-left",function(){var e=[0,"-"+t._handleWidth+"px"];return t.options.indeterminate?"-"+t._handleWidth/2+"px":n?t.options.inverse?e[1]:e[0]:t.options.inverse?e[0]:e[1]})}},{key:"_init",value:function(){var e=this,t=function(){e.setPrevOptions(),e._width(),e._containerPosition(),setTimeout(function(){if(e.options.animate)return e.$wrapper.addClass(e._getClass("animate"))},50)};if(this.$wrapper.is(":visible"))t();else var n=window.setInterval(function(){if(e.$wrapper.is(":visible"))return t(),window.clearInterval(n)},50)}},{key:"_elementHandlers",value:function(){var r=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":this.setPrevOptions.bind(this),"previousState.bootstrapSwitch":function(){r.options=r.prevOptions,r.options.indeterminate&&r.$wrapper.addClass(r._getClass("indeterminate")),r.$element.prop("checked",r.options.state).trigger("change.bootstrapSwitch",!0)},"change.bootstrapSwitch":function(e,t){e.preventDefault(),e.stopImmediatePropagation();var n=r.$element.is(":checked");r._containerPosition(n),n===r.options.state||(r.options.state=n,r.$wrapper.toggleClass(r._getClass("off")).toggleClass(r._getClass("on")),!t&&(r.$element.is(":radio")&&s('[name="'+r.$element.attr("name")+'"]').not(r.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),r.$element.trigger("switchChange.bootstrapSwitch",[n])))},"focus.bootstrapSwitch":function(e){e.preventDefault(),r.$wrapper.addClass(r._getClass("focused"))},"blur.bootstrapSwitch":function(e){e.preventDefault(),r.$wrapper.removeClass(r._getClass("focused"))},"keydown.bootstrapSwitch":function(e){!e.which||r.options.disabled||r.options.readonly||(37===e.which||39===e.which)&&(e.preventDefault(),e.stopImmediatePropagation(),r.state(39===e.which))}})}},{key:"_handleHandlers",value:function(){var t=this;return this.$on.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")})}},{key:"_labelHandlers",value:function(){var n=this;this.$label.on({click:function(e){e.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){n._dragStart||n.options.disabled||n.options.readonly||(e.preventDefault(),e.stopPropagation(),n._dragStart=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(n.$container.css("margin-left"),10),n.options.animate&&n.$wrapper.removeClass(n._getClass("animate")),n.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){if(null!=n._dragStart){var t=(e.pageX||e.originalEvent.touches[0].pageX)-n._dragStart;e.preventDefault(),t<-n._handleWidth||0<t||(n._dragEnd=t,n.$container.css("margin-left",n._dragEnd+"px"))}},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){if(n._dragStart){if(e.preventDefault(),n.options.animate&&n.$wrapper.addClass(n._getClass("animate")),n._dragEnd){var t=n._dragEnd>-n._handleWidth/2;n._dragEnd=!1,n.state(n.options.inverse?!t:t)}else n.state(!n.options.state);n._dragStart=!1}},"mouseleave.bootstrapSwitch":function(){n.$label.trigger("mouseup.bootstrapSwitch")}})}},{key:"_externalLabelHandler",value:function(){var t=this,n=this.$element.closest("label");n.on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),e.target===n[0]&&t.toggleState()})}},{key:"_formHandler",value:function(){var e=this.$element.closest("form");e.data("bootstrap-switch")||e.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){e.find("input").filter(function(){return s(this).data("bootstrap-switch")}).each(function(){return s(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)}},{key:"_getClass",value:function(e){return this.options.baseClass+"-"+e}},{key:"_getClasses",value:function(e){return s.isArray(e)?e.map(this._getClass.bind(this)):[this._getClass(e)]}}]),t}();s.fn.bootstrapSwitch=function(o){for(var e=arguments.length,a=Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];return Array.prototype.reduce.call(this,function(e,t){var n=s(t),r=n.data("bootstrap-switch"),i=r||new u(t,o);return r||n.data("bootstrap-switch",i),"string"==typeof o?i[o].apply(i,a):e},this)},s.fn.bootstrapSwitch.Constructor=u,s.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}),function(e,t){"undefined"!=typeof module&&module.exports?("undefined"==typeof angular?t(require("angular")):t(angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(O){"use strict";var e=O.module("ngDialog",[]),T=O.element,t=O.isDefined,n=(document.body||document.documentElement).style,l=t(n.animation)||t(n.WebkitAnimation)||t(n.MozAnimation)||t(n.MsAnimation)||t(n.OAnimation),c="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",r={html:!1,body:!1},A={},E=[],P=!1,M=!1;return e.provider("ngDialog",function(){var S=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(e){r.html=e||!1},this.setForceBodyReload=function(e){r.body=e||!1},this.setDefaults=function(e){O.extend(S,e)},this.setOpenOnePerName=function(e){M=e||!1};var C,k=0,D=0,x={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(n,o,g,a,s,m,v,y,w,u){var b=[],$={onDocumentKeydown:function(e){27===e.keyCode&&_.close("$escape")},activate:function(e){e.data("$ngDialogOptions").trapFocus&&(e.on("keydown",$.onTrapFocusKeydown),b.body.on("keydown",$.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",$.onTrapFocusKeydown),b.body.off("keydown",$.onTrapFocusKeydown)},deactivateAll:function(e){O.forEach(e,function(e){var t=O.element(e);$.deactivate(t)})},setBodyPadding:function(e){var t=parseInt(b.body.css("padding-right")||0,10);b.body.css("padding-right",t+e+"px"),b.body.data("ng-dialog-original-padding",t),m.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=b.body.data("ng-dialog-original-padding");e?b.body.css("padding-right",e+"px"):b.body.css("padding-right",""),m.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,t){var n=e.data("$ngDialogOptions"),r=e.attr("id"),i=A[r];if(i){if(void 0!==y.Hammer){var o=i.hammerTime;o.off("tap",C),o.destroy&&o.destroy(),delete i.hammerTime}else e.unbind("click");1===D&&b.body.unbind("keydown",$.onDocumentKeydown),e.hasClass("ngdialog-closing")||(D-=1);var a=e.data("$ngDialogPreviousFocus");a&&a.focus&&a.focus(),m.$broadcast("ngDialog.closing",e,t),D=D<0?0:D,l&&!n.disableAnimation?(i.$destroy(),e.unbind(c).bind(c,function(){$.closeDialogElement(e,t)}).addClass("ngdialog-closing")):(i.$destroy(),$.closeDialogElement(e,t)),x[r]&&(x[r].resolve({id:r,value:t,$dialog:e,remainingDialogs:D}),delete x[r]),A[r]&&delete A[r],E.splice(E.indexOf(r),1),E.length||(b.body.unbind("keydown",$.onDocumentKeydown),P=!1)}},closeDialogElement:function(e,t){var n=e.data("$ngDialogOptions");e.remove(),0===D&&(b.html.removeClass(n.bodyClassName),b.body.removeClass(n.bodyClassName),$.resetBodyPadding()),m.$broadcast("ngDialog.closed",e,t)},closeDialog:function(e,t){var n=e.data("$ngDialogPreCloseCallback");if(n&&O.isFunction(n)){var r=n.call(e,t);if(O.isObject(r))r.closePromise?r.closePromise.then(function(){$.performCloseDialog(e,t)},function(){return!1}):r.then(function(){$.performCloseDialog(e,t)},function(){return!1});else{if(!1===r)return!1;$.performCloseDialog(e,t)}}else $.performCloseDialog(e,t)},onTrapFocusKeydown:function(e){var t,n=O.element(e.currentTarget);if(n.hasClass("ngdialog"))t=n;else if(null===(t=$.getActiveDialog()))return;var r=9===e.keyCode,i=!0===e.shiftKey;r&&$.handleTab(t,e,i)},handleTab:function(e,t,n){var r=$.getFocusableElements(e);if(0!==r.length){var i=document.activeElement,o=Array.prototype.indexOf.call(r,i),a=-1===o,s=0===o,u=o===r.length-1,l=!1;n?(a||s)&&(r[r.length-1].focus(),l=!0):(a||u)&&(r[0].focus(),l=!0),l&&(t.preventDefault(),t.stopPropagation())}else document.activeElement&&document.activeElement.blur&&document.activeElement.blur()},autoFocus:function(e){var t=e[0],n=t.querySelector("*[autofocus]");if(null===n||(n.focus(),document.activeElement!==n)){var r=$.getFocusableElements(e);if(0<r.length)r[0].focus();else{var i=$.filterVisibleElements(t.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(0<i.length){var o=i[0];T(o).attr("tabindex","-1").css("outline","0"),o.focus()}}}},getFocusableElements:function(e){var t=e[0].querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),n=$.filterTabbableElements(t);return $.filterVisibleElements(n)},filterTabbableElements:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"-1"!==T(r).attr("tabindex")&&t.push(r)}return t},filterVisibleElements:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];(0<r.offsetWidth||0<r.offsetHeight)&&t.push(r)}return t},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:T(e[e.length-1])},applyAriaAttributes:function(e,t){if(t.ariaAuto){if(!t.ariaRole){var n=0<$.getFocusableElements(e).length?"dialog":"alertdialog";t.ariaRole=n}t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")}t.ariaRole&&e.attr("role",t.ariaRole),$.applyAriaAttribute(e,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector),$.applyAriaAttribute(e,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(e,t,n,r){if(n&&e.attr(t,n),r){var i=e.attr("id"),o=e[0].querySelector(r);if(!o)return;var a=i+"-"+t;return T(o).attr("id",a),e.attr(t,a),a}},detectUIRouter:function(){try{return O.module("ui.router"),!0}catch(e){return!1}},getRouterLocationEventName:function(){return $.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},_={__PRIVATE__:$,open:function(e){var l=null;if(e=e||{},!(M&&e.name&&(l=e.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(l)))){var t,c,d,p,h,f=O.copy(S),n=++k;l=l||"ngdialog"+n,E.push(l),void 0!==f.data&&(void 0===e.data&&(e.data={}),e.data=O.merge(O.copy(f.data),e.data)),O.extend(f,e),x[l]=t=a.defer(),A[l]=c=O.isObject(f.scope)?f.scope.$new():m.$new();var r=O.extend({},f.resolve);return O.forEach(r,function(e,t){r[t]=O.isString(e)?u.get(e):u.invoke(e,null,null,t)}),a.all({template:function(e){if(!e)return"Empty template";if(O.isString(e)&&f.plain)return e;return"boolean"!=typeof f.cache||f.cache?i(e,{cache:o}):i(e,{cache:!1})}(f.template||f.templateUrl),locals:a.all(r)}).then(function(e){var t=e.template,n=e.locals;f.showClose&&(t+='<div class="ngdialog-close"></div>');var r,i=f.overlay?"":" ngdialog-no-overlay";if((d=T('<div id="'+l+'" class="ngdialog'+i+'"></div>')).html(f.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+t+"</div>":'<div class="ngdialog-content" role="document">'+t+"</div>"),d.data("$ngDialogOptions",f),c.ngDialogId=l,f.data&&O.isString(f.data)){var o=f.data.replace(/^\s*/,"")[0];c.ngDialogData="{"===o||"["===o?O.fromJson(f.data):new String(f.data),c.ngDialogData.ngDialogId=l}else f.data&&O.isObject(f.data)&&(c.ngDialogData=f.data,c.ngDialogData.ngDialogId=l);(f.className&&d.addClass(f.className),f.appendClassName&&d.addClass(f.appendClassName),f.width&&(h=d[0].querySelector(".ngdialog-content"),O.isString(f.width)?h.style.width=f.width:h.style.width=f.width+"px"),f.height&&(h=d[0].querySelector(".ngdialog-content"),O.isString(f.height)?h.style.height=f.height:h.style.height=f.height+"px"),f.disableAnimation&&d.addClass("ngdialog-disabled-animation"),p=f.appendTo&&O.isString(f.appendTo)?O.element(document.querySelector(f.appendTo)):b.body,$.applyAriaAttributes(d,f),f.preCloseCallback)&&(O.isFunction(f.preCloseCallback)?r=f.preCloseCallback:O.isString(f.preCloseCallback)&&c&&(O.isFunction(c[f.preCloseCallback])?r=c[f.preCloseCallback]:c.$parent&&O.isFunction(c.$parent[f.preCloseCallback])?r=c.$parent[f.preCloseCallback]:m&&O.isFunction(m[f.preCloseCallback])&&(r=m[f.preCloseCallback])),r&&d.data("$ngDialogPreCloseCallback",r));if(c.closeThisDialog=function(e){$.closeDialog(d,e)},f.controller&&(O.isString(f.controller)||O.isArray(f.controller)||O.isFunction(f.controller))){var a;f.controllerAs&&O.isString(f.controllerAs)&&(a=f.controllerAs);var s=w(f.controller,O.extend(n,{$scope:c,$element:d}),!0,a);f.bindToController&&O.extend(s.instance,{ngDialogId:c.ngDialogId,ngDialogData:c.ngDialogData,closeThisDialog:c.closeThisDialog,confirm:c.confirm}),"function"==typeof s?d.data("$ngDialogControllerController",s()):d.data("$ngDialogControllerController",s)}if(v(function(){var e=document.querySelectorAll(".ngdialog");$.deactivateAll(e),g(d)(c);var t=y.innerWidth-b.body.prop("clientWidth");b.html.addClass(f.bodyClassName),b.body.addClass(f.bodyClassName);var n=t-(y.innerWidth-b.body.prop("clientWidth"));0<n&&$.setBodyPadding(n),p.append(d),$.activate(d),f.trapFocus&&$.autoFocus(d),f.name?m.$broadcast("ngDialog.opened",{dialog:d,name:f.name}):m.$broadcast("ngDialog.opened",d)}),P||(b.body.bind("keydown",$.onDocumentKeydown),P=!0),f.closeByNavigation){var u=$.getRouterLocationEventName();m.$on(u,function(e){!1===$.closeDialog(d)&&e.preventDefault()})}(f.preserveFocus&&d.data("$ngDialogPreviousFocus",document.activeElement),C=function(e){var t=!!f.closeByDocument&&T(e.target).hasClass("ngdialog-overlay"),n=T(e.target).hasClass("ngdialog-close");(t||n)&&_.close(d.attr("id"),n?"$closeButton":"$document")},void 0!==y.Hammer)?(c.hammerTime=y.Hammer(d[0])).on("tap",C):d.bind("click",C);return D+=1,_}),{id:l,closePromise:t.promise,close:function(e){$.closeDialog(d,e)}}}function i(t,e){return(e=e||{}).headers=e.headers||{},O.extend(e.headers,{Accept:"text/html"}),m.$broadcast("ngDialog.templateLoading",t),s.get(t,e).then(function(e){return m.$broadcast("ngDialog.templateLoaded",t),e.data||""})}},openConfirm:function(e){var n=a.defer(),t=O.copy(S);e=e||{},void 0!==t.data&&(void 0===e.data&&(e.data={}),e.data=O.merge(O.copy(t.data),e.data)),O.extend(t,e),t.scope=O.isObject(t.scope)?t.scope.$new():m.$new(),t.scope.confirm=function(e){n.resolve(e);var t=T(document.getElementById(r.id));$.performCloseDialog(t,e)};var r=_.open(t);if(r)return r.closePromise.then(function(e){return e?n.reject(e.value):n.reject()}),n.promise},isOpen:function(e){return 0<T(document.getElementById(e)).length},close:function(e,t){var n=T(document.getElementById(e));if(n.length)$.closeDialog(n,t);else if("$escape"===e){var r=E[E.length-1];(n=T(document.getElementById(r))).data("$ngDialogOptions").closeByEscape&&$.closeDialog(n,"$escape")}else _.closeAll(t);return _},closeAll:function(e){for(var t=document.querySelectorAll(".ngdialog"),n=t.length-1;0<=n;n--){var r=t[n];$.closeDialog(T(r),e)}},getOpenDialogs:function(){return E},getDefaults:function(){return S}};return O.forEach(["html","body"],function(e){if(b[e]=n.find(e),r[e]){var t=$.getRouterLocationEventName();m.$on(t,function(){b[e]=n.find(e)})}}),_}]}),e.directive("ngDialog",["ngDialog",function(o){return{restrict:"A",scope:{ngDialogScope:"="},link:function(r,e,i){e.on("click",function(e){e.preventDefault();var t=O.isDefined(r.ngDialogScope)?r.ngDialogScope:"noScope";O.isDefined(i.ngDialogClosePrevious)&&o.close(i.ngDialogClosePrevious);var n=o.getDefaults();o.open({template:i.ngDialog,className:i.ngDialogClass||n.className,appendClassName:i.ngDialogAppendClass,controller:i.ngDialogController,controllerAs:i.ngDialogControllerAs,bindToController:i.ngDialogBindToController,disableAnimation:i.ngDialogDisableAnimation,scope:t,data:i.ngDialogData,showClose:"false"!==i.ngDialogShowClose&&("true"===i.ngDialogShowClose||n.showClose),closeByDocument:"false"!==i.ngDialogCloseByDocument&&("true"===i.ngDialogCloseByDocument||n.closeByDocument),closeByEscape:"false"!==i.ngDialogCloseByEscape&&("true"===i.ngDialogCloseByEscape||n.closeByEscape),overlay:"false"!==i.ngDialogOverlay&&("true"===i.ngDialogOverlay||n.overlay),preCloseCallback:i.ngDialogPreCloseCallback||n.preCloseCallback,bodyClassName:i.ngDialogBodyClass||n.bodyClassName})})}}}]),e}),angular.module("ui-notification",[]),angular.module("ui-notification").provider("Notification",function(){this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html",onClose:void 0,closeOnClick:!0,maxCount:0,container:"body",priority:10},this.setOptions=function(e){if(!angular.isObject(e))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,e)},this.$get=["$timeout","$http","$compile","$templateCache","$rootScope","$injector","$sce","$q","$window",function(l,r,c,i,o,e,f,a,g){var m=this.options,v=m.startTop,y=m.startRight,w=m.verticalSpacing,b=m.horizontalSpacing,s=m.delay,$=[],_=!1,t=function(h,e){function t(e){function t(t){["-webkit-transition","-o-transition","transition"].forEach(function(e){i.css(e,t)})}var n=h.scope.$new();n.message=f.trustAsHtml(h.message),n.title=f.trustAsHtml(h.title),n.t=h.type.substr(0,1),n.delay=h.delay,n.onClose=h.onClose;var d=function(e,t){return e._priority-t._priority},p=function(e,t){return t._priority-e._priority},r=function(){var e=0,t=0,n=y,r=[];"top"===h.positionY?$.sort(d):"bottom"===h.positionY&&$.sort(p);for(var i=$.length-1;0<=i;i--){var o=$[i];if(h.replaceMessage&&i<$.length-1)o.addClass("killed");else{var a=parseInt(o[0].offsetHeight),s=parseInt(o[0].offsetWidth),u=r[o._positionY+o._positionX];l+a>window.innerHeight&&(u=v,t++,e=0);var l=u?0===e?u:u+w:v,c=n+t*(b+s);o.css(o._positionY,l+"px"),"center"==o._positionX?o.css("left",parseInt(window.innerWidth/2-s/2)+"px"):o.css(o._positionX,c+"px"),r[o._positionY+o._positionX]=l+a,0<m.maxCount&&$.length>m.maxCount&&0===i&&o.scope().kill(!0),e++}}},i=c(e)(n);i._positionY=h.positionY,i._positionX=h.positionX,i._priority=h.priority,i.addClass(h.type);var o=function(e){("click"===(e=e.originalEvent||e).type||"opacity"===e.propertyName&&1<=e.elapsedTime)&&(n.onClose&&n.$apply(n.onClose(i)),i.remove(),$.splice($.indexOf(i),1),n.$destroy(),r())};h.closeOnClick&&(i.addClass("clickable"),i.bind("click",o)),i.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",o),angular.isNumber(h.delay)&&l(function(){i.addClass("killed")},h.delay),t("none"),angular.element(document.querySelector(h.container)).append(i);var a=-(parseInt(i[0].offsetHeight)+50);if(i.css(i._positionY,a+"px"),$.push(i),"center"==h.positionX){var s=parseInt(i[0].offsetWidth);i.css("left",parseInt(window.innerWidth/2-s/2)+"px")}l(function(){t("")}),n._templateElement=i,n.kill=function(e){e?(n.onClose&&n.$apply(n.onClose(n._templateElement)),$.splice($.indexOf(n._templateElement),1),n._templateElement.remove(),n.$destroy(),l(r)):n._templateElement.addClass("killed")},l(r),_||(angular.element(g).bind("resize",function(e){l(r)}),_=!0),u.resolve(n)}var u=a.defer();"object"==typeof h&&null!==h||(h={message:h}),h.scope=h.scope?h.scope:o,h.template=h.templateUrl?h.templateUrl:m.templateUrl,h.delay=angular.isUndefined(h.delay)?s:h.delay,h.type=e||h.type||m.type||"",h.positionY=h.positionY?h.positionY:m.positionY,h.positionX=h.positionX?h.positionX:m.positionX,h.replaceMessage=h.replaceMessage?h.replaceMessage:m.replaceMessage,h.onClose=h.onClose?h.onClose:m.onClose,h.closeOnClick=null!==h.closeOnClick&&void 0!==h.closeOnClick?h.closeOnClick:m.closeOnClick,h.container=h.container?h.container:m.container,h.priority=h.priority?h.priority:m.priority;var n=i.get(h.template);return n?t(n):r.get(h.template,{cache:!0}).then(function(e){t(e.data)}).catch(function(e){throw new Error("Template ("+h.template+") could not be loaded. "+e)}),u.promise};return t.primary=function(e){return this(e,"primary")},t.error=function(e){return this(e,"error")},t.success=function(e){return this(e,"success")},t.info=function(e){return this(e,"info")},t.warning=function(e){return this(e,"warning")},t.clearAll=function(){angular.forEach($,function(e){e.addClass("killed")})},t}]}),angular.module("ui-notification").run(["$templateCache",function(e){e.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]),function(){var g="__default";angular.module("angularUtils.directives.dirPagination",[]).directive("dirPaginate",["$compile","$parse","paginationService",function(l,c,d){return{terminal:!0,multiElement:!0,priority:100,compile:function(e,t){var s=t.dirPaginate,n=s.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),r=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===n[2].match(r))throw"pagination directive: the 'itemsPerPage' filter must be set.";var i=n[2].replace(r,""),u=c(i);!function(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)})}(e);var o=t.paginationId||g;return d.registerInstance(o),function(e,t,n){var r=c(n.paginationId)(e)||n.paginationId||g;d.registerInstance(r);var i=function(e,t){var n=!!e.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return t===g||n?e:e.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+t+"'")}(s,r);!function(e,t,n){e[0].hasAttribute("dir-paginate-start")||e[0].hasAttribute("data-dir-paginate-start")?(t.$set("ngRepeatStart",n),e.eq(e.length-1).attr("ng-repeat-end",!0)):t.$set("ngRepeat",n)}(t,n,i),function(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),e.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),e.eq(e.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}(t);var o=l(t),a=function(e,t,n){var r;if(t.currentPage)r=c(t.currentPage);else{var i=(n+"__currentPage").replace(/\W/g,"_");e[i]=1,r=c(i)}return r}(e,n,r);d.setCurrentPageParser(r,a,e),void 0!==n.totalItems?(d.setAsyncModeTrue(r),e.$watch(function(){return c(n.totalItems)(e)},function(e){0<=e&&d.setCollectionLength(r,e)})):(d.setAsyncModeFalse(r),e.$watchCollection(function(){return u(e)},function(e){if(e){var t=e instanceof Array?e.length:Object.keys(e).length;d.setCollectionLength(r,t)}})),o(e)}}}}]).directive("dirPaginateNoCompile",function(){return{priority:5e3,terminal:!0}}).directive("dirPaginationControls",["paginationService","paginationTemplate",function(d,n){var p=/^\d+$/,e={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:function(r,e,t){var n=t.paginationId||g,i=r.paginationId||t.paginationId||g;if(!d.isRegistered(i)&&!d.isRegistered(n)){var o=i!==g?" (id: "+i+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+o+"cannot be used without the corresponding pagination directive, which was not found at link time.")}r.maxSize||(r.maxSize=9);r.autoHide=void 0===r.autoHide||r.autoHide,r.directionLinks=!angular.isDefined(t.directionLinks)||r.$parent.$eval(t.directionLinks),r.boundaryLinks=!!angular.isDefined(t.boundaryLinks)&&r.$parent.$eval(t.boundaryLinks);var a=Math.max(r.maxSize,5);function s(e){if(d.isRegistered(i)&&c(e)){var t=r.pagination.current;r.pages=h(e,d.getCollectionLength(i),d.getItemsPerPage(i),a),r.pagination.current=e,l(),r.onPageChange&&r.onPageChange({newPageNumber:e,oldPageNumber:t})}}function u(){if(d.isRegistered(i)){var e=parseInt(d.getCurrentPage(i))||1;r.pages=h(e,d.getCollectionLength(i),d.getItemsPerPage(i),a),r.pagination.current=e,r.pagination.last=r.pages[r.pages.length-1],r.pagination.last<r.pagination.current?r.setCurrent(r.pagination.last):l()}}function l(){if(d.isRegistered(i)){var e=d.getCurrentPage(i),t=d.getItemsPerPage(i),n=d.getCollectionLength(i);r.range.lower=(e-1)*t+1,r.range.upper=Math.min(e*t,n),r.range.total=n}}function c(e){return p.test(e)&&0<e&&e<=r.pagination.last}r.pages=[],r.pagination={last:1,current:1},r.range={lower:1,upper:1,total:1},r.$watch("maxSize",function(e){e&&(a=Math.max(r.maxSize,5),u())}),r.$watch(function(){if(d.isRegistered(i))return(d.getCollectionLength(i)+1)*d.getItemsPerPage(i)},function(e){0<e&&u()}),r.$watch(function(){if(d.isRegistered(i))return d.getItemsPerPage(i)},function(e,t){e!=t&&void 0!==t&&s(r.pagination.current)}),r.$watch(function(){if(d.isRegistered(i))return d.getCurrentPage(i)},function(e,t){e!=t&&s(e)}),r.setCurrent=function(e){d.isRegistered(i)&&c(e)&&(e=parseInt(e,10),d.setCurrentPage(i,e))},r.tracker=function(e,t){return e+"_"+t}}},t=n.getString();void 0!==t?e.template=t:e.templateUrl=function(e,t){return t.templateUrl||n.getPath()};return e;function h(e,t,n,r){var i,o=[],a=Math.ceil(t/n),s=Math.ceil(r/2);i=e<=s?"start":a-s<e?"end":"middle";for(var u=r<a,l=1;l<=a&&l<=r;){var c=f(l,e,r,a),d=2===l&&("middle"===i||"end"===i),p=l===r-1&&("middle"===i||"start"===i);u&&(d||p)?o.push("..."):o.push(c),l++}return o}function f(e,t,n,r){var i=Math.ceil(n/2);return e===n?r:1===e?e:n<r?r-i<t?r-n+e:i<t?t-i+e:e:e}}]).filter("itemsPerPage",["paginationService",function(a){return function(t,e,n){if(void 0===n&&(n=g),!a.isRegistered(n))throw"pagination directive: the itemsPerPage id argument (id: "+n+") does not match a registered pagination-id.";var r,i;if(angular.isObject(t)){if(e=parseInt(e)||9999999999,i=a.isAsyncMode(n)?0:(a.getCurrentPage(n)-1)*e,r=i+e,a.setItemsPerPage(n,e),t instanceof Array)return t.slice(i,r);var o={};return angular.forEach(function(e){{if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}}(t).slice(i,r),function(e){o[e]=t[e]}),o}return t}}]).service("paginationService",function(){var t,r={};this.registerInstance=function(e){void 0===r[e]&&(r[e]={asyncMode:!1},t=e)},this.deregisterInstance=function(e){delete r[e]},this.isRegistered=function(e){return void 0!==r[e]},this.getLastInstanceId=function(){return t},this.setCurrentPageParser=function(e,t,n){r[e].currentPageParser=t,r[e].context=n},this.setCurrentPage=function(e,t){r[e].currentPageParser.assign(r[e].context,t)},this.getCurrentPage=function(e){var t=r[e].currentPageParser;return t?t(r[e].context):1},this.setItemsPerPage=function(e,t){r[e].itemsPerPage=t},this.getItemsPerPage=function(e){return r[e].itemsPerPage},this.setCollectionLength=function(e,t){r[e].collectionLength=t},this.getCollectionLength=function(e){return r[e].collectionLength},this.setAsyncModeTrue=function(e){r[e].asyncMode=!0},this.setAsyncModeFalse=function(e){r[e].asyncMode=!1},this.isAsyncMode=function(e){return r[e].asyncMode}}).provider("paginationTemplate",function(){var t,n="angularUtils.directives.dirPagination.template";this.setPath=function(e){n=e},this.setString=function(e){t=e},this.$get=function(){return{getPath:function(){return n},getString:function(){return t}}}}).run(["$templateCache",function(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}])}();var com_github_culmat_jsTreeTable=function(){function u(e,r,i){return i=i||"children",$.each(e,function(e,t){!function n(e){e[i]&&$.each(e[i],function(e,t){n(t)}),r(e)}(t)}),e}function t(e,n,o,a){var t=e;n=n||"id",o=o||"parent",a=a||"children";var s=[];$.each(t,function(e,t){s[t[n]]=t});var u=[];return $.each(t,function(e,r){var t=r[o];if($.isArray(t)||(t=[t]),0==t.length)u.push(r);else{var i=!1;$.each(t,function(e,t){var n=s[t];n&&(n[a]||(n[a]=[]),$.inArray(r,n[a])<0&&n[a].push(r),i=!0)}),i||u.push(r)}}),u}function l(e,a,s,u,l,t){a=a||"children",s=s||"id",t=t||{};var n=0,r=$("<table>");$.each(t,function(e,t){"class"==e&&"jsTT"!=t?r.addClass(t):r.attr(e,t)});var i=$("<thead>"),o=$("<tr>"),c=$("<tbody>");return r.append(i),i.append(o),r.append(c),u?$.each(u,function(e,t){$(o).append($("<th>"+t+"</th>"))}):($(o).append($("<th>"+s+"</th>")),$.each(e[0],function(e,t){e!=a&&e!=s&&$(o).append($("<th>"+e+"</th>"))})),function r(e,i,o,t){n=Math.max(n,o),$.each(e,function(e,n){n["data-tt-level"]=o,function(n,e){var r=$("<tr>");$(r).attr("data-tt-id",n[s]),$(r).attr("data-tt-level",n["data-tt-level"]),n[a]&&0!=n[a].length?$(r).attr("data-tt-isnode",!0):$(r).attr("data-tt-isleaf",!0),e&&$(r).attr("data-tt-parent-id",e[s]),l?l($(r),n):u?$.each(u,function(e,t){$(r).append($("<td>"+n[e]+"</td>"))}):($(r).append($("<td>"+n[s]+"</td>")),$.each(n,function(e,t){e!=a&&e!=s&&"data-tt-level"!=e&&$(r).append($("<td>"+t+"</td>"))})),c.append(r)}(n,t),n[i]&&$.each(n[i],function(e,t){r([t],i,o+1,n)})})}(e,a,1),e[0]&&(e[0].maxLevel=n),r}function n(e,t){return $.each(e,function(e,n){$.each(t,function(e,t){n[t]=$(n).attr(t)})}),e}function c(i){i.addClass("jsTT"),i.expandLevel=function(n){$("tr[data-tt-level]",i).each(function(e){var t=parseInt($(this).attr("data-tt-level"));n-1<t?this.trCollapse(!0):t==n-1&&this.trExpand(!0)})},$("tr[data-tt-id]",i).each(function(e,t){(t=$(t)).attr("data-tt-level",function e(t){var n=t.attr("data-tt-level");if(null!=n)return parseInt(n);var r=t.attr("data-tt-parent-id");return null==r?0:e($('tr[data-tt-id="'+r+'"]',i).first())+1}(t))});var e=$("tr[data-tt-level]",i).get();$.each(e,function(e,t){t.trChildrenVisible=!0,t.trChildren=[]}),e=t(e=n(e,["data-tt-id","data-tt-parent-id"]),"data-tt-id","data-tt-parent-id","trChildren");var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAHFJREFUeNpi/P//PwMlgImBQsA44C6gvhfa29v3MzAwOODRc6CystIRbxi0t7fjDJjKykpGYrwwi1hxnLHQ3t7+jIGBQRJJ6HllZaUUKYEYRYBPOB0gBShKwKGA////48VtbW3/8clTnBIH3gCKkzJgAGvBX0dDm0sCAAAAAElFTkSuQmCC";return $("tr[data-tt-level]",i).each(function(e,t){var n=$(t).attr("data-tt-level"),r=$("td",t).first();0<t.trChildren.length?r.prepend($('<img id="state" style="cursor:pointer" src="'+o+'"/>')):r.prepend($('<span style="padding-left:16px;" /></span>')),r.prepend($('<span style="padding-left:'+15*parseInt(n-1)+'px;" /></span>')),t.trExpand=function(e){if(!(this.trChildren.length<1)){e&&(this.trChildrenVisible=!0,$("#state",this).get(0).src=o);var n=e||this.trChildrenVisible;$.each(this.trChildren,function(e,t){n&&$(t).css("display","table-row"),t.trExpand()})}},t.trCollapse=function(e){this.trChildren.length<1||(e&&(this.trChildrenVisible=!1,$("#state",this).get(0).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAHlJREFUeNrcU1sNgDAQ6wgmcAM2MICGGlg1gJnNzWQcvwQGy1j4oUl/7tH0mpwzM7SgQyO+EZAUWh2MkkzSWhJwuRAlHYsJwEwyvs1gABDuzqoJcTw5qxaIJN0bgQRgIjnlmn1heSO5PE6Y2YXe+5Cr5+h++gs12AcAS6FS+7YOsj4AAAAASUVORK5CYII="),$.each(this.trChildren,function(e,t){$(t).css("display","none"),t.trCollapse()}))},$(t).click(function(){this.trChildrenVisible?this.trCollapse(!0):this.trExpand(!0)})}),i}return{depthFirst:u,makeTree:t,renderTree:l,attr2attr:n,treeTable:c,appendTreetable:function(e,t){(t=t||{}).idAttr=t.idAttr||"id",t.childrenAttr=t.childrenAttr||"children";var n=t.controls||[];t.mountPoint||(t.mountPoint=$("body")),t.depthFirst&&u(e,t.depthFirst,t.childrenAttr);var r=l(e,t.childrenAttr,t.idAttr,t.renderedAttr,t.renderer,t.tableAttributes);c(r),t.replaceContent&&t.mountPoint.html("");var i,o,a=t.initialExpandLevel?parseInt(t.initialExpandLevel):-1;if(a=Math.min(a,e[0].maxLevel),r.expandLevel(a),t.slider){var s=$('<div style="margin-right: 15px;">');s.width("200px"),s.slider({min:1,max:e[0].maxLevel,range:"min",value:a,slide:function(e,t){r.expandLevel(t.value)}}),n=[s].concat(t.controls)}return 0<n.length&&t.mountPoint.append((i=n,o=$("<tr>"),$.each(i,function(e,t){o.append($('<td style="padding-right: 20px;">').append(t))}),$('<table border="0"/>').append(o))),t.mountPoint.append(r),r},jsTreeTable:"1.0",register:function(n){$.each(this,function(e,t){"register"!=e&&(n[e]=t)})}}}();