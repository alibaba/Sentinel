<div class="row" style="margin-left: 1px; margin-top:10px; height: 50px;">
  <div class="col-md-6" style="margin-bottom: 10px;">
    <span style="font-size: 30px;font-weight: bold;">{{app}}</span>
  </div>
  <div class="col-md-6">
    <button class="btn btn-default-inverse" style="float: right; margin-right: 10px;" ng-disabled="!macInputModel" ng-click="addNewRule()">
      <i class="fa fa-plus"></i>&nbsp;&nbsp;Add Flow Rule</button>
  </div>
</div>

<div class="separator"></div>

<div class="container-fluid">
  <div class="row" style="margin-top: 20px; margin-bottom: 20px;">
    <div class="col-md-12">
      <div class="card">
        <div class="inputs-header">
          <span class="brand" style="font-size: 13px;">Flow Rules</span>
          <!--<button class="btn btn-danger" style="float: right;margin-right: 10px;height: 30px;font-size: 12px;" ng-click="disableAll()">全部禁用</button>-->
          <button class="btn btn-primary" style="float: right; margin-right: 10px; height: 30px;font-size: 12px;" ng-click="getMachineRules()">Refresh</button>
          <input class="form-control witdh-200" placeholder="keyword" ng-model="searchKey">
          <div class="control-group" style="float:right;margin-right: 10px;margin-bottom: -10px;">
            <selectize id="gsInput" class="selectize-input-200" config="macsInputConfig" options="macsInputOptions" ng-model="macInputModel"
              placeholder="machines"></selectize>
          </div>
        </div>

        <!--.tools-header -->
        <div class="card-body" style="padding: 0px 0px;">
          <table class="table" style="border-left: none; border-right:none;margin-top: 10px;">
            <thead>
              <tr style="background: #F3F5F7;">
                <td style="width: 40%">
                  Resource Name
                </td>
                <td style="width: 10%;">
                  Limit Origin
                </td>
                <td style="width: 10%; word-break: break-word;" title="Strategy of flow control by invocation relations">
                  Strategy
                </td>
                <td style="width: 10%; word-break: break-word;">
                  Metric Type
                </td>
                <td style="width: 10%;">
                  Threshold
                </td>
                <td style="width: 10%; word-break: break-word;">
                  Control Behavior
                </td>
                <!--<td style="width: 8%;">-->
                <!--状态-->
                <!--</td>-->
                <td style="width: 12%;">
                  Operations
                </td>
              </tr>
            </thead>
            <tbody>
              <tr dir-paginate="rule in rules | filter: searchKey | itemsPerPage: rulesPageConfig.pageSize " current-page="rulesPageConfig.currentPageIndex"
                pagination-id="entriesPagination">
                <td style="word-wrap:break-word;word-break:break-all;">{{rule.resource}}</td>
                <td style="word-wrap:break-word;word-break:break-all;">{{rule.limitApp }}</td>
                <td>
                  <span ng-if="rule.strategy == 0">Direct</span>
                  <span ng-if="rule.strategy == 1">Relate</span>
                  <span ng-if="rule.strategy == 2" title="By entrance of invocation chain">Chain</span>
                </td>
                <td>
                  {{rule.grade == 0 ? 'Thread Count' : 'QPS'}}
                </td>
                <td style="word-wrap:break-word;word-break:break-all;">
                  {{rule.count}}
                </td>
                <td>
                  <span ng-if="rule.controlBehavior == 0">Fast Reject</span>
                  <span ng-if="rule.controlBehavior == 1">Warm Up</span>
                  <span ng-if="rule.controlBehavior == 2" title="Uniform rate limiting">Queueing</span>
                </td>
                <td>
                  <button class="btn btn-xs btn-default" type="button" ng-click="editRule(rule)" style="font-size: 12px; height:25px;">Edit</button>
                  <button class="btn btn-xs btn-outline-danger" type="button" ng-click="deleteRule(rule)" style="font-size: 12px; height:25px;">Delete</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- .card-body -->
        <div class="pagination-footer">
          <dir-pagination-controls boundary-links="true" template-url="app/views/pagination.tpl.html" pagination-id="entriesPagination"
            on-page-change="">
          </dir-pagination-controls>
          <div class="tools" style="">
            <span>{{rulesPageConfig.totalCount}} items in total. </span>
            <span>
              <input class="form-control" ng-model="rulesPageConfig.pageSize"> items per page.
            </span>
            <!--<span>第 {{rulesPageConfig.currentPageIndex}} / {{rulesPageConfig.totalPage}} 页</span>-->
          </div>
          <!-- .tools -->
        </div>
        <!-- pagination-footer -->
      </div>
      <!-- .card -->
    </div>
    <!-- .col-md-12 -->
  </div>
  <!-- -->
</div>
<!-- .container-fluid -->
